<!doctype html><html lang=zh-cn><head prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article#"><meta charset=utf-8><meta name=generator content="Hugo 0.91.2"><meta name=theme-color content="#16171d"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=format-detection content="telephone=no, date=no, address=no, email=no"><meta http-equiv=cache-control content="no-transform"><meta http-equiv=cache-control content="no-siteapp"><title>16-20.Pythonè¯­è¨€è¿›é˜¶ | Hanxin</title><link rel=stylesheet href=/css/meme.min.88c90dc75021618344ec926f4ed6ac307f30ba48911294816b16370a41e5f137.css><script src=/js/meme.min.f460a174bb100a60a7e275913695161f1e09aab1378fe99cfd30cde14da70888.js></script>
<link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,400;0,500;0,700;1,400;1,700&family=Noto+Serif+SC:wght@400;500;700&family=Source+Code+Pro:ital,wght@0,400;0,700;1,400;1,700&family=Satisfy&family=Klee+One:wght@400;600&family=Great+Vibes&display=swap" media=print onload="this.media='all'"><noscript><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,400;0,500;0,700;1,400;1,700&family=Noto+Serif+SC:wght@400;500;700&family=Source+Code+Pro:ital,wght@0,400;0,700;1,400;1,700&family=Satisfy&family=Klee+One:wght@400;600&family=Great+Vibes&display=swap"></noscript><meta name=author content="éª†æ˜Š"><meta name=description content="Pythonè¯­è¨€è¿›é˜¶ é‡è¦çŸ¥è¯†ç‚¹ ç”Ÿæˆå¼ï¼ˆæ¨å¯¼å¼ï¼‰çš„ç”¨æ³• 1 2 3 4 5 6 7 8 9 10 11 12 prices = { 'AAPL':â€¦â€¦"><link rel="shortcut icon" href=/favicon.ico type=image/x-icon><link rel=mask-icon href=/icons/safari-pinned-tab.svg color=#2a6df4><link rel=apple-touch-icon sizes=180x180 href=/icons/apple-touch-icon.png><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-title content="Hanxin"><meta name=apple-mobile-web-app-status-bar-style content="black"><meta name=mobile-web-app-capable content="yes"><meta name=application-name content="Hanxin"><meta name=msapplication-starturl content="../../"><meta name=msapplication-TileColor content="#fff"><meta name=msapplication-TileImage content="../../icons/mstile-150x150.png"><link rel=manifest href=/manifest.json><link rel=canonical href=/python/16-20.python%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/><script type=application/ld+json>{"@context":"https://schema.org","@type":"WebPage","datePublished":"2021-08-23T17:34:48+08:00","dateModified":"2022-01-16T09:24:35+00:00","url":"/python/16-20.python%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/","name":"16-20.Pythonè¯­è¨€è¿›é˜¶","description":"Pythonè¯­è¨€è¿›é˜¶ é‡è¦çŸ¥è¯†ç‚¹ ç”Ÿæˆå¼ï¼ˆæ¨å¯¼å¼ï¼‰çš„ç”¨æ³• 1 2 3 4 5 6 7 8 9 10 11 12 prices = { 'AAPL':â€¦â€¦","image":"/icons/apple-touch-icon.png","license":"æœ¬æ–‡é‡‡ç”¨[ã€ŒCC BY-NC-SA 4.0ã€](https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh)åè®®ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚","publisher":{"@type":"Organization","name":"Hanxin","logo":{"@type":"ImageObject","url":"/icons/apple-touch-icon.png"},"url":"/"},"mainEntityOfPage":{"@type":"WebSite","@id":"/"}}</script><meta name=twitter:card content="summary"><meta property="og:title" content="16-20.Pythonè¯­è¨€è¿›é˜¶"><meta property="og:description" content="Pythonè¯­è¨€è¿›é˜¶ é‡è¦çŸ¥è¯†ç‚¹ ç”Ÿæˆå¼ï¼ˆæ¨å¯¼å¼ï¼‰çš„ç”¨æ³• 1 2 3 4 5 6 7 8 9 10 11 12 prices = { 'AAPL':â€¦â€¦"><meta property="og:url" content="/python/16-20.python%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/"><meta property="og:site_name" content="Hanxin"><meta property="og:locale" content="zh"><meta property="og:image" content="/icons/apple-touch-icon.png"><meta property="og:type" content="website"></head><body><div class=container><header class=header><div class=header-wrapper><div class="header-inner single"><div class=site-brand><a href=/ class=brand>Hanxin</a></div><nav class=nav><ul class=menu id=menu><li class=menu-item><a href=/life/><span class=menu-item-name>ç”Ÿæ´»</span></a></li><li class=menu-item><a href=/tech/><span class=menu-item-name>æŠ€æœ¯</span></a></li><li class=menu-item><a href=/tags/><span class=menu-item-name>æ ‡ç­¾</span></a></li><li class=menu-item><a href=/about/><span class=menu-item-name>å…³äº</span></a></li><li class=menu-item><a href=/blogroll/><span class=menu-item-name>å‹é“¾</span></a></li><li class=menu-item><a href=/python/><span class=menu-item-name>Python-100å¤©</span></a></li><li class=menu-item><a id=theme-switcher href=#><span class="icon theme-icon-light">ğŸŒ</span><span class="icon theme-icon-dark">ğŸŒ™</span></a></li></ul></nav></div></div><input type=checkbox id=nav-toggle aria-hidden=true>
<label for=nav-toggle class=nav-toggle></label>
<label for=nav-toggle class=nav-curtain></label></header><main class="main single" id=main><div class=main-inner><article class="content post h-entry" data-align=justify data-type=python data-toc-num=true><h1 class="post-title p-name">16-20.Pythonè¯­è¨€è¿›é˜¶</h1><div class=post-meta><time datetime=2021-08-23T17:34:48+08:00 class="post-meta-item published dt-published"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="icon post-meta-icon"><path d="M148 288h-40c-6.6.0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6.0 12 5.4 12 12v40c0 6.6-5.4 12-12 12zm108-12v-40c0-6.6-5.4-12-12-12h-40c-6.6.0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6.0 12-5.4 12-12zm96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6.0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6.0 12-5.4 12-12zm-96 96v-40c0-6.6-5.4-12-12-12h-40c-6.6.0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6.0 12-5.4 12-12zm-96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6.0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6.0 12-5.4 12-12zm192 0v-40c0-6.6-5.4-12-12-12h-40c-6.6.0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6.0 12-5.4 12-12zm96-260v352c0 26.5-21.5 48-48 48H48c-26.5.0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h48V12c0-6.6 5.4-12 12-12h40c6.6.0 12 5.4 12 12v52h128V12c0-6.6 5.4-12 12-12h40c6.6.0 12 5.4 12 12v52h48c26.5.0 48 21.5 48 48zm-48 346V160H48v298c0 3.3 2.7 6 6 6h340c3.3.0 6-2.7 6-6z"/></svg>&nbsp;2021.8.23</time>
<time datetime=2022-01-16T09:24:35+00:00 class="post-meta-item modified dt-updated"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="icon post-meta-icon"><path d="M4e2 64h-48V12c0-6.627-5.373-12-12-12h-40c-6.627.0-12 5.373-12 12v52H160V12c0-6.627-5.373-12-12-12h-40c-6.627.0-12 5.373-12 12v52H48C21.49 64 0 85.49.0 112v352c0 26.51 21.49 48 48 48h352c26.51.0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm-6 4e2H54a6 6 0 01-6-6V160h352v298a6 6 0 01-6 6zm-52.849-200.65L198.842 404.519c-4.705 4.667-12.303 4.637-16.971-.068l-75.091-75.699c-4.667-4.705-4.637-12.303.068-16.971l22.719-22.536c4.705-4.667 12.303-4.637 16.97.069l44.104 44.461 111.072-110.181c4.705-4.667 12.303-4.637 16.971.068l22.536 22.718c4.667 4.705 4.636 12.303-.069 16.97z"/></svg>&nbsp;2022.1.16</time>
<span class="post-meta-item wordcount"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon post-meta-icon"><path d="M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3.0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9.0l60.1 60.1c18.8 18.7 18.8 49.1.0 67.9zM284.2 99.8 21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3.0-17l-111-111c-4.8-4.7-12.4-4.7-17.1.0zM124.1 339.9c-5.5-5.5-5.5-14.3.0-19.8l154-154c5.5-5.5 14.3-5.5 19.8.0s5.5 14.3.0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8.0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"/></svg>&nbsp;12814</span>
<span class="post-meta-item reading-time"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon post-meta-icon"><path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5.0-2e2-89.5-2e2-2e2S145.5 56 256 56s2e2 89.5 2e2 2e2-89.5 2e2-2e2 2e2zm61.8-104.4-84.9-61.7c-3.1-2.3-4.9-5.9-4.9-9.7V116c0-6.6 5.4-12 12-12h32c6.6.0 12 5.4 12 12v141.7l66.8 48.6c5.4 3.9 6.5 11.4 2.6 16.8L334.6 349c-3.9 5.3-11.4 6.5-16.8 2.6z"/></svg>&nbsp;26&nbsp;åˆ†é’Ÿ</span></div><div class="post-body e-content"><h2 id=pythonè¯­è¨€è¿›é˜¶><a href=#pythonè¯­è¨€è¿›é˜¶ class=anchor-link>#</a>Pythonè¯­è¨€è¿›é˜¶</h2><h3 id=é‡è¦çŸ¥è¯†ç‚¹><a href=#é‡è¦çŸ¥è¯†ç‚¹ class=anchor-link>#</a>é‡è¦çŸ¥è¯†ç‚¹</h3><ul><li><p>ç”Ÿæˆå¼ï¼ˆæ¨å¯¼å¼ï¼‰çš„ç”¨æ³•</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Python data-lang=Python><span class=n>prices</span> <span class=o>=</span> <span class=p>{</span>
    <span class=s1>&#39;AAPL&#39;</span><span class=p>:</span> <span class=mf>191.88</span><span class=p>,</span>
    <span class=s1>&#39;GOOG&#39;</span><span class=p>:</span> <span class=mf>1186.96</span><span class=p>,</span>
    <span class=s1>&#39;IBM&#39;</span><span class=p>:</span> <span class=mf>149.24</span><span class=p>,</span>
    <span class=s1>&#39;ORCL&#39;</span><span class=p>:</span> <span class=mf>48.44</span><span class=p>,</span>
    <span class=s1>&#39;ACN&#39;</span><span class=p>:</span> <span class=mf>166.89</span><span class=p>,</span>
    <span class=s1>&#39;FB&#39;</span><span class=p>:</span> <span class=mf>208.09</span><span class=p>,</span>
    <span class=s1>&#39;SYMC&#39;</span><span class=p>:</span> <span class=mf>21.29</span>
<span class=p>}</span>
<span class=c1># ç”¨è‚¡ç¥¨ä»·æ ¼å¤§äº100å…ƒçš„è‚¡ç¥¨æ„é€ ä¸€ä¸ªæ–°çš„å­—å…¸</span>
<span class=n>prices2</span> <span class=o>=</span> <span class=p>{</span><span class=n>key</span><span class=p>:</span> <span class=n>value</span> <span class=k>for</span> <span class=n>key</span><span class=p>,</span> <span class=n>value</span> <span class=ow>in</span> <span class=n>prices</span><span class=o>.</span><span class=n>items</span><span class=p>()</span> <span class=k>if</span> <span class=n>value</span> <span class=o>&gt;</span> <span class=mi>100</span><span class=p>}</span>
<span class=nb>print</span><span class=p>(</span><span class=n>prices2</span><span class=p>)</span>
</code></pre></td></tr></table></div></div></div><blockquote><p>è¯´æ˜ï¼šç”Ÿæˆå¼ï¼ˆæ¨å¯¼å¼ï¼‰å¯ä»¥ç”¨æ¥ç”Ÿæˆåˆ—è¡¨ã€é›†åˆå’Œå­—å…¸ã€‚</p></blockquote></li><li><p>åµŒå¥—çš„åˆ—è¡¨çš„å‘</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Python data-lang=Python><span class=n>names</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;å…³ç¾½&#39;</span><span class=p>,</span> <span class=s1>&#39;å¼ é£&#39;</span><span class=p>,</span> <span class=s1>&#39;èµµäº‘&#39;</span><span class=p>,</span> <span class=s1>&#39;é©¬è¶…&#39;</span><span class=p>,</span> <span class=s1>&#39;é»„å¿ &#39;</span><span class=p>]</span>
<span class=n>courses</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;è¯­æ–‡&#39;</span><span class=p>,</span> <span class=s1>&#39;æ•°å­¦&#39;</span><span class=p>,</span> <span class=s1>&#39;è‹±è¯­&#39;</span><span class=p>]</span>
<span class=c1># å½•å…¥äº”ä¸ªå­¦ç”Ÿä¸‰é—¨è¯¾ç¨‹çš„æˆç»©</span>
<span class=c1># é”™è¯¯ - å‚è€ƒhttp://pythontutor.com/visualize.html#mode=edit</span>
<span class=c1># scores = [[None] * len(courses)] * len(names)</span>
<span class=n>scores</span> <span class=o>=</span> <span class=p>[[</span><span class=kc>None</span><span class=p>]</span> <span class=o>*</span> <span class=nb>len</span><span class=p>(</span><span class=n>courses</span><span class=p>)</span> <span class=k>for</span> <span class=n>_</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>names</span><span class=p>))]</span>
<span class=k>for</span> <span class=n>row</span><span class=p>,</span> <span class=n>name</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>names</span><span class=p>):</span>
    <span class=k>for</span> <span class=n>col</span><span class=p>,</span> <span class=n>course</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>courses</span><span class=p>):</span>
        <span class=n>scores</span><span class=p>[</span><span class=n>row</span><span class=p>][</span><span class=n>col</span><span class=p>]</span> <span class=o>=</span> <span class=nb>float</span><span class=p>(</span><span class=nb>input</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;è¯·è¾“å…¥</span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s1>çš„</span><span class=si>{</span><span class=n>course</span><span class=si>}</span><span class=s1>æˆç»©: &#39;</span><span class=p>))</span>
        <span class=nb>print</span><span class=p>(</span><span class=n>scores</span><span class=p>)</span>
</code></pre></td></tr></table></div></div></div><p><a href=http://pythontutor.com/ target=_blank rel=noopener>Python Tutor</a> - VISUALIZE CODE AND GET LIVE HELP</p></li><li><p><code>heapq</code>æ¨¡å—ï¼ˆå †æ’åºï¼‰</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Python data-lang=Python><span class=s2>&#34;&#34;&#34;
</span><span class=s2>ä»åˆ—è¡¨ä¸­æ‰¾å‡ºæœ€å¤§çš„æˆ–æœ€å°çš„Nä¸ªå…ƒç´ 
</span><span class=s2>å †ç»“æ„(å¤§æ ¹å †/å°æ ¹å †)
</span><span class=s2>&#34;&#34;&#34;</span>
<span class=kn>import</span> <span class=nn>heapq</span>

<span class=n>list1</span> <span class=o>=</span> <span class=p>[</span><span class=mi>34</span><span class=p>,</span> <span class=mi>25</span><span class=p>,</span> <span class=mi>12</span><span class=p>,</span> <span class=mi>99</span><span class=p>,</span> <span class=mi>87</span><span class=p>,</span> <span class=mi>63</span><span class=p>,</span> <span class=mi>58</span><span class=p>,</span> <span class=mi>78</span><span class=p>,</span> <span class=mi>88</span><span class=p>,</span> <span class=mi>92</span><span class=p>]</span>
<span class=n>list2</span> <span class=o>=</span> <span class=p>[</span>
    <span class=p>{</span><span class=s1>&#39;name&#39;</span><span class=p>:</span> <span class=s1>&#39;IBM&#39;</span><span class=p>,</span> <span class=s1>&#39;shares&#39;</span><span class=p>:</span> <span class=mi>100</span><span class=p>,</span> <span class=s1>&#39;price&#39;</span><span class=p>:</span> <span class=mf>91.1</span><span class=p>},</span>
    <span class=p>{</span><span class=s1>&#39;name&#39;</span><span class=p>:</span> <span class=s1>&#39;AAPL&#39;</span><span class=p>,</span> <span class=s1>&#39;shares&#39;</span><span class=p>:</span> <span class=mi>50</span><span class=p>,</span> <span class=s1>&#39;price&#39;</span><span class=p>:</span> <span class=mf>543.22</span><span class=p>},</span>
    <span class=p>{</span><span class=s1>&#39;name&#39;</span><span class=p>:</span> <span class=s1>&#39;FB&#39;</span><span class=p>,</span> <span class=s1>&#39;shares&#39;</span><span class=p>:</span> <span class=mi>200</span><span class=p>,</span> <span class=s1>&#39;price&#39;</span><span class=p>:</span> <span class=mf>21.09</span><span class=p>},</span>
    <span class=p>{</span><span class=s1>&#39;name&#39;</span><span class=p>:</span> <span class=s1>&#39;HPQ&#39;</span><span class=p>,</span> <span class=s1>&#39;shares&#39;</span><span class=p>:</span> <span class=mi>35</span><span class=p>,</span> <span class=s1>&#39;price&#39;</span><span class=p>:</span> <span class=mf>31.75</span><span class=p>},</span>
    <span class=p>{</span><span class=s1>&#39;name&#39;</span><span class=p>:</span> <span class=s1>&#39;YHOO&#39;</span><span class=p>,</span> <span class=s1>&#39;shares&#39;</span><span class=p>:</span> <span class=mi>45</span><span class=p>,</span> <span class=s1>&#39;price&#39;</span><span class=p>:</span> <span class=mf>16.35</span><span class=p>},</span>
    <span class=p>{</span><span class=s1>&#39;name&#39;</span><span class=p>:</span> <span class=s1>&#39;ACME&#39;</span><span class=p>,</span> <span class=s1>&#39;shares&#39;</span><span class=p>:</span> <span class=mi>75</span><span class=p>,</span> <span class=s1>&#39;price&#39;</span><span class=p>:</span> <span class=mf>115.65</span><span class=p>}</span>
<span class=p>]</span>
<span class=nb>print</span><span class=p>(</span><span class=n>heapq</span><span class=o>.</span><span class=n>nlargest</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=n>list1</span><span class=p>))</span>
<span class=nb>print</span><span class=p>(</span><span class=n>heapq</span><span class=o>.</span><span class=n>nsmallest</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=n>list1</span><span class=p>))</span>
<span class=nb>print</span><span class=p>(</span><span class=n>heapq</span><span class=o>.</span><span class=n>nlargest</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=n>list2</span><span class=p>,</span> <span class=n>key</span><span class=o>=</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=p>[</span><span class=s1>&#39;price&#39;</span><span class=p>]))</span>
<span class=nb>print</span><span class=p>(</span><span class=n>heapq</span><span class=o>.</span><span class=n>nlargest</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=n>list2</span><span class=p>,</span> <span class=n>key</span><span class=o>=</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=p>[</span><span class=s1>&#39;shares&#39;</span><span class=p>]))</span>
</code></pre></td></tr></table></div></div></div></li><li><p><code>itertools</code>æ¨¡å—</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Python data-lang=Python><span class=s2>&#34;&#34;&#34;
</span><span class=s2>è¿­ä»£å·¥å…·æ¨¡å—
</span><span class=s2>&#34;&#34;&#34;</span>
<span class=kn>import</span> <span class=nn>itertools</span>

<span class=c1># äº§ç”ŸABCDçš„å…¨æ’åˆ—</span>
<span class=n>itertools</span><span class=o>.</span><span class=n>permutations</span><span class=p>(</span><span class=s1>&#39;ABCD&#39;</span><span class=p>)</span>
<span class=c1># äº§ç”ŸABCDEçš„äº”é€‰ä¸‰ç»„åˆ</span>
<span class=n>itertools</span><span class=o>.</span><span class=n>combinations</span><span class=p>(</span><span class=s1>&#39;ABCDE&#39;</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>
<span class=c1># äº§ç”ŸABCDå’Œ123çš„ç¬›å¡å°”ç§¯</span>
<span class=n>itertools</span><span class=o>.</span><span class=n>product</span><span class=p>(</span><span class=s1>&#39;ABCD&#39;</span><span class=p>,</span> <span class=s1>&#39;123&#39;</span><span class=p>)</span>
<span class=c1># äº§ç”ŸABCçš„æ— é™å¾ªç¯åºåˆ—</span>
<span class=n>itertools</span><span class=o>.</span><span class=n>cycle</span><span class=p>((</span><span class=s1>&#39;A&#39;</span><span class=p>,</span> <span class=s1>&#39;B&#39;</span><span class=p>,</span> <span class=s1>&#39;C&#39;</span><span class=p>))</span>
</code></pre></td></tr></table></div></div></div></li><li><p><code>collections</code>æ¨¡å—</p><p>å¸¸ç”¨çš„å·¥å…·ç±»ï¼š</p><ul><li><code>namedtuple</code>ï¼šå‘½ä»¤å…ƒç»„ï¼Œå®ƒæ˜¯ä¸€ä¸ªç±»å·¥å‚ï¼Œæ¥å—ç±»å‹çš„åç§°å’Œå±æ€§åˆ—è¡¨æ¥åˆ›å»ºä¸€ä¸ªç±»ã€‚</li><li><code>deque</code>ï¼šåŒç«¯é˜Ÿåˆ—ï¼Œæ˜¯åˆ—è¡¨çš„æ›¿ä»£å®ç°ã€‚Pythonä¸­çš„åˆ—è¡¨åº•å±‚æ˜¯åŸºäºæ•°ç»„æ¥å®ç°çš„ï¼Œè€Œdequeåº•å±‚æ˜¯åŒå‘é“¾è¡¨ï¼Œå› æ­¤å½“ä½ éœ€è¦åœ¨å¤´å°¾æ·»åŠ å’Œåˆ é™¤å…ƒç´ æ˜¯ï¼Œdequeä¼šè¡¨ç°å‡ºæ›´å¥½çš„æ€§èƒ½ï¼Œæ¸è¿‘æ—¶é—´å¤æ‚åº¦ä¸º$O(1)$ã€‚</li><li><code>Counter</code>ï¼š<code>dict</code>çš„å­ç±»ï¼Œé”®æ˜¯å…ƒç´ ï¼Œå€¼æ˜¯å…ƒç´ çš„è®¡æ•°ï¼Œå®ƒçš„<code>most_common()</code>æ–¹æ³•å¯ä»¥å¸®åŠ©æˆ‘ä»¬è·å–å‡ºç°é¢‘ç‡æœ€é«˜çš„å…ƒç´ ã€‚<code>Counter</code>å’Œ<code>dict</code>çš„ç»§æ‰¿å…³ç³»æˆ‘è®¤ä¸ºæ˜¯å€¼å¾—å•†æ¦·çš„ï¼ŒæŒ‰ç…§CARPåŸåˆ™ï¼Œ<code>Counter</code>è·Ÿ<code>dict</code>çš„å…³ç³»åº”è¯¥è®¾è®¡ä¸ºå…³è”å…³ç³»æ›´ä¸ºåˆç†ã€‚</li><li><code>OrderedDict</code>ï¼š<code>dict</code>çš„å­ç±»ï¼Œå®ƒè®°å½•äº†é”®å€¼å¯¹æ’å…¥çš„é¡ºåºï¼Œçœ‹èµ·æ¥æ—¢æœ‰å­—å…¸çš„è¡Œä¸ºï¼Œä¹Ÿæœ‰é“¾è¡¨çš„è¡Œä¸ºã€‚</li><li><code>defaultdict</code>ï¼šç±»ä¼¼äºå­—å…¸ç±»å‹ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡é»˜è®¤çš„å·¥å‚å‡½æ•°æ¥è·å¾—é”®å¯¹åº”çš„é»˜è®¤å€¼ï¼Œç›¸æ¯”å­—å…¸ä¸­çš„<code>setdefault()</code>æ–¹æ³•ï¼Œè¿™ç§åšæ³•æ›´åŠ é«˜æ•ˆã€‚</li></ul><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Python data-lang=Python><span class=s2>&#34;&#34;&#34;
</span><span class=s2>æ‰¾å‡ºåºåˆ—ä¸­å‡ºç°æ¬¡æ•°æœ€å¤šçš„å…ƒç´ 
</span><span class=s2>&#34;&#34;&#34;</span>
<span class=kn>from</span> <span class=nn>collections</span> <span class=kn>import</span> <span class=n>Counter</span>

<span class=n>words</span> <span class=o>=</span> <span class=p>[</span>
    <span class=s1>&#39;look&#39;</span><span class=p>,</span> <span class=s1>&#39;into&#39;</span><span class=p>,</span> <span class=s1>&#39;my&#39;</span><span class=p>,</span> <span class=s1>&#39;eyes&#39;</span><span class=p>,</span> <span class=s1>&#39;look&#39;</span><span class=p>,</span> <span class=s1>&#39;into&#39;</span><span class=p>,</span> <span class=s1>&#39;my&#39;</span><span class=p>,</span> <span class=s1>&#39;eyes&#39;</span><span class=p>,</span>
    <span class=s1>&#39;the&#39;</span><span class=p>,</span> <span class=s1>&#39;eyes&#39;</span><span class=p>,</span> <span class=s1>&#39;the&#39;</span><span class=p>,</span> <span class=s1>&#39;eyes&#39;</span><span class=p>,</span> <span class=s1>&#39;the&#39;</span><span class=p>,</span> <span class=s1>&#39;eyes&#39;</span><span class=p>,</span> <span class=s1>&#39;not&#39;</span><span class=p>,</span> <span class=s1>&#39;around&#39;</span><span class=p>,</span>
    <span class=s1>&#39;the&#39;</span><span class=p>,</span> <span class=s1>&#39;eyes&#39;</span><span class=p>,</span> <span class=s2>&#34;don&#39;t&#34;</span><span class=p>,</span> <span class=s1>&#39;look&#39;</span><span class=p>,</span> <span class=s1>&#39;around&#39;</span><span class=p>,</span> <span class=s1>&#39;the&#39;</span><span class=p>,</span> <span class=s1>&#39;eyes&#39;</span><span class=p>,</span>
    <span class=s1>&#39;look&#39;</span><span class=p>,</span> <span class=s1>&#39;into&#39;</span><span class=p>,</span> <span class=s1>&#39;my&#39;</span><span class=p>,</span> <span class=s1>&#39;eyes&#39;</span><span class=p>,</span> <span class=s2>&#34;you&#39;re&#34;</span><span class=p>,</span> <span class=s1>&#39;under&#39;</span>
<span class=p>]</span>
<span class=n>counter</span> <span class=o>=</span> <span class=n>Counter</span><span class=p>(</span><span class=n>words</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>counter</span><span class=o>.</span><span class=n>most_common</span><span class=p>(</span><span class=mi>3</span><span class=p>))</span>
</code></pre></td></tr></table></div></div></div></li></ul><h3 id=æ•°æ®ç»“æ„å’Œç®—æ³•><a href=#æ•°æ®ç»“æ„å’Œç®—æ³• class=anchor-link>#</a>æ•°æ®ç»“æ„å’Œç®—æ³•</h3><ul><li><p>ç®—æ³•ï¼šè§£å†³é—®é¢˜çš„æ–¹æ³•å’Œæ­¥éª¤</p></li><li><p>è¯„ä»·ç®—æ³•çš„å¥½åï¼šæ¸è¿‘æ—¶é—´å¤æ‚åº¦å’Œæ¸è¿‘ç©ºé—´å¤æ‚åº¦ã€‚</p></li><li><p>æ¸è¿‘æ—¶é—´å¤æ‚åº¦çš„å¤§Oæ ‡è®°ï¼š</p><ul><li><img src=http://latex.codecogs.com/gif.latex?O(c)> - å¸¸é‡æ—¶é—´å¤æ‚åº¦ - å¸ƒéš†è¿‡æ»¤å™¨ / å“ˆå¸Œå­˜å‚¨</li><li><img src=http://latex.codecogs.com/gif.latex?O(log_2n)> - å¯¹æ•°æ—¶é—´å¤æ‚åº¦ - æŠ˜åŠæŸ¥æ‰¾ï¼ˆäºŒåˆ†æŸ¥æ‰¾ï¼‰</li><li><img src=http://latex.codecogs.com/gif.latex?O(n)> - çº¿æ€§æ—¶é—´å¤æ‚åº¦ - é¡ºåºæŸ¥æ‰¾ / è®¡æ•°æ’åº</li><li><img src=http://latex.codecogs.com/gif.latex?O(n*log_2n)> - å¯¹æ•°çº¿æ€§æ—¶é—´å¤æ‚åº¦ - é«˜çº§æ’åºç®—æ³•ï¼ˆå½’å¹¶æ’åºã€å¿«é€Ÿæ’åºï¼‰</li><li><img src=http://latex.codecogs.com/gif.latex?O(n^2)> - å¹³æ–¹æ—¶é—´å¤æ‚åº¦ - ç®€å•æ’åºç®—æ³•ï¼ˆé€‰æ‹©æ’åºã€æ’å…¥æ’åºã€å†’æ³¡æ’åºï¼‰</li><li><img src=http://latex.codecogs.com/gif.latex?O(n^3)> - ç«‹æ–¹æ—¶é—´å¤æ‚åº¦ - Floydç®—æ³• / çŸ©é˜µä¹˜æ³•è¿ç®—</li><li><img src=http://latex.codecogs.com/gif.latex?O(2^n)> - å‡ ä½•çº§æ•°æ—¶é—´å¤æ‚åº¦ - æ±‰è¯ºå¡”</li><li><img src=http://latex.codecogs.com/gif.latex?O(n!)> - é˜¶ä¹˜æ—¶é—´å¤æ‚åº¦ - æ—…è¡Œç»é”€å•†é—®é¢˜ - NPC</li></ul><p><img src=/res/algorithm_complexity_1.png alt></p><p><img src=/res/algorithm_complexity_2.png alt></p></li><li><p>æ’åºç®—æ³•ï¼ˆé€‰æ‹©ã€å†’æ³¡å’Œå½’å¹¶ï¼‰å’ŒæŸ¥æ‰¾ç®—æ³•ï¼ˆé¡ºåºå’ŒæŠ˜åŠï¼‰</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Python data-lang=Python><span class=k>def</span> <span class=nf>select_sort</span><span class=p>(</span><span class=n>items</span><span class=p>,</span> <span class=n>comp</span><span class=o>=</span><span class=k>lambda</span> <span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>:</span> <span class=n>x</span> <span class=o>&lt;</span> <span class=n>y</span><span class=p>):</span>
    <span class=s2>&#34;&#34;&#34;ç®€å•é€‰æ‹©æ’åº&#34;&#34;&#34;</span>
    <span class=n>items</span> <span class=o>=</span> <span class=n>items</span><span class=p>[:]</span>
    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>items</span><span class=p>)</span> <span class=o>-</span> <span class=mi>1</span><span class=p>):</span>
        <span class=n>min_index</span> <span class=o>=</span> <span class=n>i</span>
        <span class=k>for</span> <span class=n>j</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>i</span> <span class=o>+</span> <span class=mi>1</span><span class=p>,</span> <span class=nb>len</span><span class=p>(</span><span class=n>items</span><span class=p>)):</span>
            <span class=k>if</span> <span class=n>comp</span><span class=p>(</span><span class=n>items</span><span class=p>[</span><span class=n>j</span><span class=p>],</span> <span class=n>items</span><span class=p>[</span><span class=n>min_index</span><span class=p>]):</span>
                <span class=n>min_index</span> <span class=o>=</span> <span class=n>j</span>
        <span class=n>items</span><span class=p>[</span><span class=n>i</span><span class=p>],</span> <span class=n>items</span><span class=p>[</span><span class=n>min_index</span><span class=p>]</span> <span class=o>=</span> <span class=n>items</span><span class=p>[</span><span class=n>min_index</span><span class=p>],</span> <span class=n>items</span><span class=p>[</span><span class=n>i</span><span class=p>]</span>
    <span class=k>return</span> <span class=n>items</span>
</code></pre></td></tr></table></div></div></div><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Python data-lang=Python><span class=k>def</span> <span class=nf>bubble_sort</span><span class=p>(</span><span class=n>items</span><span class=p>,</span> <span class=n>comp</span><span class=o>=</span><span class=k>lambda</span> <span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>:</span> <span class=n>x</span> <span class=o>&gt;</span> <span class=n>y</span><span class=p>):</span>
    <span class=s2>&#34;&#34;&#34;å†’æ³¡æ’åº&#34;&#34;&#34;</span>
    <span class=n>items</span> <span class=o>=</span> <span class=n>items</span><span class=p>[:]</span>
    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>items</span><span class=p>)</span> <span class=o>-</span> <span class=mi>1</span><span class=p>):</span>
        <span class=n>swapped</span> <span class=o>=</span> <span class=kc>False</span>
        <span class=k>for</span> <span class=n>j</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>items</span><span class=p>)</span> <span class=o>-</span> <span class=mi>1</span> <span class=o>-</span> <span class=n>i</span><span class=p>):</span>
            <span class=k>if</span> <span class=n>comp</span><span class=p>(</span><span class=n>items</span><span class=p>[</span><span class=n>j</span><span class=p>],</span> <span class=n>items</span><span class=p>[</span><span class=n>j</span> <span class=o>+</span> <span class=mi>1</span><span class=p>]):</span>
                <span class=n>items</span><span class=p>[</span><span class=n>j</span><span class=p>],</span> <span class=n>items</span><span class=p>[</span><span class=n>j</span> <span class=o>+</span> <span class=mi>1</span><span class=p>]</span> <span class=o>=</span> <span class=n>items</span><span class=p>[</span><span class=n>j</span> <span class=o>+</span> <span class=mi>1</span><span class=p>],</span> <span class=n>items</span><span class=p>[</span><span class=n>j</span><span class=p>]</span>
                <span class=n>swapped</span> <span class=o>=</span> <span class=kc>True</span>
        <span class=k>if</span> <span class=ow>not</span> <span class=n>swapped</span><span class=p>:</span>
            <span class=k>break</span>
    <span class=k>return</span> <span class=n>items</span>
</code></pre></td></tr></table></div></div></div><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Python data-lang=Python><span class=k>def</span> <span class=nf>bubble_sort</span><span class=p>(</span><span class=n>items</span><span class=p>,</span> <span class=n>comp</span><span class=o>=</span><span class=k>lambda</span> <span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>:</span> <span class=n>x</span> <span class=o>&gt;</span> <span class=n>y</span><span class=p>):</span>
    <span class=s2>&#34;&#34;&#34;æ…æ‹Œæ’åº(å†’æ³¡æ’åºå‡çº§ç‰ˆ)&#34;&#34;&#34;</span>
    <span class=n>items</span> <span class=o>=</span> <span class=n>items</span><span class=p>[:]</span>
    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>items</span><span class=p>)</span> <span class=o>-</span> <span class=mi>1</span><span class=p>):</span>
        <span class=n>swapped</span> <span class=o>=</span> <span class=kc>False</span>
        <span class=k>for</span> <span class=n>j</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>items</span><span class=p>)</span> <span class=o>-</span> <span class=mi>1</span> <span class=o>-</span> <span class=n>i</span><span class=p>):</span>
            <span class=k>if</span> <span class=n>comp</span><span class=p>(</span><span class=n>items</span><span class=p>[</span><span class=n>j</span><span class=p>],</span> <span class=n>items</span><span class=p>[</span><span class=n>j</span> <span class=o>+</span> <span class=mi>1</span><span class=p>]):</span>
                <span class=n>items</span><span class=p>[</span><span class=n>j</span><span class=p>],</span> <span class=n>items</span><span class=p>[</span><span class=n>j</span> <span class=o>+</span> <span class=mi>1</span><span class=p>]</span> <span class=o>=</span> <span class=n>items</span><span class=p>[</span><span class=n>j</span> <span class=o>+</span> <span class=mi>1</span><span class=p>],</span> <span class=n>items</span><span class=p>[</span><span class=n>j</span><span class=p>]</span>
                <span class=n>swapped</span> <span class=o>=</span> <span class=kc>True</span>
        <span class=k>if</span> <span class=n>swapped</span><span class=p>:</span>
            <span class=n>swapped</span> <span class=o>=</span> <span class=kc>False</span>
            <span class=k>for</span> <span class=n>j</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>items</span><span class=p>)</span> <span class=o>-</span> <span class=mi>2</span> <span class=o>-</span> <span class=n>i</span><span class=p>,</span> <span class=n>i</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>):</span>
                <span class=k>if</span> <span class=n>comp</span><span class=p>(</span><span class=n>items</span><span class=p>[</span><span class=n>j</span> <span class=o>-</span> <span class=mi>1</span><span class=p>],</span> <span class=n>items</span><span class=p>[</span><span class=n>j</span><span class=p>]):</span>
                    <span class=n>items</span><span class=p>[</span><span class=n>j</span><span class=p>],</span> <span class=n>items</span><span class=p>[</span><span class=n>j</span> <span class=o>-</span> <span class=mi>1</span><span class=p>]</span> <span class=o>=</span> <span class=n>items</span><span class=p>[</span><span class=n>j</span> <span class=o>-</span> <span class=mi>1</span><span class=p>],</span> <span class=n>items</span><span class=p>[</span><span class=n>j</span><span class=p>]</span>
                    <span class=n>swapped</span> <span class=o>=</span> <span class=kc>True</span>
        <span class=k>if</span> <span class=ow>not</span> <span class=n>swapped</span><span class=p>:</span>
            <span class=k>break</span>
    <span class=k>return</span> <span class=n>items</span>
</code></pre></td></tr></table></div></div></div><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Python data-lang=Python><span class=k>def</span> <span class=nf>merge</span><span class=p>(</span><span class=n>items1</span><span class=p>,</span> <span class=n>items2</span><span class=p>,</span> <span class=n>comp</span><span class=o>=</span><span class=k>lambda</span> <span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>:</span> <span class=n>x</span> <span class=o>&lt;</span> <span class=n>y</span><span class=p>):</span>
    <span class=s2>&#34;&#34;&#34;åˆå¹¶(å°†ä¸¤ä¸ªæœ‰åºçš„åˆ—è¡¨åˆå¹¶æˆä¸€ä¸ªæœ‰åºçš„åˆ—è¡¨)&#34;&#34;&#34;</span>
    <span class=n>items</span> <span class=o>=</span> <span class=p>[]</span>
    <span class=n>index1</span><span class=p>,</span> <span class=n>index2</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span>
    <span class=k>while</span> <span class=n>index1</span> <span class=o>&lt;</span> <span class=nb>len</span><span class=p>(</span><span class=n>items1</span><span class=p>)</span> <span class=ow>and</span> <span class=n>index2</span> <span class=o>&lt;</span> <span class=nb>len</span><span class=p>(</span><span class=n>items2</span><span class=p>):</span>
        <span class=k>if</span> <span class=n>comp</span><span class=p>(</span><span class=n>items1</span><span class=p>[</span><span class=n>index1</span><span class=p>],</span> <span class=n>items2</span><span class=p>[</span><span class=n>index2</span><span class=p>]):</span>
            <span class=n>items</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>items1</span><span class=p>[</span><span class=n>index1</span><span class=p>])</span>
            <span class=n>index1</span> <span class=o>+=</span> <span class=mi>1</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=n>items</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>items2</span><span class=p>[</span><span class=n>index2</span><span class=p>])</span>
            <span class=n>index2</span> <span class=o>+=</span> <span class=mi>1</span>
    <span class=n>items</span> <span class=o>+=</span> <span class=n>items1</span><span class=p>[</span><span class=n>index1</span><span class=p>:]</span>
    <span class=n>items</span> <span class=o>+=</span> <span class=n>items2</span><span class=p>[</span><span class=n>index2</span><span class=p>:]</span>
    <span class=k>return</span> <span class=n>items</span>


<span class=k>def</span> <span class=nf>merge_sort</span><span class=p>(</span><span class=n>items</span><span class=p>,</span> <span class=n>comp</span><span class=o>=</span><span class=k>lambda</span> <span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>:</span> <span class=n>x</span> <span class=o>&lt;</span> <span class=n>y</span><span class=p>):</span>
    <span class=k>return</span> <span class=n>_merge_sort</span><span class=p>(</span><span class=nb>list</span><span class=p>(</span><span class=n>items</span><span class=p>),</span> <span class=n>comp</span><span class=p>)</span>


<span class=k>def</span> <span class=nf>_merge_sort</span><span class=p>(</span><span class=n>items</span><span class=p>,</span> <span class=n>comp</span><span class=p>):</span>
    <span class=s2>&#34;&#34;&#34;å½’å¹¶æ’åº&#34;&#34;&#34;</span>
    <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>items</span><span class=p>)</span> <span class=o>&lt;</span> <span class=mi>2</span><span class=p>:</span>
        <span class=k>return</span> <span class=n>items</span>
    <span class=n>mid</span> <span class=o>=</span> <span class=nb>len</span><span class=p>(</span><span class=n>items</span><span class=p>)</span> <span class=o>//</span> <span class=mi>2</span>
    <span class=n>left</span> <span class=o>=</span> <span class=n>_merge_sort</span><span class=p>(</span><span class=n>items</span><span class=p>[:</span><span class=n>mid</span><span class=p>],</span> <span class=n>comp</span><span class=p>)</span>
    <span class=n>right</span> <span class=o>=</span> <span class=n>_merge_sort</span><span class=p>(</span><span class=n>items</span><span class=p>[</span><span class=n>mid</span><span class=p>:],</span> <span class=n>comp</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>merge</span><span class=p>(</span><span class=n>left</span><span class=p>,</span> <span class=n>right</span><span class=p>,</span> <span class=n>comp</span><span class=p>)</span>
</code></pre></td></tr></table></div></div></div><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Python data-lang=Python><span class=k>def</span> <span class=nf>seq_search</span><span class=p>(</span><span class=n>items</span><span class=p>,</span> <span class=n>key</span><span class=p>):</span>
    <span class=s2>&#34;&#34;&#34;é¡ºåºæŸ¥æ‰¾&#34;&#34;&#34;</span>
    <span class=k>for</span> <span class=n>index</span><span class=p>,</span> <span class=n>item</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>items</span><span class=p>):</span>
        <span class=k>if</span> <span class=n>item</span> <span class=o>==</span> <span class=n>key</span><span class=p>:</span>
            <span class=k>return</span> <span class=n>index</span>
    <span class=k>return</span> <span class=o>-</span><span class=mi>1</span>
</code></pre></td></tr></table></div></div></div><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Python data-lang=Python><span class=k>def</span> <span class=nf>bin_search</span><span class=p>(</span><span class=n>items</span><span class=p>,</span> <span class=n>key</span><span class=p>):</span>
    <span class=s2>&#34;&#34;&#34;æŠ˜åŠæŸ¥æ‰¾&#34;&#34;&#34;</span>
    <span class=n>start</span><span class=p>,</span> <span class=n>end</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=nb>len</span><span class=p>(</span><span class=n>items</span><span class=p>)</span> <span class=o>-</span> <span class=mi>1</span>
    <span class=k>while</span> <span class=n>start</span> <span class=o>&lt;=</span> <span class=n>end</span><span class=p>:</span>
        <span class=n>mid</span> <span class=o>=</span> <span class=p>(</span><span class=n>start</span> <span class=o>+</span> <span class=n>end</span><span class=p>)</span> <span class=o>//</span> <span class=mi>2</span>
        <span class=k>if</span> <span class=n>key</span> <span class=o>&gt;</span> <span class=n>items</span><span class=p>[</span><span class=n>mid</span><span class=p>]:</span>
            <span class=n>start</span> <span class=o>=</span> <span class=n>mid</span> <span class=o>+</span> <span class=mi>1</span>
        <span class=k>elif</span> <span class=n>key</span> <span class=o>&lt;</span> <span class=n>items</span><span class=p>[</span><span class=n>mid</span><span class=p>]:</span>
            <span class=n>end</span> <span class=o>=</span> <span class=n>mid</span> <span class=o>-</span> <span class=mi>1</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=k>return</span> <span class=n>mid</span>
    <span class=k>return</span> <span class=o>-</span><span class=mi>1</span>
</code></pre></td></tr></table></div></div></div></li><li><p>å¸¸ç”¨ç®—æ³•ï¼š</p><ul><li>ç©·ä¸¾æ³• - åˆç§°ä¸ºæš´åŠ›ç ´è§£æ³•ï¼Œå¯¹æ‰€æœ‰çš„å¯èƒ½æ€§è¿›è¡ŒéªŒè¯ï¼Œç›´åˆ°æ‰¾åˆ°æ­£ç¡®ç­”æ¡ˆã€‚</li><li>è´ªå©ªæ³• - åœ¨å¯¹é—®é¢˜æ±‚è§£æ—¶ï¼Œæ€»æ˜¯åšå‡ºåœ¨å½“å‰çœ‹æ¥</li><li>æœ€å¥½çš„é€‰æ‹©ï¼Œä¸è¿½æ±‚æœ€ä¼˜è§£ï¼Œå¿«é€Ÿæ‰¾åˆ°æ»¡æ„è§£ã€‚</li><li>åˆ†æ²»æ³• - æŠŠä¸€ä¸ªå¤æ‚çš„é—®é¢˜åˆ†æˆä¸¤ä¸ªæˆ–æ›´å¤šçš„ç›¸åŒæˆ–ç›¸ä¼¼çš„å­é—®é¢˜ï¼Œå†æŠŠå­é—®é¢˜åˆ†æˆæ›´å°çš„å­é—®é¢˜ï¼Œç›´åˆ°å¯ä»¥ç›´æ¥æ±‚è§£çš„ç¨‹åº¦ï¼Œæœ€åå°†å­é—®é¢˜çš„è§£è¿›è¡Œåˆå¹¶å¾—åˆ°åŸé—®é¢˜çš„è§£ã€‚</li><li>å›æº¯æ³• - å›æº¯æ³•åˆç§°ä¸ºè¯•æ¢æ³•ï¼ŒæŒ‰é€‰ä¼˜æ¡ä»¶å‘å‰æœç´¢ï¼Œå½“æœç´¢åˆ°æŸä¸€æ­¥å‘ç°åŸå…ˆé€‰æ‹©å¹¶ä¸ä¼˜æˆ–è¾¾ä¸åˆ°ç›®æ ‡æ—¶ï¼Œå°±é€€å›ä¸€æ­¥é‡æ–°é€‰æ‹©ã€‚</li><li>åŠ¨æ€è§„åˆ’ - åŸºæœ¬æ€æƒ³ä¹Ÿæ˜¯å°†å¾…æ±‚è§£é—®é¢˜åˆ†è§£æˆè‹¥å¹²ä¸ªå­é—®é¢˜ï¼Œå…ˆæ±‚è§£å¹¶ä¿å­˜è¿™äº›å­é—®é¢˜çš„è§£ï¼Œé¿å…äº§ç”Ÿå¤§é‡çš„é‡å¤è¿ç®—ã€‚</li></ul><p>ç©·ä¸¾æ³•ä¾‹å­ï¼šç™¾é’±ç™¾é¸¡å’Œäº”äººåˆ†é±¼ã€‚</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Python data-lang=Python><span class=c1># å…¬é¸¡5å…ƒä¸€åª æ¯é¸¡3å…ƒä¸€åª å°é¸¡1å…ƒä¸‰åª</span>
<span class=c1># ç”¨100å…ƒä¹°100åªé¸¡ é—®å…¬é¸¡/æ¯é¸¡/å°é¸¡å„å¤šå°‘åª</span>
<span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>20</span><span class=p>):</span>
    <span class=k>for</span> <span class=n>y</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>33</span><span class=p>):</span>
        <span class=n>z</span> <span class=o>=</span> <span class=mi>100</span> <span class=o>-</span> <span class=n>x</span> <span class=o>-</span> <span class=n>y</span>
        <span class=k>if</span> <span class=mi>5</span> <span class=o>*</span> <span class=n>x</span> <span class=o>+</span> <span class=mi>3</span> <span class=o>*</span> <span class=n>y</span> <span class=o>+</span> <span class=n>z</span> <span class=o>//</span> <span class=mi>3</span> <span class=o>==</span> <span class=mi>100</span> <span class=ow>and</span> <span class=n>z</span> <span class=o>%</span> <span class=mi>3</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
            <span class=nb>print</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>,</span> <span class=n>z</span><span class=p>)</span>

<span class=c1># Aã€Bã€Cã€Dã€Eäº”äººåœ¨æŸå¤©å¤œé‡Œåˆä¼™æ•é±¼ æœ€åç–²æƒ«ä¸å ªå„è‡ªç¡è§‰</span>
<span class=c1># ç¬¬äºŒå¤©Aç¬¬ä¸€ä¸ªé†’æ¥ ä»–å°†é±¼åˆ†ä¸º5ä»½ æ‰”æ‰å¤šä½™çš„1æ¡ æ‹¿èµ°è‡ªå·±çš„ä¸€ä»½</span>
<span class=c1># Bç¬¬äºŒä¸ªé†’æ¥ ä¹Ÿå°†é±¼åˆ†ä¸º5ä»½ æ‰”æ‰å¤šä½™çš„1æ¡ æ‹¿èµ°è‡ªå·±çš„ä¸€ä»½</span>
<span class=c1># ç„¶åCã€Dã€Eä¾æ¬¡é†’æ¥ä¹ŸæŒ‰åŒæ ·çš„æ–¹å¼åˆ†é±¼ é—®ä»–ä»¬è‡³å°‘æ•äº†å¤šå°‘æ¡é±¼</span>
<span class=n>fish</span> <span class=o>=</span> <span class=mi>6</span>
<span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
    <span class=n>total</span> <span class=o>=</span> <span class=n>fish</span>
    <span class=n>enough</span> <span class=o>=</span> <span class=kc>True</span>
    <span class=k>for</span> <span class=n>_</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>5</span><span class=p>):</span>
        <span class=k>if</span> <span class=p>(</span><span class=n>total</span> <span class=o>-</span> <span class=mi>1</span><span class=p>)</span> <span class=o>%</span> <span class=mi>5</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
            <span class=n>total</span> <span class=o>=</span> <span class=p>(</span><span class=n>total</span> <span class=o>-</span> <span class=mi>1</span><span class=p>)</span> <span class=o>//</span> <span class=mi>5</span> <span class=o>*</span> <span class=mi>4</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=n>enough</span> <span class=o>=</span> <span class=kc>False</span>
            <span class=k>break</span>
    <span class=k>if</span> <span class=n>enough</span><span class=p>:</span>
        <span class=nb>print</span><span class=p>(</span><span class=n>fish</span><span class=p>)</span>
        <span class=k>break</span>
    <span class=n>fish</span> <span class=o>+=</span> <span class=mi>5</span>
</code></pre></td></tr></table></div></div></div><p>è´ªå©ªæ³•ä¾‹å­ï¼šå‡è®¾å°å·æœ‰ä¸€ä¸ªèƒŒåŒ…ï¼Œæœ€å¤šèƒ½è£…20å…¬æ–¤èµƒç‰©ï¼Œä»–é—¯å…¥ä¸€æˆ·äººå®¶ï¼Œå‘ç°å¦‚ä¸‹è¡¨æ‰€ç¤ºçš„ç‰©å“ã€‚å¾ˆæ˜¾ç„¶ï¼Œä»–ä¸èƒ½æŠŠæ‰€æœ‰ç‰©å“éƒ½è£…è¿›èƒŒåŒ…ï¼Œæ‰€ä»¥å¿…é¡»ç¡®å®šæ‹¿èµ°å“ªäº›ç‰©å“ï¼Œç•™ä¸‹å“ªäº›ç‰©å“ã€‚</p><div class=table-container><table><thead><tr><th style=text-align:center>åç§°</th><th style=text-align:center>ä»·æ ¼ï¼ˆç¾å…ƒï¼‰</th><th style=text-align:center>é‡é‡ï¼ˆkgï¼‰</th></tr></thead><tbody><tr><td style=text-align:center>ç”µè„‘</td><td style=text-align:center>200</td><td style=text-align:center>20</td></tr><tr><td style=text-align:center>æ”¶éŸ³æœº</td><td style=text-align:center>20</td><td style=text-align:center>4</td></tr><tr><td style=text-align:center>é’Ÿ</td><td style=text-align:center>175</td><td style=text-align:center>10</td></tr><tr><td style=text-align:center>èŠ±ç“¶</td><td style=text-align:center>50</td><td style=text-align:center>2</td></tr><tr><td style=text-align:center>ä¹¦</td><td style=text-align:center>10</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>æ²¹ç”»</td><td style=text-align:center>90</td><td style=text-align:center>9</td></tr></tbody></table></div><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Python data-lang=Python><span class=s2>&#34;&#34;&#34;
</span><span class=s2>è´ªå©ªæ³•ï¼šåœ¨å¯¹é—®é¢˜æ±‚è§£æ—¶ï¼Œæ€»æ˜¯åšå‡ºåœ¨å½“å‰çœ‹æ¥æ˜¯æœ€å¥½çš„é€‰æ‹©ï¼Œä¸è¿½æ±‚æœ€ä¼˜è§£ï¼Œå¿«é€Ÿæ‰¾åˆ°æ»¡æ„è§£ã€‚
</span><span class=s2>è¾“å…¥ï¼š
</span><span class=s2>20 6
</span><span class=s2>ç”µè„‘ 200 20
</span><span class=s2>æ”¶éŸ³æœº 20 4
</span><span class=s2>é’Ÿ 175 10
</span><span class=s2>èŠ±ç“¶ 50 2
</span><span class=s2>ä¹¦ 10 1
</span><span class=s2>æ²¹ç”» 90 9
</span><span class=s2>&#34;&#34;&#34;</span>
<span class=k>class</span> <span class=nc>Thing</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
    <span class=s2>&#34;&#34;&#34;ç‰©å“&#34;&#34;&#34;</span>

    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>price</span><span class=p>,</span> <span class=n>weight</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>price</span> <span class=o>=</span> <span class=n>price</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>weight</span> <span class=o>=</span> <span class=n>weight</span>

    <span class=nd>@property</span>
    <span class=k>def</span> <span class=nf>value</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=s2>&#34;&#34;&#34;ä»·æ ¼é‡é‡æ¯”&#34;&#34;&#34;</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>price</span> <span class=o>/</span> <span class=bp>self</span><span class=o>.</span><span class=n>weight</span>


<span class=k>def</span> <span class=nf>input_thing</span><span class=p>():</span>
    <span class=s2>&#34;&#34;&#34;è¾“å…¥ç‰©å“ä¿¡æ¯&#34;&#34;&#34;</span>
    <span class=n>name_str</span><span class=p>,</span> <span class=n>price_str</span><span class=p>,</span> <span class=n>weight_str</span> <span class=o>=</span> <span class=nb>input</span><span class=p>()</span><span class=o>.</span><span class=n>split</span><span class=p>()</span>
    <span class=k>return</span> <span class=n>name_str</span><span class=p>,</span> <span class=nb>int</span><span class=p>(</span><span class=n>price_str</span><span class=p>),</span> <span class=nb>int</span><span class=p>(</span><span class=n>weight_str</span><span class=p>)</span>


<span class=k>def</span> <span class=nf>main</span><span class=p>():</span>
    <span class=s2>&#34;&#34;&#34;ä¸»å‡½æ•°&#34;&#34;&#34;</span>
    <span class=n>max_weight</span><span class=p>,</span> <span class=n>num_of_things</span> <span class=o>=</span> <span class=nb>map</span><span class=p>(</span><span class=nb>int</span><span class=p>,</span> <span class=nb>input</span><span class=p>()</span><span class=o>.</span><span class=n>split</span><span class=p>())</span>
    <span class=n>all_things</span> <span class=o>=</span> <span class=p>[]</span>
    <span class=k>for</span> <span class=n>_</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>num_of_things</span><span class=p>):</span>
        <span class=n>all_things</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>Thing</span><span class=p>(</span><span class=o>*</span><span class=n>input_thing</span><span class=p>()))</span>
    <span class=n>all_things</span><span class=o>.</span><span class=n>sort</span><span class=p>(</span><span class=n>key</span><span class=o>=</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=o>.</span><span class=n>value</span><span class=p>,</span> <span class=n>reverse</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
    <span class=n>total_weight</span> <span class=o>=</span> <span class=mi>0</span>
    <span class=n>total_price</span> <span class=o>=</span> <span class=mi>0</span>
    <span class=k>for</span> <span class=n>thing</span> <span class=ow>in</span> <span class=n>all_things</span><span class=p>:</span>
        <span class=k>if</span> <span class=n>total_weight</span> <span class=o>+</span> <span class=n>thing</span><span class=o>.</span><span class=n>weight</span> <span class=o>&lt;=</span> <span class=n>max_weight</span><span class=p>:</span>
            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;å°å·æ‹¿èµ°äº†</span><span class=si>{</span><span class=n>thing</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s1>&#39;</span><span class=p>)</span>
            <span class=n>total_weight</span> <span class=o>+=</span> <span class=n>thing</span><span class=o>.</span><span class=n>weight</span>
            <span class=n>total_price</span> <span class=o>+=</span> <span class=n>thing</span><span class=o>.</span><span class=n>price</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;æ€»ä»·å€¼: </span><span class=si>{</span><span class=n>total_price</span><span class=si>}</span><span class=s1>ç¾å…ƒ&#39;</span><span class=p>)</span>


<span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
    <span class=n>main</span><span class=p>()</span>
</code></pre></td></tr></table></div></div></div><p>åˆ†æ²»æ³•ä¾‹å­ï¼š<a href=https://zh.wikipedia.org/zh/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F target=_blank rel=noopener>å¿«é€Ÿæ’åº</a>ã€‚</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Python data-lang=Python><span class=s2>&#34;&#34;&#34;
</span><span class=s2>å¿«é€Ÿæ’åº - é€‰æ‹©æ¢è½´å¯¹å…ƒç´ è¿›è¡Œåˆ’åˆ†ï¼Œå·¦è¾¹éƒ½æ¯”æ¢è½´å°å³è¾¹éƒ½æ¯”æ¢è½´å¤§
</span><span class=s2>&#34;&#34;&#34;</span>
<span class=k>def</span> <span class=nf>quick_sort</span><span class=p>(</span><span class=n>items</span><span class=p>,</span> <span class=n>comp</span><span class=o>=</span><span class=k>lambda</span> <span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>:</span> <span class=n>x</span> <span class=o>&lt;=</span> <span class=n>y</span><span class=p>):</span>
    <span class=n>items</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>items</span><span class=p>)[:]</span>
    <span class=n>_quick_sort</span><span class=p>(</span><span class=n>items</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=nb>len</span><span class=p>(</span><span class=n>items</span><span class=p>)</span> <span class=o>-</span> <span class=mi>1</span><span class=p>,</span> <span class=n>comp</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>items</span>


<span class=k>def</span> <span class=nf>_quick_sort</span><span class=p>(</span><span class=n>items</span><span class=p>,</span> <span class=n>start</span><span class=p>,</span> <span class=n>end</span><span class=p>,</span> <span class=n>comp</span><span class=p>):</span>
    <span class=k>if</span> <span class=n>start</span> <span class=o>&lt;</span> <span class=n>end</span><span class=p>:</span>
        <span class=n>pos</span> <span class=o>=</span> <span class=n>_partition</span><span class=p>(</span><span class=n>items</span><span class=p>,</span> <span class=n>start</span><span class=p>,</span> <span class=n>end</span><span class=p>,</span> <span class=n>comp</span><span class=p>)</span>
        <span class=n>_quick_sort</span><span class=p>(</span><span class=n>items</span><span class=p>,</span> <span class=n>start</span><span class=p>,</span> <span class=n>pos</span> <span class=o>-</span> <span class=mi>1</span><span class=p>,</span> <span class=n>comp</span><span class=p>)</span>
        <span class=n>_quick_sort</span><span class=p>(</span><span class=n>items</span><span class=p>,</span> <span class=n>pos</span> <span class=o>+</span> <span class=mi>1</span><span class=p>,</span> <span class=n>end</span><span class=p>,</span> <span class=n>comp</span><span class=p>)</span>


<span class=k>def</span> <span class=nf>_partition</span><span class=p>(</span><span class=n>items</span><span class=p>,</span> <span class=n>start</span><span class=p>,</span> <span class=n>end</span><span class=p>,</span> <span class=n>comp</span><span class=p>):</span>
    <span class=n>pivot</span> <span class=o>=</span> <span class=n>items</span><span class=p>[</span><span class=n>end</span><span class=p>]</span>
    <span class=n>i</span> <span class=o>=</span> <span class=n>start</span> <span class=o>-</span> <span class=mi>1</span>
    <span class=k>for</span> <span class=n>j</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>start</span><span class=p>,</span> <span class=n>end</span><span class=p>):</span>
        <span class=k>if</span> <span class=n>comp</span><span class=p>(</span><span class=n>items</span><span class=p>[</span><span class=n>j</span><span class=p>],</span> <span class=n>pivot</span><span class=p>):</span>
            <span class=n>i</span> <span class=o>+=</span> <span class=mi>1</span>
            <span class=n>items</span><span class=p>[</span><span class=n>i</span><span class=p>],</span> <span class=n>items</span><span class=p>[</span><span class=n>j</span><span class=p>]</span> <span class=o>=</span> <span class=n>items</span><span class=p>[</span><span class=n>j</span><span class=p>],</span> <span class=n>items</span><span class=p>[</span><span class=n>i</span><span class=p>]</span>
    <span class=n>items</span><span class=p>[</span><span class=n>i</span> <span class=o>+</span> <span class=mi>1</span><span class=p>],</span> <span class=n>items</span><span class=p>[</span><span class=n>end</span><span class=p>]</span> <span class=o>=</span> <span class=n>items</span><span class=p>[</span><span class=n>end</span><span class=p>],</span> <span class=n>items</span><span class=p>[</span><span class=n>i</span> <span class=o>+</span> <span class=mi>1</span><span class=p>]</span>
    <span class=k>return</span> <span class=n>i</span> <span class=o>+</span> <span class=mi>1</span>
</code></pre></td></tr></table></div></div></div><p>å›æº¯æ³•ä¾‹å­ï¼š<a href=https://zh.wikipedia.org/zh/%E9%AA%91%E5%A3%AB%E5%B7%A1%E9%80%BB target=_blank rel=noopener>éª‘å£«å·¡é€»</a>ã€‚</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Python data-lang=Python><span class=s2>&#34;&#34;&#34;
</span><span class=s2>é€’å½’å›æº¯æ³•ï¼šå«ç§°ä¸ºè¯•æ¢æ³•ï¼ŒæŒ‰é€‰ä¼˜æ¡ä»¶å‘å‰æœç´¢ï¼Œå½“æœç´¢åˆ°æŸä¸€æ­¥ï¼Œå‘ç°åŸå…ˆé€‰æ‹©å¹¶ä¸ä¼˜æˆ–è¾¾ä¸åˆ°ç›®æ ‡æ—¶ï¼Œå°±é€€å›ä¸€æ­¥é‡æ–°é€‰æ‹©ï¼Œæ¯”è¾ƒç»å…¸çš„é—®é¢˜åŒ…æ‹¬éª‘å£«å·¡é€»ã€å…«çš‡åå’Œè¿·å®«å¯»è·¯ç­‰ã€‚
</span><span class=s2>&#34;&#34;&#34;</span>
<span class=kn>import</span> <span class=nn>sys</span>
<span class=kn>import</span> <span class=nn>time</span>

<span class=n>SIZE</span> <span class=o>=</span> <span class=mi>5</span>
<span class=n>total</span> <span class=o>=</span> <span class=mi>0</span>


<span class=k>def</span> <span class=nf>print_board</span><span class=p>(</span><span class=n>board</span><span class=p>):</span>
    <span class=k>for</span> <span class=n>row</span> <span class=ow>in</span> <span class=n>board</span><span class=p>:</span>
        <span class=k>for</span> <span class=n>col</span> <span class=ow>in</span> <span class=n>row</span><span class=p>:</span>
            <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>col</span><span class=p>)</span><span class=o>.</span><span class=n>center</span><span class=p>(</span><span class=mi>4</span><span class=p>),</span> <span class=n>end</span><span class=o>=</span><span class=s1>&#39;&#39;</span><span class=p>)</span>
        <span class=nb>print</span><span class=p>()</span>


<span class=k>def</span> <span class=nf>patrol</span><span class=p>(</span><span class=n>board</span><span class=p>,</span> <span class=n>row</span><span class=p>,</span> <span class=n>col</span><span class=p>,</span> <span class=n>step</span><span class=o>=</span><span class=mi>1</span><span class=p>):</span>
    <span class=k>if</span> <span class=n>row</span> <span class=o>&gt;=</span> <span class=mi>0</span> <span class=ow>and</span> <span class=n>row</span> <span class=o>&lt;</span> <span class=n>SIZE</span> <span class=ow>and</span> \
        <span class=n>col</span> <span class=o>&gt;=</span> <span class=mi>0</span> <span class=ow>and</span> <span class=n>col</span> <span class=o>&lt;</span> <span class=n>SIZE</span> <span class=ow>and</span> \
        <span class=n>board</span><span class=p>[</span><span class=n>row</span><span class=p>][</span><span class=n>col</span><span class=p>]</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
        <span class=n>board</span><span class=p>[</span><span class=n>row</span><span class=p>][</span><span class=n>col</span><span class=p>]</span> <span class=o>=</span> <span class=n>step</span>
        <span class=k>if</span> <span class=n>step</span> <span class=o>==</span> <span class=n>SIZE</span> <span class=o>*</span> <span class=n>SIZE</span><span class=p>:</span>
            <span class=k>global</span> <span class=n>total</span>
            <span class=n>total</span> <span class=o>+=</span> <span class=mi>1</span>
            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;ç¬¬</span><span class=si>{</span><span class=n>total</span><span class=si>}</span><span class=s1>ç§èµ°æ³•: &#39;</span><span class=p>)</span>
            <span class=n>print_board</span><span class=p>(</span><span class=n>board</span><span class=p>)</span>
        <span class=n>patrol</span><span class=p>(</span><span class=n>board</span><span class=p>,</span> <span class=n>row</span> <span class=o>-</span> <span class=mi>2</span><span class=p>,</span> <span class=n>col</span> <span class=o>-</span> <span class=mi>1</span><span class=p>,</span> <span class=n>step</span> <span class=o>+</span> <span class=mi>1</span><span class=p>)</span>
        <span class=n>patrol</span><span class=p>(</span><span class=n>board</span><span class=p>,</span> <span class=n>row</span> <span class=o>-</span> <span class=mi>1</span><span class=p>,</span> <span class=n>col</span> <span class=o>-</span> <span class=mi>2</span><span class=p>,</span> <span class=n>step</span> <span class=o>+</span> <span class=mi>1</span><span class=p>)</span>
        <span class=n>patrol</span><span class=p>(</span><span class=n>board</span><span class=p>,</span> <span class=n>row</span> <span class=o>+</span> <span class=mi>1</span><span class=p>,</span> <span class=n>col</span> <span class=o>-</span> <span class=mi>2</span><span class=p>,</span> <span class=n>step</span> <span class=o>+</span> <span class=mi>1</span><span class=p>)</span>
        <span class=n>patrol</span><span class=p>(</span><span class=n>board</span><span class=p>,</span> <span class=n>row</span> <span class=o>+</span> <span class=mi>2</span><span class=p>,</span> <span class=n>col</span> <span class=o>-</span> <span class=mi>1</span><span class=p>,</span> <span class=n>step</span> <span class=o>+</span> <span class=mi>1</span><span class=p>)</span>
        <span class=n>patrol</span><span class=p>(</span><span class=n>board</span><span class=p>,</span> <span class=n>row</span> <span class=o>+</span> <span class=mi>2</span><span class=p>,</span> <span class=n>col</span> <span class=o>+</span> <span class=mi>1</span><span class=p>,</span> <span class=n>step</span> <span class=o>+</span> <span class=mi>1</span><span class=p>)</span>
        <span class=n>patrol</span><span class=p>(</span><span class=n>board</span><span class=p>,</span> <span class=n>row</span> <span class=o>+</span> <span class=mi>1</span><span class=p>,</span> <span class=n>col</span> <span class=o>+</span> <span class=mi>2</span><span class=p>,</span> <span class=n>step</span> <span class=o>+</span> <span class=mi>1</span><span class=p>)</span>
        <span class=n>patrol</span><span class=p>(</span><span class=n>board</span><span class=p>,</span> <span class=n>row</span> <span class=o>-</span> <span class=mi>1</span><span class=p>,</span> <span class=n>col</span> <span class=o>+</span> <span class=mi>2</span><span class=p>,</span> <span class=n>step</span> <span class=o>+</span> <span class=mi>1</span><span class=p>)</span>
        <span class=n>patrol</span><span class=p>(</span><span class=n>board</span><span class=p>,</span> <span class=n>row</span> <span class=o>-</span> <span class=mi>2</span><span class=p>,</span> <span class=n>col</span> <span class=o>+</span> <span class=mi>1</span><span class=p>,</span> <span class=n>step</span> <span class=o>+</span> <span class=mi>1</span><span class=p>)</span>
        <span class=n>board</span><span class=p>[</span><span class=n>row</span><span class=p>][</span><span class=n>col</span><span class=p>]</span> <span class=o>=</span> <span class=mi>0</span>


<span class=k>def</span> <span class=nf>main</span><span class=p>():</span>
    <span class=n>board</span> <span class=o>=</span> <span class=p>[[</span><span class=mi>0</span><span class=p>]</span> <span class=o>*</span> <span class=n>SIZE</span> <span class=k>for</span> <span class=n>_</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>SIZE</span><span class=p>)]</span>
    <span class=n>patrol</span><span class=p>(</span><span class=n>board</span><span class=p>,</span> <span class=n>SIZE</span> <span class=o>-</span> <span class=mi>1</span><span class=p>,</span> <span class=n>SIZE</span> <span class=o>-</span> <span class=mi>1</span><span class=p>)</span>


<span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
    <span class=n>main</span><span class=p>()</span>
</code></pre></td></tr></table></div></div></div><p>åŠ¨æ€è§„åˆ’ä¾‹å­ï¼šå­åˆ—è¡¨å…ƒç´ ä¹‹å’Œçš„æœ€å¤§å€¼ã€‚</p><blockquote><p>è¯´æ˜ï¼šå­åˆ—è¡¨æŒ‡çš„æ˜¯åˆ—è¡¨ä¸­ç´¢å¼•ï¼ˆä¸‹æ ‡ï¼‰è¿ç»­çš„å…ƒç´ æ„æˆçš„åˆ—è¡¨ï¼›åˆ—è¡¨ä¸­çš„å…ƒç´ æ˜¯intç±»å‹ï¼Œå¯èƒ½åŒ…å«æ­£æ•´æ•°ã€0ã€è´Ÿæ•´æ•°ï¼›ç¨‹åºè¾“å…¥åˆ—è¡¨ä¸­çš„å…ƒç´ ï¼Œè¾“å‡ºå­åˆ—è¡¨å…ƒç´ æ±‚å’Œçš„æœ€å¤§å€¼ï¼Œä¾‹å¦‚ï¼š</p><p>è¾“å…¥ï¼š1 -2 3 5 -3 2</p><p>è¾“å‡ºï¼š8</p><p>è¾“å…¥ï¼š0 -2 3 5 -1 2</p><p>è¾“å‡ºï¼š9</p><p>è¾“å…¥ï¼š-9 -2 -3 -5 -3</p><p>è¾“å‡ºï¼š-2</p></blockquote><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Python data-lang=Python><span class=k>def</span> <span class=nf>main</span><span class=p>():</span>
    <span class=n>items</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=nb>map</span><span class=p>(</span><span class=nb>int</span><span class=p>,</span> <span class=nb>input</span><span class=p>()</span><span class=o>.</span><span class=n>split</span><span class=p>()))</span>
    <span class=n>overall</span> <span class=o>=</span> <span class=n>partial</span> <span class=o>=</span> <span class=n>items</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>
    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=nb>len</span><span class=p>(</span><span class=n>items</span><span class=p>)):</span>
        <span class=n>partial</span> <span class=o>=</span> <span class=nb>max</span><span class=p>(</span><span class=n>items</span><span class=p>[</span><span class=n>i</span><span class=p>],</span> <span class=n>partial</span> <span class=o>+</span> <span class=n>items</span><span class=p>[</span><span class=n>i</span><span class=p>])</span>
        <span class=n>overall</span> <span class=o>=</span> <span class=nb>max</span><span class=p>(</span><span class=n>partial</span><span class=p>,</span> <span class=n>overall</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>overall</span><span class=p>)</span>


<span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
    <span class=n>main</span><span class=p>()</span>
</code></pre></td></tr></table></div></div></div><blockquote><p><strong>è¯´æ˜</strong>ï¼šè¿™ä¸ªé¢˜ç›®æœ€å®¹æ˜“æƒ³åˆ°çš„è§£æ³•æ˜¯ä½¿ç”¨äºŒé‡å¾ªç¯ï¼Œä½†æ˜¯ä»£ç çš„æ—¶é—´æ€§èƒ½å°†ä¼šå˜å¾—éå¸¸çš„ç³Ÿç³•ã€‚ä½¿ç”¨åŠ¨æ€è§„åˆ’çš„æ€æƒ³ï¼Œä»…ä»…æ˜¯å¤šç”¨äº†ä¸¤ä¸ªå˜é‡ï¼Œå°±å°†åŸæ¥$O(N^2)$å¤æ‚åº¦çš„é—®é¢˜å˜æˆäº†$O(N)$ã€‚</p></blockquote></li></ul><h3 id=å‡½æ•°çš„ä½¿ç”¨æ–¹å¼><a href=#å‡½æ•°çš„ä½¿ç”¨æ–¹å¼ class=anchor-link>#</a>å‡½æ•°çš„ä½¿ç”¨æ–¹å¼</h3><ul><li><p>å°†å‡½æ•°è§†ä¸ºâ€œä¸€ç­‰å…¬æ°‘â€</p><ul><li>å‡½æ•°å¯ä»¥èµ‹å€¼ç»™å˜é‡</li><li>å‡½æ•°å¯ä»¥ä½œä¸ºå‡½æ•°çš„å‚æ•°</li><li>å‡½æ•°å¯ä»¥ä½œä¸ºå‡½æ•°çš„è¿”å›å€¼</li></ul></li><li><p>é«˜é˜¶å‡½æ•°çš„ç”¨æ³•ï¼ˆ<code>filter</code>ã€<code>map</code>ä»¥åŠå®ƒä»¬çš„æ›¿ä»£å“ï¼‰</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Python data-lang=Python><span class=n>items1</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=nb>map</span><span class=p>(</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span> <span class=o>**</span> <span class=mi>2</span><span class=p>,</span> <span class=nb>filter</span><span class=p>(</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span> <span class=o>%</span> <span class=mi>2</span><span class=p>,</span> <span class=nb>range</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>10</span><span class=p>))))</span>
<span class=n>items2</span> <span class=o>=</span> <span class=p>[</span><span class=n>x</span> <span class=o>**</span> <span class=mi>2</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>10</span><span class=p>)</span> <span class=k>if</span> <span class=n>x</span> <span class=o>%</span> <span class=mi>2</span><span class=p>]</span>
</code></pre></td></tr></table></div></div></div></li><li><p>ä½ç½®å‚æ•°ã€å¯å˜å‚æ•°ã€å…³é”®å­—å‚æ•°ã€å‘½åå…³é”®å­—å‚æ•°</p></li><li><p>å‚æ•°çš„å…ƒä¿¡æ¯ï¼ˆä»£ç å¯è¯»æ€§é—®é¢˜ï¼‰</p></li><li><p>åŒ¿åå‡½æ•°å’Œå†…è”å‡½æ•°çš„ç”¨æ³•ï¼ˆ<code>lambda</code>å‡½æ•°ï¼‰</p></li><li><p>é—­åŒ…å’Œä½œç”¨åŸŸé—®é¢˜</p><ul><li><p>Pythonæœç´¢å˜é‡çš„LEGBé¡ºåºï¼ˆLocal >>> Embedded >>> Global >>> Built-inï¼‰</p></li><li><p><code>global</code>å’Œ<code>nonlocal</code>å…³é”®å­—çš„ä½œç”¨</p><p><code>global</code>ï¼šå£°æ˜æˆ–å®šä¹‰å…¨å±€å˜é‡ï¼ˆè¦ä¹ˆç›´æ¥ä½¿ç”¨ç°æœ‰çš„å…¨å±€ä½œç”¨åŸŸçš„å˜é‡ï¼Œè¦ä¹ˆå®šä¹‰ä¸€ä¸ªå˜é‡æ”¾åˆ°å…¨å±€ä½œç”¨åŸŸï¼‰ã€‚</p><p><code>nonlocal</code>ï¼šå£°æ˜ä½¿ç”¨åµŒå¥—ä½œç”¨åŸŸçš„å˜é‡ï¼ˆåµŒå¥—ä½œç”¨åŸŸå¿…é¡»å­˜åœ¨è¯¥å˜é‡ï¼Œå¦åˆ™æŠ¥é”™ï¼‰ã€‚</p></li></ul></li><li><p>è£…é¥°å™¨å‡½æ•°ï¼ˆä½¿ç”¨è£…é¥°å™¨å’Œå–æ¶ˆè£…é¥°å™¨ï¼‰</p><p>ä¾‹å­ï¼šè¾“å‡ºå‡½æ•°æ‰§è¡Œæ—¶é—´çš„è£…é¥°å™¨ã€‚</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Python data-lang=Python><span class=k>def</span> <span class=nf>record_time</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
    <span class=s2>&#34;&#34;&#34;è‡ªå®šä¹‰è£…é¥°å‡½æ•°çš„è£…é¥°å™¨&#34;&#34;&#34;</span>

    <span class=nd>@wraps</span><span class=p>(</span><span class=n>func</span><span class=p>)</span>
    <span class=k>def</span> <span class=nf>wrapper</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
        <span class=n>start</span> <span class=o>=</span> <span class=n>time</span><span class=p>()</span>
        <span class=n>result</span> <span class=o>=</span> <span class=n>func</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;</span><span class=si>{</span><span class=n>func</span><span class=o>.</span><span class=vm>__name__</span><span class=si>}</span><span class=s1>: </span><span class=si>{</span><span class=n>time</span><span class=p>()</span> <span class=o>-</span> <span class=n>start</span><span class=si>}</span><span class=s1>ç§’&#39;</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>result</span>

    <span class=k>return</span> <span class=n>wrapper</span>
</code></pre></td></tr></table></div></div></div><p>å¦‚æœè£…é¥°å™¨ä¸å¸Œæœ›è·Ÿ<code>print</code>å‡½æ•°è€¦åˆï¼Œå¯ä»¥ç¼–å†™å¯ä»¥å‚æ•°åŒ–çš„è£…é¥°å™¨ã€‚</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Python data-lang=Python><span class=kn>from</span> <span class=nn>functools</span> <span class=kn>import</span> <span class=n>wraps</span>
<span class=kn>from</span> <span class=nn>time</span> <span class=kn>import</span> <span class=n>time</span>


<span class=k>def</span> <span class=nf>record</span><span class=p>(</span><span class=n>output</span><span class=p>):</span>
    <span class=s2>&#34;&#34;&#34;å¯ä»¥å‚æ•°åŒ–çš„è£…é¥°å™¨&#34;&#34;&#34;</span>

	<span class=k>def</span> <span class=nf>decorate</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>

		<span class=nd>@wraps</span><span class=p>(</span><span class=n>func</span><span class=p>)</span>
		<span class=k>def</span> <span class=nf>wrapper</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
			<span class=n>start</span> <span class=o>=</span> <span class=n>time</span><span class=p>()</span>
			<span class=n>result</span> <span class=o>=</span> <span class=n>func</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
			<span class=n>output</span><span class=p>(</span><span class=n>func</span><span class=o>.</span><span class=vm>__name__</span><span class=p>,</span> <span class=n>time</span><span class=p>()</span> <span class=o>-</span> <span class=n>start</span><span class=p>)</span>
			<span class=k>return</span> <span class=n>result</span>

		<span class=k>return</span> <span class=n>wrapper</span>

	<span class=k>return</span> <span class=n>decorate</span>
</code></pre></td></tr></table></div></div></div><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Python data-lang=Python><span class=kn>from</span> <span class=nn>functools</span> <span class=kn>import</span> <span class=n>wraps</span>
<span class=kn>from</span> <span class=nn>time</span> <span class=kn>import</span> <span class=n>time</span>


<span class=k>class</span> <span class=nc>Record</span><span class=p>():</span>
    <span class=s2>&#34;&#34;&#34;é€šè¿‡å®šä¹‰ç±»çš„æ–¹å¼å®šä¹‰è£…é¥°å™¨&#34;&#34;&#34;</span>

    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>output</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>output</span> <span class=o>=</span> <span class=n>output</span>

    <span class=k>def</span> <span class=fm>__call__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>func</span><span class=p>):</span>

        <span class=nd>@wraps</span><span class=p>(</span><span class=n>func</span><span class=p>)</span>
        <span class=k>def</span> <span class=nf>wrapper</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
            <span class=n>start</span> <span class=o>=</span> <span class=n>time</span><span class=p>()</span>
            <span class=n>result</span> <span class=o>=</span> <span class=n>func</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>output</span><span class=p>(</span><span class=n>func</span><span class=o>.</span><span class=vm>__name__</span><span class=p>,</span> <span class=n>time</span><span class=p>()</span> <span class=o>-</span> <span class=n>start</span><span class=p>)</span>
            <span class=k>return</span> <span class=n>result</span>

        <span class=k>return</span> <span class=n>wrapper</span>
</code></pre></td></tr></table></div></div></div><blockquote><p><strong>è¯´æ˜</strong>ï¼šç”±äºå¯¹å¸¦è£…é¥°åŠŸèƒ½çš„å‡½æ•°æ·»åŠ äº†@wrapsè£…é¥°å™¨ï¼Œå¯ä»¥é€šè¿‡<code>func.__wrapped__</code>æ–¹å¼è·å¾—è¢«è£…é¥°ä¹‹å‰çš„å‡½æ•°æˆ–ç±»æ¥å–æ¶ˆè£…é¥°å™¨çš„ä½œç”¨ã€‚</p></blockquote><p>ä¾‹å­ï¼šç”¨è£…é¥°å™¨æ¥å®ç°å•ä¾‹æ¨¡å¼ã€‚</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Python data-lang=Python><span class=kn>from</span> <span class=nn>functools</span> <span class=kn>import</span> <span class=n>wraps</span>


<span class=k>def</span> <span class=nf>singleton</span><span class=p>(</span><span class=bp>cls</span><span class=p>):</span>
    <span class=s2>&#34;&#34;&#34;è£…é¥°ç±»çš„è£…é¥°å™¨&#34;&#34;&#34;</span>
    <span class=n>instances</span> <span class=o>=</span> <span class=p>{}</span>

    <span class=nd>@wraps</span><span class=p>(</span><span class=bp>cls</span><span class=p>)</span>
    <span class=k>def</span> <span class=nf>wrapper</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
        <span class=k>if</span> <span class=bp>cls</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>instances</span><span class=p>:</span>
            <span class=n>instances</span><span class=p>[</span><span class=bp>cls</span><span class=p>]</span> <span class=o>=</span> <span class=bp>cls</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>instances</span><span class=p>[</span><span class=bp>cls</span><span class=p>]</span>

    <span class=k>return</span> <span class=n>wrapper</span>


<span class=nd>@singleton</span>
<span class=k>class</span> <span class=nc>President</span><span class=p>:</span>
    <span class=s2>&#34;&#34;&#34;æ€»ç»Ÿ(å•ä¾‹ç±»)&#34;&#34;&#34;</span>
    <span class=k>pass</span>
</code></pre></td></tr></table></div></div></div><blockquote><p><strong>æç¤º</strong>ï¼šä¸Šé¢çš„ä»£ç ä¸­ç”¨åˆ°äº†é—­åŒ…ï¼ˆclosureï¼‰ï¼Œä¸çŸ¥é“ä½ æ˜¯å¦å·²ç»æ„è¯†åˆ°äº†ã€‚è¿˜æ²¡æœ‰ä¸€ä¸ªå°é—®é¢˜å°±æ˜¯ï¼Œä¸Šé¢çš„ä»£ç å¹¶æ²¡æœ‰å®ç°çº¿ç¨‹å®‰å…¨çš„å•ä¾‹ï¼Œå¦‚æœè¦å®ç°çº¿ç¨‹å®‰å…¨çš„å•ä¾‹åº”è¯¥æ€ä¹ˆåšå‘¢ï¼Ÿ</p></blockquote><p>çº¿ç¨‹å®‰å…¨çš„å•ä¾‹è£…é¥°å™¨ã€‚</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Python data-lang=Python><span class=kn>from</span> <span class=nn>functools</span> <span class=kn>import</span> <span class=n>wraps</span>
<span class=kn>from</span> <span class=nn>threading</span> <span class=kn>import</span> <span class=n>RLock</span>


<span class=k>def</span> <span class=nf>singleton</span><span class=p>(</span><span class=bp>cls</span><span class=p>):</span>
    <span class=s2>&#34;&#34;&#34;çº¿ç¨‹å®‰å…¨çš„å•ä¾‹è£…é¥°å™¨&#34;&#34;&#34;</span>
    <span class=n>instances</span> <span class=o>=</span> <span class=p>{}</span>
    <span class=n>locker</span> <span class=o>=</span> <span class=n>RLock</span><span class=p>()</span>

    <span class=nd>@wraps</span><span class=p>(</span><span class=bp>cls</span><span class=p>)</span>
    <span class=k>def</span> <span class=nf>wrapper</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
        <span class=k>if</span> <span class=bp>cls</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>instances</span><span class=p>:</span>
            <span class=k>with</span> <span class=n>locker</span><span class=p>:</span>
                <span class=k>if</span> <span class=bp>cls</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>instances</span><span class=p>:</span>
                    <span class=n>instances</span><span class=p>[</span><span class=bp>cls</span><span class=p>]</span> <span class=o>=</span> <span class=bp>cls</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>instances</span><span class=p>[</span><span class=bp>cls</span><span class=p>]</span>

    <span class=k>return</span> <span class=n>wrapper</span>
</code></pre></td></tr></table></div></div></div><blockquote><p><strong>æç¤º</strong>ï¼šä¸Šé¢çš„ä»£ç ç”¨åˆ°äº†<code>with</code>ä¸Šä¸‹æ–‡è¯­æ³•æ¥è¿›è¡Œé”æ“ä½œï¼Œå› ä¸ºé”å¯¹è±¡æœ¬èº«å°±æ˜¯ä¸Šä¸‹æ–‡ç®¡ç†å™¨å¯¹è±¡ï¼ˆæ”¯æŒ<code>__enter__</code>å’Œ<code>__exit__</code>é­”æœ¯æ–¹æ³•ï¼‰ã€‚åœ¨<code>wrapper</code>å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬å…ˆåšäº†ä¸€æ¬¡ä¸å¸¦é”çš„æ£€æŸ¥ï¼Œç„¶åå†åšå¸¦é”çš„æ£€æŸ¥ï¼Œè¿™æ ·åšæ¯”ç›´æ¥åŠ é”æ£€æŸ¥æ€§èƒ½è¦æ›´å¥½ï¼Œå¦‚æœå¯¹è±¡å·²ç»åˆ›å»ºå°±æ²¡æœ‰å¿…é¡»å†å»åŠ é”è€Œæ˜¯ç›´æ¥è¿”å›è¯¥å¯¹è±¡å°±å¯ä»¥äº†ã€‚</p></blockquote></li></ul><h3 id=é¢å‘å¯¹è±¡ç›¸å…³çŸ¥è¯†><a href=#é¢å‘å¯¹è±¡ç›¸å…³çŸ¥è¯† class=anchor-link>#</a>é¢å‘å¯¹è±¡ç›¸å…³çŸ¥è¯†</h3><ul><li><p>ä¸‰å¤§æ”¯æŸ±ï¼šå°è£…ã€ç»§æ‰¿ã€å¤šæ€</p><p>ä¾‹å­ï¼šå·¥èµ„ç»“ç®—ç³»ç»Ÿã€‚</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span><span class=lnt>66
</span><span class=lnt>67
</span><span class=lnt>68
</span><span class=lnt>69
</span><span class=lnt>70
</span><span class=lnt>71
</span><span class=lnt>72
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Python data-lang=Python><span class=s2>&#34;&#34;&#34;
</span><span class=s2>æœˆè–ªç»“ç®—ç³»ç»Ÿ - éƒ¨é—¨ç»ç†æ¯æœˆ15000 ç¨‹åºå‘˜æ¯å°æ—¶200 é”€å”®å‘˜1800åº•è–ªåŠ é”€å”®é¢5%ææˆ
</span><span class=s2>&#34;&#34;&#34;</span>
<span class=kn>from</span> <span class=nn>abc</span> <span class=kn>import</span> <span class=n>ABCMeta</span><span class=p>,</span> <span class=n>abstractmethod</span>


<span class=k>class</span> <span class=nc>Employee</span><span class=p>(</span><span class=n>metaclass</span><span class=o>=</span><span class=n>ABCMeta</span><span class=p>):</span>
    <span class=s2>&#34;&#34;&#34;å‘˜å·¥(æŠ½è±¡ç±»)&#34;&#34;&#34;</span>

    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>

    <span class=nd>@abstractmethod</span>
    <span class=k>def</span> <span class=nf>get_salary</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=s2>&#34;&#34;&#34;ç»“ç®—æœˆè–ª(æŠ½è±¡æ–¹æ³•)&#34;&#34;&#34;</span>
        <span class=k>pass</span>


<span class=k>class</span> <span class=nc>Manager</span><span class=p>(</span><span class=n>Employee</span><span class=p>):</span>
    <span class=s2>&#34;&#34;&#34;éƒ¨é—¨ç»ç†&#34;&#34;&#34;</span>

    <span class=k>def</span> <span class=nf>get_salary</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>return</span> <span class=mf>15000.0</span>


<span class=k>class</span> <span class=nc>Programmer</span><span class=p>(</span><span class=n>Employee</span><span class=p>):</span>
    <span class=s2>&#34;&#34;&#34;ç¨‹åºå‘˜&#34;&#34;&#34;</span>

    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>working_hour</span><span class=o>=</span><span class=mi>0</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>working_hour</span> <span class=o>=</span> <span class=n>working_hour</span>
        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=n>name</span><span class=p>)</span>

    <span class=k>def</span> <span class=nf>get_salary</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>return</span> <span class=mf>200.0</span> <span class=o>*</span> <span class=bp>self</span><span class=o>.</span><span class=n>working_hour</span>


<span class=k>class</span> <span class=nc>Salesman</span><span class=p>(</span><span class=n>Employee</span><span class=p>):</span>
    <span class=s2>&#34;&#34;&#34;é”€å”®å‘˜&#34;&#34;&#34;</span>

    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>sales</span><span class=o>=</span><span class=mf>0.0</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>sales</span> <span class=o>=</span> <span class=n>sales</span>
        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=n>name</span><span class=p>)</span>

    <span class=k>def</span> <span class=nf>get_salary</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>return</span> <span class=mf>1800.0</span> <span class=o>+</span> <span class=bp>self</span><span class=o>.</span><span class=n>sales</span> <span class=o>*</span> <span class=mf>0.05</span>


<span class=k>class</span> <span class=nc>EmployeeFactory</span><span class=p>:</span>
    <span class=s2>&#34;&#34;&#34;åˆ›å»ºå‘˜å·¥çš„å·¥å‚ï¼ˆå·¥å‚æ¨¡å¼ - é€šè¿‡å·¥å‚å®ç°å¯¹è±¡ä½¿ç”¨è€…å’Œå¯¹è±¡ä¹‹é—´çš„è§£è€¦åˆï¼‰&#34;&#34;&#34;</span>

    <span class=nd>@staticmethod</span>
    <span class=k>def</span> <span class=nf>create</span><span class=p>(</span><span class=n>emp_type</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
        <span class=s2>&#34;&#34;&#34;åˆ›å»ºå‘˜å·¥&#34;&#34;&#34;</span>
        <span class=n>all_emp_types</span> <span class=o>=</span> <span class=p>{</span><span class=s1>&#39;M&#39;</span><span class=p>:</span> <span class=n>Manager</span><span class=p>,</span> <span class=s1>&#39;P&#39;</span><span class=p>:</span> <span class=n>Programmer</span><span class=p>,</span> <span class=s1>&#39;S&#39;</span><span class=p>:</span> <span class=n>Salesman</span><span class=p>}</span>
        <span class=bp>cls</span> <span class=o>=</span> <span class=n>all_emp_types</span><span class=p>[</span><span class=n>emp_type</span><span class=o>.</span><span class=n>upper</span><span class=p>()]</span>
        <span class=k>return</span> <span class=bp>cls</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span> <span class=k>if</span> <span class=bp>cls</span> <span class=k>else</span> <span class=kc>None</span>


<span class=k>def</span> <span class=nf>main</span><span class=p>():</span>
    <span class=s2>&#34;&#34;&#34;ä¸»å‡½æ•°&#34;&#34;&#34;</span>
    <span class=n>emps</span> <span class=o>=</span> <span class=p>[</span>
        <span class=n>EmployeeFactory</span><span class=o>.</span><span class=n>create</span><span class=p>(</span><span class=s1>&#39;M&#39;</span><span class=p>,</span> <span class=s1>&#39;æ›¹æ“&#39;</span><span class=p>),</span> 
        <span class=n>EmployeeFactory</span><span class=o>.</span><span class=n>create</span><span class=p>(</span><span class=s1>&#39;P&#39;</span><span class=p>,</span> <span class=s1>&#39;è€å½§&#39;</span><span class=p>,</span> <span class=mi>120</span><span class=p>),</span>
        <span class=n>EmployeeFactory</span><span class=o>.</span><span class=n>create</span><span class=p>(</span><span class=s1>&#39;P&#39;</span><span class=p>,</span> <span class=s1>&#39;éƒ­å˜‰&#39;</span><span class=p>,</span> <span class=mi>85</span><span class=p>),</span> 
        <span class=n>EmployeeFactory</span><span class=o>.</span><span class=n>create</span><span class=p>(</span><span class=s1>&#39;S&#39;</span><span class=p>,</span> <span class=s1>&#39;å…¸éŸ¦&#39;</span><span class=p>,</span> <span class=mi>123000</span><span class=p>),</span>
    <span class=p>]</span>
    <span class=k>for</span> <span class=n>emp</span> <span class=ow>in</span> <span class=n>emps</span><span class=p>:</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;</span><span class=si>{</span><span class=n>emp</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s1>: </span><span class=si>{</span><span class=n>emp</span><span class=o>.</span><span class=n>get_salary</span><span class=p>()</span><span class=si>:</span><span class=s1>.2f</span><span class=si>}</span><span class=s1>å…ƒ&#39;</span><span class=p>)</span>


<span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
    <span class=n>main</span><span class=p>()</span>
</code></pre></td></tr></table></div></div></div></li><li><p>ç±»ä¸ç±»ä¹‹é—´çš„å…³ç³»</p><ul><li>is-aå…³ç³»ï¼šç»§æ‰¿</li><li>has-aå…³ç³»ï¼šå…³è” / èšåˆ / åˆæˆ</li><li>use-aå…³ç³»ï¼šä¾èµ–</li></ul><p>ä¾‹å­ï¼šæ‰‘å…‹æ¸¸æˆã€‚</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span><span class=lnt>66
</span><span class=lnt>67
</span><span class=lnt>68
</span><span class=lnt>69
</span><span class=lnt>70
</span><span class=lnt>71
</span><span class=lnt>72
</span><span class=lnt>73
</span><span class=lnt>74
</span><span class=lnt>75
</span><span class=lnt>76
</span><span class=lnt>77
</span><span class=lnt>78
</span><span class=lnt>79
</span><span class=lnt>80
</span><span class=lnt>81
</span><span class=lnt>82
</span><span class=lnt>83
</span><span class=lnt>84
</span><span class=lnt>85
</span><span class=lnt>86
</span><span class=lnt>87
</span><span class=lnt>88
</span><span class=lnt>89
</span><span class=lnt>90
</span><span class=lnt>91
</span><span class=lnt>92
</span><span class=lnt>93
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Python data-lang=Python><span class=s2>&#34;&#34;&#34;
</span><span class=s2>ç»éªŒï¼šç¬¦å·å¸¸é‡æ€»æ˜¯ä¼˜äºå­—é¢å¸¸é‡ï¼Œæšä¸¾ç±»å‹æ˜¯å®šä¹‰ç¬¦å·å¸¸é‡çš„æœ€ä½³é€‰æ‹©
</span><span class=s2>&#34;&#34;&#34;</span>
<span class=kn>from</span> <span class=nn>enum</span> <span class=kn>import</span> <span class=n>Enum</span><span class=p>,</span> <span class=n>unique</span>

<span class=kn>import</span> <span class=nn>random</span>


<span class=nd>@unique</span>
<span class=k>class</span> <span class=nc>Suite</span><span class=p>(</span><span class=n>Enum</span><span class=p>):</span>
    <span class=s2>&#34;&#34;&#34;èŠ±è‰²&#34;&#34;&#34;</span>

    <span class=n>SPADE</span><span class=p>,</span> <span class=n>HEART</span><span class=p>,</span> <span class=n>CLUB</span><span class=p>,</span> <span class=n>DIAMOND</span> <span class=o>=</span> <span class=nb>range</span><span class=p>(</span><span class=mi>4</span><span class=p>)</span>

    <span class=k>def</span> <span class=fm>__lt__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>other</span><span class=p>):</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>value</span> <span class=o>&lt;</span> <span class=n>other</span><span class=o>.</span><span class=n>value</span>


<span class=k>class</span> <span class=nc>Card</span><span class=p>():</span>
    <span class=s2>&#34;&#34;&#34;ç‰Œ&#34;&#34;&#34;</span>

    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>suite</span><span class=p>,</span> <span class=n>face</span><span class=p>):</span>
        <span class=s2>&#34;&#34;&#34;åˆå§‹åŒ–æ–¹æ³•&#34;&#34;&#34;</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>suite</span> <span class=o>=</span> <span class=n>suite</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>face</span> <span class=o>=</span> <span class=n>face</span>

    <span class=k>def</span> <span class=nf>show</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=s2>&#34;&#34;&#34;æ˜¾ç¤ºç‰Œé¢&#34;&#34;&#34;</span>
        <span class=n>suites</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;â™ ï¸&#39;</span><span class=p>,</span> <span class=s1>&#39;â™¥ï¸&#39;</span><span class=p>,</span> <span class=s1>&#39;â™£ï¸&#39;</span><span class=p>,</span> <span class=s1>&#39;â™¦ï¸&#39;</span><span class=p>]</span>
        <span class=n>faces</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;&#39;</span><span class=p>,</span> <span class=s1>&#39;A&#39;</span><span class=p>,</span> <span class=s1>&#39;2&#39;</span><span class=p>,</span> <span class=s1>&#39;3&#39;</span><span class=p>,</span> <span class=s1>&#39;4&#39;</span><span class=p>,</span> <span class=s1>&#39;5&#39;</span><span class=p>,</span> <span class=s1>&#39;6&#39;</span><span class=p>,</span> <span class=s1>&#39;7&#39;</span><span class=p>,</span> <span class=s1>&#39;8&#39;</span><span class=p>,</span> <span class=s1>&#39;9&#39;</span><span class=p>,</span> <span class=s1>&#39;10&#39;</span><span class=p>,</span> <span class=s1>&#39;J&#39;</span><span class=p>,</span> <span class=s1>&#39;Q&#39;</span><span class=p>,</span> <span class=s1>&#39;K&#39;</span><span class=p>]</span>
        <span class=k>return</span> <span class=sa>f</span><span class=s1>&#39;</span><span class=si>{</span><span class=n>suites</span><span class=p>[</span><span class=bp>self</span><span class=o>.</span><span class=n>suite</span><span class=o>.</span><span class=n>value</span><span class=p>]</span><span class=si>}{</span><span class=n>faces</span><span class=p>[</span><span class=bp>self</span><span class=o>.</span><span class=n>face</span><span class=p>]</span><span class=si>}</span><span class=s1>&#39;</span>

    <span class=k>def</span> <span class=fm>__repr__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>


<span class=k>class</span> <span class=nc>Poker</span><span class=p>():</span>
    <span class=s2>&#34;&#34;&#34;æ‰‘å…‹&#34;&#34;&#34;</span>

    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>index</span> <span class=o>=</span> <span class=mi>0</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>cards</span> <span class=o>=</span> <span class=p>[</span><span class=n>Card</span><span class=p>(</span><span class=n>suite</span><span class=p>,</span> <span class=n>face</span><span class=p>)</span>
                      <span class=k>for</span> <span class=n>suite</span> <span class=ow>in</span> <span class=n>Suite</span>
                      <span class=k>for</span> <span class=n>face</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>14</span><span class=p>)]</span>

    <span class=k>def</span> <span class=nf>shuffle</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=s2>&#34;&#34;&#34;æ´—ç‰Œï¼ˆéšæœºä¹±åºï¼‰&#34;&#34;&#34;</span>
        <span class=n>random</span><span class=o>.</span><span class=n>shuffle</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>cards</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>index</span> <span class=o>=</span> <span class=mi>0</span>

    <span class=k>def</span> <span class=nf>deal</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=s2>&#34;&#34;&#34;å‘ç‰Œ&#34;&#34;&#34;</span>
        <span class=n>card</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>cards</span><span class=p>[</span><span class=bp>self</span><span class=o>.</span><span class=n>index</span><span class=p>]</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>index</span> <span class=o>+=</span> <span class=mi>1</span>
        <span class=k>return</span> <span class=n>card</span>

    <span class=nd>@property</span>
    <span class=k>def</span> <span class=nf>has_more</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>index</span> <span class=o>&lt;</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>cards</span><span class=p>)</span>


<span class=k>class</span> <span class=nc>Player</span><span class=p>():</span>
    <span class=s2>&#34;&#34;&#34;ç©å®¶&#34;&#34;&#34;</span>

    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>cards</span> <span class=o>=</span> <span class=p>[]</span>

    <span class=k>def</span> <span class=nf>get_one</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>card</span><span class=p>):</span>
        <span class=s2>&#34;&#34;&#34;æ‘¸ä¸€å¼ ç‰Œ&#34;&#34;&#34;</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>cards</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>card</span><span class=p>)</span>

    <span class=k>def</span> <span class=nf>sort</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>comp</span><span class=o>=</span><span class=k>lambda</span> <span class=n>card</span><span class=p>:</span> <span class=p>(</span><span class=n>card</span><span class=o>.</span><span class=n>suite</span><span class=p>,</span> <span class=n>card</span><span class=o>.</span><span class=n>face</span><span class=p>)):</span>
        <span class=s2>&#34;&#34;&#34;æ•´ç†æ‰‹ä¸Šçš„ç‰Œ&#34;&#34;&#34;</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>cards</span><span class=o>.</span><span class=n>sort</span><span class=p>(</span><span class=n>key</span><span class=o>=</span><span class=n>comp</span><span class=p>)</span>


<span class=k>def</span> <span class=nf>main</span><span class=p>():</span>
    <span class=s2>&#34;&#34;&#34;ä¸»å‡½æ•°&#34;&#34;&#34;</span>
    <span class=n>poker</span> <span class=o>=</span> <span class=n>Poker</span><span class=p>()</span>
    <span class=n>poker</span><span class=o>.</span><span class=n>shuffle</span><span class=p>()</span>
    <span class=n>players</span> <span class=o>=</span> <span class=p>[</span><span class=n>Player</span><span class=p>(</span><span class=s1>&#39;ä¸œé‚ª&#39;</span><span class=p>),</span> <span class=n>Player</span><span class=p>(</span><span class=s1>&#39;è¥¿æ¯’&#39;</span><span class=p>),</span> <span class=n>Player</span><span class=p>(</span><span class=s1>&#39;å—å¸&#39;</span><span class=p>),</span> <span class=n>Player</span><span class=p>(</span><span class=s1>&#39;åŒ—ä¸&#39;</span><span class=p>)]</span>
    <span class=k>while</span> <span class=n>poker</span><span class=o>.</span><span class=n>has_more</span><span class=p>:</span>
        <span class=k>for</span> <span class=n>player</span> <span class=ow>in</span> <span class=n>players</span><span class=p>:</span>
                <span class=n>player</span><span class=o>.</span><span class=n>get_one</span><span class=p>(</span><span class=n>poker</span><span class=o>.</span><span class=n>deal</span><span class=p>())</span>
    <span class=k>for</span> <span class=n>player</span> <span class=ow>in</span> <span class=n>players</span><span class=p>:</span>
        <span class=n>player</span><span class=o>.</span><span class=n>sort</span><span class=p>()</span>
        <span class=nb>print</span><span class=p>(</span><span class=n>player</span><span class=o>.</span><span class=n>name</span><span class=p>,</span> <span class=n>end</span><span class=o>=</span><span class=s1>&#39;: &#39;</span><span class=p>)</span>
        <span class=nb>print</span><span class=p>(</span><span class=n>player</span><span class=o>.</span><span class=n>cards</span><span class=p>)</span>


<span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
    <span class=n>main</span><span class=p>()</span>
</code></pre></td></tr></table></div></div></div><blockquote><p><strong>è¯´æ˜</strong>ï¼šä¸Šé¢çš„ä»£ç ä¸­ä½¿ç”¨äº†Emojiå­—ç¬¦æ¥è¡¨ç¤ºæ‰‘å…‹ç‰Œçš„å››ç§èŠ±è‰²ï¼Œåœ¨æŸäº›ä¸æ”¯æŒEmojiå­—ç¬¦çš„ç³»ç»Ÿä¸Šå¯èƒ½æ— æ³•æ˜¾ç¤ºã€‚</p></blockquote></li><li><p>å¯¹è±¡çš„å¤åˆ¶ï¼ˆæ·±å¤åˆ¶/æ·±æ‹·è´/æ·±åº¦å…‹éš†å’Œæµ…å¤åˆ¶/æµ…æ‹·è´/å½±å­å…‹éš†ï¼‰</p></li><li><p>åƒåœ¾å›æ”¶ã€å¾ªç¯å¼•ç”¨å’Œå¼±å¼•ç”¨</p><p>Pythonä½¿ç”¨äº†è‡ªåŠ¨åŒ–å†…å­˜ç®¡ç†ï¼Œè¿™ç§ç®¡ç†æœºåˆ¶ä»¥<strong>å¼•ç”¨è®¡æ•°</strong>ä¸ºåŸºç¡€ï¼ŒåŒæ—¶ä¹Ÿå¼•å…¥äº†<strong>æ ‡è®°-æ¸…é™¤</strong>å’Œ<strong>åˆ†ä»£æ”¶é›†</strong>ä¸¤ç§æœºåˆ¶ä¸ºè¾…çš„ç­–ç•¥ã€‚</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C data-lang=C><span class=k>typedef</span> <span class=k>struct</span> <span class=n>_object</span> <span class=p>{</span>
    <span class=cm>/* å¼•ç”¨è®¡æ•° */</span>
    <span class=kt>int</span> <span class=n>ob_refcnt</span><span class=p>;</span>
    <span class=cm>/* å¯¹è±¡æŒ‡é’ˆ */</span>
    <span class=k>struct</span> <span class=n>_typeobject</span> <span class=o>*</span><span class=n>ob_type</span><span class=p>;</span>
<span class=p>}</span> <span class=n>PyObject</span><span class=p>;</span>
</code></pre></td></tr></table></div></div></div><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C data-lang=C><span class=cm>/* å¢åŠ å¼•ç”¨è®¡æ•°çš„å®å®šä¹‰ */</span>
<span class=cp>#define Py_INCREF(op)   ((op)-&gt;ob_refcnt++)
</span><span class=cp></span><span class=cm>/* å‡å°‘å¼•ç”¨è®¡æ•°çš„å®å®šä¹‰ */</span>
<span class=cp>#define Py_DECREF(op) \ </span><span class=c1>//å‡å°‘è®¡æ•°
</span><span class=c1></span>    <span class=k>if</span> <span class=p>(</span><span class=o>--</span><span class=p>(</span><span class=n>op</span><span class=p>)</span><span class=o>-&gt;</span><span class=n>ob_refcnt</span> <span class=o>!=</span> <span class=mi>0</span><span class=p>)</span> \
        <span class=p>;</span> \
    <span class=k>else</span> \
        <span class=n>__Py_Dealloc</span><span class=p>((</span><span class=n>PyObject</span> <span class=o>*</span><span class=p>)(</span><span class=n>op</span><span class=p>))</span>
</code></pre></td></tr></table></div></div></div><p>å¯¼è‡´å¼•ç”¨è®¡æ•°+1çš„æƒ…å†µï¼š</p><ul><li>å¯¹è±¡è¢«åˆ›å»ºï¼Œä¾‹å¦‚<code>a = 23</code></li><li>å¯¹è±¡è¢«å¼•ç”¨ï¼Œä¾‹å¦‚<code>b = a</code></li><li>å¯¹è±¡è¢«ä½œä¸ºå‚æ•°ï¼Œä¼ å…¥åˆ°ä¸€ä¸ªå‡½æ•°ä¸­ï¼Œä¾‹å¦‚<code>f(a)</code></li><li>å¯¹è±¡ä½œä¸ºä¸€ä¸ªå…ƒç´ ï¼Œå­˜å‚¨åœ¨å®¹å™¨ä¸­ï¼Œä¾‹å¦‚<code>list1 = [a, a]</code></li></ul><p>å¯¼è‡´å¼•ç”¨è®¡æ•°-1çš„æƒ…å†µï¼š</p><ul><li>å¯¹è±¡çš„åˆ«åè¢«æ˜¾å¼é”€æ¯ï¼Œä¾‹å¦‚<code>del a</code></li><li>å¯¹è±¡çš„åˆ«åè¢«èµ‹äºˆæ–°çš„å¯¹è±¡ï¼Œä¾‹å¦‚<code>a = 24</code></li><li>ä¸€ä¸ªå¯¹è±¡ç¦»å¼€å®ƒçš„ä½œç”¨åŸŸï¼Œä¾‹å¦‚få‡½æ•°æ‰§è¡Œå®Œæ¯•æ—¶ï¼Œfå‡½æ•°ä¸­çš„å±€éƒ¨å˜é‡ï¼ˆå…¨å±€å˜é‡ä¸ä¼šï¼‰</li><li>å¯¹è±¡æ‰€åœ¨çš„å®¹å™¨è¢«é”€æ¯ï¼Œæˆ–ä»å®¹å™¨ä¸­åˆ é™¤å¯¹è±¡</li></ul><p>å¼•ç”¨è®¡æ•°å¯èƒ½ä¼šå¯¼è‡´å¾ªç¯å¼•ç”¨é—®é¢˜ï¼Œè€Œå¾ªç¯å¼•ç”¨ä¼šå¯¼è‡´å†…å­˜æ³„éœ²ï¼Œå¦‚ä¸‹é¢çš„ä»£ç æ‰€ç¤ºã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒPythonä¸­å¼•å…¥äº†â€œæ ‡è®°-æ¸…é™¤â€å’Œâ€œåˆ†ä»£æ”¶é›†â€ã€‚åœ¨åˆ›å»ºä¸€ä¸ªå¯¹è±¡çš„æ—¶å€™ï¼Œå¯¹è±¡è¢«æ”¾åœ¨ç¬¬ä¸€ä»£ä¸­ï¼Œå¦‚æœåœ¨ç¬¬ä¸€ä»£çš„åƒåœ¾æ£€æŸ¥ä¸­å¯¹è±¡å­˜æ´»äº†ä¸‹æ¥ï¼Œè¯¥å¯¹è±¡å°±ä¼šè¢«æ”¾åˆ°ç¬¬äºŒä»£ä¸­ï¼ŒåŒç†åœ¨ç¬¬äºŒä»£çš„åƒåœ¾æ£€æŸ¥ä¸­å¯¹è±¡å­˜æ´»ä¸‹æ¥ï¼Œè¯¥å¯¹è±¡å°±ä¼šè¢«æ”¾åˆ°ç¬¬ä¸‰ä»£ä¸­ã€‚</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Python data-lang=Python><span class=c1># å¾ªç¯å¼•ç”¨ä¼šå¯¼è‡´å†…å­˜æ³„éœ² - Pythoné™¤äº†å¼•ç”¨æŠ€æœ¯è¿˜å¼•å…¥äº†æ ‡è®°æ¸…ç†å’Œåˆ†ä»£å›æ”¶</span>
<span class=c1># åœ¨Python 3.6ä»¥å‰å¦‚æœé‡å†™__del__é­”æœ¯æ–¹æ³•ä¼šå¯¼è‡´å¾ªç¯å¼•ç”¨å¤„ç†å¤±æ•ˆ</span>
<span class=c1># å¦‚æœä¸æƒ³é€ æˆå¾ªç¯å¼•ç”¨å¯ä»¥ä½¿ç”¨å¼±å¼•ç”¨</span>
<span class=n>list1</span> <span class=o>=</span> <span class=p>[]</span>
<span class=n>list2</span> <span class=o>=</span> <span class=p>[]</span> 
<span class=n>list1</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>list2</span><span class=p>)</span>
<span class=n>list2</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>list1</span><span class=p>)</span>
</code></pre></td></tr></table></div></div></div><p>ä»¥ä¸‹æƒ…å†µä¼šå¯¼è‡´åƒåœ¾å›æ”¶ï¼š</p><ul><li>è°ƒç”¨<code>gc.collect()</code></li><li><code>gc</code>æ¨¡å—çš„è®¡æ•°å™¨è¾¾åˆ°é˜€å€¼</li><li>ç¨‹åºé€€å‡º</li></ul><p>å¦‚æœå¾ªç¯å¼•ç”¨ä¸­ä¸¤ä¸ªå¯¹è±¡éƒ½å®šä¹‰äº†<code>__del__</code>æ–¹æ³•ï¼Œ<code>gc</code>æ¨¡å—ä¸ä¼šé”€æ¯è¿™äº›ä¸å¯è¾¾å¯¹è±¡ï¼Œå› ä¸ºgcæ¨¡å—ä¸çŸ¥é“åº”è¯¥å…ˆè°ƒç”¨å“ªä¸ªå¯¹è±¡çš„<code>__del__</code>æ–¹æ³•ï¼Œè¿™ä¸ªé—®é¢˜åœ¨Python 3.6ä¸­å¾—åˆ°äº†è§£å†³ã€‚</p><p>ä¹Ÿå¯ä»¥é€šè¿‡<code>weakref</code>æ¨¡å—æ„é€ å¼±å¼•ç”¨çš„æ–¹å¼æ¥è§£å†³å¾ªç¯å¼•ç”¨çš„é—®é¢˜ã€‚</p></li><li><p>é­”æ³•å±æ€§å’Œæ–¹æ³•ï¼ˆè¯·å‚è€ƒã€ŠPythoné­”æ³•æ–¹æ³•æŒ‡å—ã€‹ï¼‰</p><p>æœ‰å‡ ä¸ªå°é—®é¢˜è¯·å¤§å®¶æ€è€ƒï¼š</p><ul><li>è‡ªå®šä¹‰çš„å¯¹è±¡èƒ½ä¸èƒ½ä½¿ç”¨è¿ç®—ç¬¦åšè¿ç®—ï¼Ÿ</li><li>è‡ªå®šä¹‰çš„å¯¹è±¡èƒ½ä¸èƒ½æ”¾åˆ°<code>set</code>ä¸­ï¼Ÿèƒ½å»é‡å—ï¼Ÿ</li><li>è‡ªå®šä¹‰çš„å¯¹è±¡èƒ½ä¸èƒ½ä½œä¸º<code>dict</code>çš„é”®ï¼Ÿ</li><li>è‡ªå®šä¹‰çš„å¯¹è±¡èƒ½ä¸èƒ½ä½¿ç”¨ä¸Šä¸‹æ–‡è¯­æ³•ï¼Ÿ</li></ul></li><li><p>æ··å…¥ï¼ˆMixinï¼‰</p><p>ä¾‹å­ï¼šè‡ªå®šä¹‰å­—å…¸é™åˆ¶åªæœ‰åœ¨æŒ‡å®šçš„keyä¸å­˜åœ¨æ—¶æ‰èƒ½åœ¨å­—å…¸ä¸­è®¾ç½®é”®å€¼å¯¹ã€‚</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Python data-lang=Python><span class=k>class</span> <span class=nc>SetOnceMappingMixin</span><span class=p>:</span>
    <span class=s2>&#34;&#34;&#34;è‡ªå®šä¹‰æ··å…¥ç±»&#34;&#34;&#34;</span>
    <span class=vm>__slots__</span> <span class=o>=</span> <span class=p>()</span>

    <span class=k>def</span> <span class=fm>__setitem__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>key</span><span class=p>,</span> <span class=n>value</span><span class=p>):</span>
        <span class=k>if</span> <span class=n>key</span> <span class=ow>in</span> <span class=bp>self</span><span class=p>:</span>
            <span class=k>raise</span> <span class=ne>KeyError</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>key</span><span class=p>)</span> <span class=o>+</span> <span class=s1>&#39; already set&#39;</span><span class=p>)</span>
        <span class=k>return</span> <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__setitem__</span><span class=p>(</span><span class=n>key</span><span class=p>,</span> <span class=n>value</span><span class=p>)</span>


<span class=k>class</span> <span class=nc>SetOnceDict</span><span class=p>(</span><span class=n>SetOnceMappingMixin</span><span class=p>,</span> <span class=nb>dict</span><span class=p>):</span>
    <span class=s2>&#34;&#34;&#34;è‡ªå®šä¹‰å­—å…¸&#34;&#34;&#34;</span>
    <span class=k>pass</span>


<span class=n>my_dict</span><span class=o>=</span> <span class=n>SetOnceDict</span><span class=p>()</span>
<span class=k>try</span><span class=p>:</span>
    <span class=n>my_dict</span><span class=p>[</span><span class=s1>&#39;username&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=s1>&#39;jackfrued&#39;</span>
    <span class=n>my_dict</span><span class=p>[</span><span class=s1>&#39;username&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=s1>&#39;hellokitty&#39;</span>
<span class=k>except</span> <span class=ne>KeyError</span><span class=p>:</span>
    <span class=k>pass</span>
<span class=nb>print</span><span class=p>(</span><span class=n>my_dict</span><span class=p>)</span>
</code></pre></td></tr></table></div></div></div></li><li><p>å…ƒç¼–ç¨‹å’Œå…ƒç±»</p><p>å¯¹è±¡æ˜¯é€šè¿‡ç±»åˆ›å»ºçš„ï¼Œç±»æ˜¯é€šè¿‡å…ƒç±»åˆ›å»ºçš„ï¼Œå…ƒç±»æä¾›äº†åˆ›å»ºç±»çš„å…ƒä¿¡æ¯ã€‚æ‰€æœ‰çš„ç±»éƒ½ç›´æ¥æˆ–é—´æ¥çš„ç»§æ‰¿è‡ª<code>object</code>ï¼Œæ‰€æœ‰çš„å…ƒç±»éƒ½ç›´æ¥æˆ–é—´æ¥çš„ç»§æ‰¿è‡ª<code>type</code>ã€‚</p><p>ä¾‹å­ï¼šç”¨å…ƒç±»å®ç°å•ä¾‹æ¨¡å¼ã€‚</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Python data-lang=Python><span class=kn>import</span> <span class=nn>threading</span>


<span class=k>class</span> <span class=nc>SingletonMeta</span><span class=p>(</span><span class=nb>type</span><span class=p>):</span>
    <span class=s2>&#34;&#34;&#34;è‡ªå®šä¹‰å…ƒç±»&#34;&#34;&#34;</span>

    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>cls</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
        <span class=bp>cls</span><span class=o>.</span><span class=n>__instance</span> <span class=o>=</span> <span class=kc>None</span>
        <span class=bp>cls</span><span class=o>.</span><span class=n>__lock</span> <span class=o>=</span> <span class=n>threading</span><span class=o>.</span><span class=n>RLock</span><span class=p>()</span>
        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>

    <span class=k>def</span> <span class=fm>__call__</span><span class=p>(</span><span class=bp>cls</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
        <span class=k>if</span> <span class=bp>cls</span><span class=o>.</span><span class=n>__instance</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=k>with</span> <span class=bp>cls</span><span class=o>.</span><span class=n>__lock</span><span class=p>:</span>
                <span class=k>if</span> <span class=bp>cls</span><span class=o>.</span><span class=n>__instance</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
                    <span class=bp>cls</span><span class=o>.</span><span class=n>__instance</span> <span class=o>=</span> <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__call__</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
        <span class=k>return</span> <span class=bp>cls</span><span class=o>.</span><span class=n>__instance</span>


<span class=k>class</span> <span class=nc>President</span><span class=p>(</span><span class=n>metaclass</span><span class=o>=</span><span class=n>SingletonMeta</span><span class=p>):</span>
    <span class=s2>&#34;&#34;&#34;æ€»ç»Ÿ(å•ä¾‹ç±»)&#34;&#34;&#34;</span>

    <span class=k>pass</span>
</code></pre></td></tr></table></div></div></div></li><li><p>é¢å‘å¯¹è±¡è®¾è®¡åŸåˆ™</p><ul><li>å•ä¸€èŒè´£åŸåˆ™ ï¼ˆ<strong>S</strong>RPï¼‰- ä¸€ä¸ªç±»åªåšè¯¥åšçš„äº‹æƒ…ï¼ˆç±»çš„è®¾è®¡è¦é«˜å†…èšï¼‰</li><li>å¼€é—­åŸåˆ™ ï¼ˆ<strong>O</strong>CPï¼‰- è½¯ä»¶å®ä½“åº”è¯¥å¯¹æ‰©å±•å¼€å‘å¯¹ä¿®æ”¹å…³é—­</li><li>ä¾èµ–å€’è½¬åŸåˆ™ï¼ˆDIPï¼‰- é¢å‘æŠ½è±¡ç¼–ç¨‹ï¼ˆåœ¨å¼±ç±»å‹è¯­è¨€ä¸­å·²ç»è¢«å¼±åŒ–ï¼‰</li><li>é‡Œæ°æ›¿æ¢åŸåˆ™ï¼ˆ<strong>L</strong>SPï¼‰ - ä»»ä½•æ—¶å€™å¯ä»¥ç”¨å­ç±»å¯¹è±¡æ›¿æ¢æ‰çˆ¶ç±»å¯¹è±¡</li><li>æ¥å£éš”ç¦»åŸåˆ™ï¼ˆ<strong>I</strong>SPï¼‰- æ¥å£è¦å°è€Œä¸“ä¸è¦å¤§è€Œå…¨ï¼ˆPythonä¸­æ²¡æœ‰æ¥å£çš„æ¦‚å¿µï¼‰</li><li>åˆæˆèšåˆå¤ç”¨åŸåˆ™ï¼ˆCARPï¼‰ - ä¼˜å…ˆä½¿ç”¨å¼ºå…³è”å…³ç³»è€Œä¸æ˜¯ç»§æ‰¿å…³ç³»å¤ç”¨ä»£ç </li><li>æœ€å°‘çŸ¥è¯†åŸåˆ™ï¼ˆè¿ªç±³ç‰¹æ³•åˆ™ï¼ŒLo<strong>D</strong>ï¼‰- ä¸è¦ç»™æ²¡æœ‰å¿…ç„¶è”ç³»çš„å¯¹è±¡å‘æ¶ˆæ¯</li></ul><blockquote><p><strong>è¯´æ˜</strong>ï¼šä¸Šé¢åŠ ç²—çš„å­—æ¯æ”¾åœ¨ä¸€èµ·ç§°ä¸ºé¢å‘å¯¹è±¡çš„<strong>SOLID</strong>åŸåˆ™ã€‚</p></blockquote></li><li><p>GoFè®¾è®¡æ¨¡å¼</p><ul><li>åˆ›å»ºå‹æ¨¡å¼ï¼šå•ä¾‹ã€å·¥å‚ã€å»ºé€ è€…ã€åŸå‹</li><li>ç»“æ„å‹æ¨¡å¼ï¼šé€‚é…å™¨ã€é—¨é¢ï¼ˆå¤–è§‚ï¼‰ã€ä»£ç†</li><li>è¡Œä¸ºå‹æ¨¡å¼ï¼šè¿­ä»£å™¨ã€è§‚å¯Ÿè€…ã€çŠ¶æ€ã€ç­–ç•¥</li></ul><p>ä¾‹å­ï¼šå¯æ’æ‹”çš„å“ˆå¸Œç®—æ³•ï¼ˆç­–ç•¥æ¨¡å¼ï¼‰ã€‚</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Python data-lang=Python><span class=k>class</span> <span class=nc>StreamHasher</span><span class=p>():</span>
    <span class=s2>&#34;&#34;&#34;å“ˆå¸Œæ‘˜è¦ç”Ÿæˆå™¨&#34;&#34;&#34;</span>

    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>alg</span><span class=o>=</span><span class=s1>&#39;md5&#39;</span><span class=p>,</span> <span class=n>size</span><span class=o>=</span><span class=mi>4096</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>size</span> <span class=o>=</span> <span class=n>size</span>
        <span class=n>alg</span> <span class=o>=</span> <span class=n>alg</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>hasher</span> <span class=o>=</span> <span class=nb>getattr</span><span class=p>(</span><span class=nb>__import__</span><span class=p>(</span><span class=s1>&#39;hashlib&#39;</span><span class=p>),</span> <span class=n>alg</span><span class=o>.</span><span class=n>lower</span><span class=p>())()</span>

    <span class=k>def</span> <span class=fm>__call__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>stream</span><span class=p>):</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>to_digest</span><span class=p>(</span><span class=n>stream</span><span class=p>)</span>

    <span class=k>def</span> <span class=nf>to_digest</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>stream</span><span class=p>):</span>
        <span class=s2>&#34;&#34;&#34;ç”Ÿæˆåå…­è¿›åˆ¶å½¢å¼çš„æ‘˜è¦&#34;&#34;&#34;</span>
        <span class=k>for</span> <span class=n>buf</span> <span class=ow>in</span> <span class=nb>iter</span><span class=p>(</span><span class=k>lambda</span><span class=p>:</span> <span class=n>stream</span><span class=o>.</span><span class=n>read</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>size</span><span class=p>),</span> <span class=sa>b</span><span class=s1>&#39;&#39;</span><span class=p>):</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>hasher</span><span class=o>.</span><span class=n>update</span><span class=p>(</span><span class=n>buf</span><span class=p>)</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>hasher</span><span class=o>.</span><span class=n>hexdigest</span><span class=p>()</span>

<span class=k>def</span> <span class=nf>main</span><span class=p>():</span>
    <span class=s2>&#34;&#34;&#34;ä¸»å‡½æ•°&#34;&#34;&#34;</span>
    <span class=n>hasher1</span> <span class=o>=</span> <span class=n>StreamHasher</span><span class=p>()</span>
    <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=s1>&#39;Python-3.7.6.tgz&#39;</span><span class=p>,</span> <span class=s1>&#39;rb&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>stream</span><span class=p>:</span>
        <span class=nb>print</span><span class=p>(</span><span class=n>hasher1</span><span class=o>.</span><span class=n>to_digest</span><span class=p>(</span><span class=n>stream</span><span class=p>))</span>
    <span class=n>hasher2</span> <span class=o>=</span> <span class=n>StreamHasher</span><span class=p>(</span><span class=s1>&#39;sha1&#39;</span><span class=p>)</span>
    <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=s1>&#39;Python-3.7.6.tgz&#39;</span><span class=p>,</span> <span class=s1>&#39;rb&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>stream</span><span class=p>:</span>
        <span class=nb>print</span><span class=p>(</span><span class=n>hasher2</span><span class=p>(</span><span class=n>stream</span><span class=p>))</span>


<span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
    <span class=n>main</span><span class=p>()</span>
</code></pre></td></tr></table></div></div></div></li></ul><h3 id=è¿­ä»£å™¨å’Œç”Ÿæˆå™¨><a href=#è¿­ä»£å™¨å’Œç”Ÿæˆå™¨ class=anchor-link>#</a>è¿­ä»£å™¨å’Œç”Ÿæˆå™¨</h3><ul><li><p>è¿­ä»£å™¨æ˜¯å®ç°äº†è¿­ä»£å™¨åè®®çš„å¯¹è±¡ã€‚</p><ul><li>Pythonä¸­æ²¡æœ‰åƒ<code>protocol</code>æˆ–<code>interface</code>è¿™æ ·çš„å®šä¹‰åè®®çš„å…³é”®å­—ã€‚</li><li>Pythonä¸­ç”¨é­”æœ¯æ–¹æ³•è¡¨ç¤ºåè®®ã€‚</li><li><code>__iter__</code>å’Œ<code>__next__</code>é­”æœ¯æ–¹æ³•å°±æ˜¯è¿­ä»£å™¨åè®®ã€‚</li></ul><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Python data-lang=Python><span class=k>class</span> <span class=nc>Fib</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
    <span class=s2>&#34;&#34;&#34;è¿­ä»£å™¨&#34;&#34;&#34;</span>

    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>num</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>num</span> <span class=o>=</span> <span class=n>num</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>a</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>b</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>1</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>idx</span> <span class=o>=</span> <span class=mi>0</span>

    <span class=k>def</span> <span class=fm>__iter__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>return</span> <span class=bp>self</span>

    <span class=k>def</span> <span class=fm>__next__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>idx</span> <span class=o>&lt;</span> <span class=bp>self</span><span class=o>.</span><span class=n>num</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>a</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>b</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>b</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>a</span> <span class=o>+</span> <span class=bp>self</span><span class=o>.</span><span class=n>b</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>idx</span> <span class=o>+=</span> <span class=mi>1</span>
            <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>a</span>
        <span class=k>raise</span> <span class=ne>StopIteration</span><span class=p>()</span>
</code></pre></td></tr></table></div></div></div></li><li><p>ç”Ÿæˆå™¨æ˜¯è¯­æ³•ç®€åŒ–ç‰ˆçš„è¿­ä»£å™¨ã€‚</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Python data-lang=Python><span class=k>def</span> <span class=nf>fib</span><span class=p>(</span><span class=n>num</span><span class=p>):</span>
    <span class=s2>&#34;&#34;&#34;ç”Ÿæˆå™¨&#34;&#34;&#34;</span>
    <span class=n>a</span><span class=p>,</span> <span class=n>b</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>1</span>
    <span class=k>for</span> <span class=n>_</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>num</span><span class=p>):</span>
        <span class=n>a</span><span class=p>,</span> <span class=n>b</span> <span class=o>=</span> <span class=n>b</span><span class=p>,</span> <span class=n>a</span> <span class=o>+</span> <span class=n>b</span>
        <span class=k>yield</span> <span class=n>a</span>
</code></pre></td></tr></table></div></div></div></li><li><p>ç”Ÿæˆå™¨è¿›åŒ–ä¸ºåç¨‹ã€‚</p><p>ç”Ÿæˆå™¨å¯¹è±¡å¯ä»¥ä½¿ç”¨<code>send()</code>æ–¹æ³•å‘é€æ•°æ®ï¼Œå‘é€çš„æ•°æ®ä¼šæˆä¸ºç”Ÿæˆå™¨å‡½æ•°ä¸­é€šè¿‡<code>yield</code>è¡¨è¾¾å¼è·å¾—çš„å€¼ã€‚è¿™æ ·ï¼Œç”Ÿæˆå™¨å°±å¯ä»¥ä½œä¸ºåç¨‹ä½¿ç”¨ï¼Œåç¨‹ç®€å•çš„è¯´å°±æ˜¯å¯ä»¥ç›¸äº’åä½œçš„å­ç¨‹åºã€‚</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Python data-lang=Python><span class=k>def</span> <span class=nf>calc_avg</span><span class=p>():</span>
    <span class=s2>&#34;&#34;&#34;æµå¼è®¡ç®—å¹³å‡å€¼&#34;&#34;&#34;</span>
    <span class=n>total</span><span class=p>,</span> <span class=n>counter</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span>
    <span class=n>avg_value</span> <span class=o>=</span> <span class=kc>None</span>
    <span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
        <span class=n>value</span> <span class=o>=</span> <span class=k>yield</span> <span class=n>avg_value</span>
        <span class=n>total</span><span class=p>,</span> <span class=n>counter</span> <span class=o>=</span> <span class=n>total</span> <span class=o>+</span> <span class=n>value</span><span class=p>,</span> <span class=n>counter</span> <span class=o>+</span> <span class=mi>1</span>
        <span class=n>avg_value</span> <span class=o>=</span> <span class=n>total</span> <span class=o>/</span> <span class=n>counter</span>


<span class=n>gen</span> <span class=o>=</span> <span class=n>calc_avg</span><span class=p>()</span>
<span class=nb>next</span><span class=p>(</span><span class=n>gen</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>gen</span><span class=o>.</span><span class=n>send</span><span class=p>(</span><span class=mi>10</span><span class=p>))</span>
<span class=nb>print</span><span class=p>(</span><span class=n>gen</span><span class=o>.</span><span class=n>send</span><span class=p>(</span><span class=mi>20</span><span class=p>))</span>
<span class=nb>print</span><span class=p>(</span><span class=n>gen</span><span class=o>.</span><span class=n>send</span><span class=p>(</span><span class=mi>30</span><span class=p>))</span>
</code></pre></td></tr></table></div></div></div></li></ul><h3 id=å¹¶å‘ç¼–ç¨‹><a href=#å¹¶å‘ç¼–ç¨‹ class=anchor-link>#</a>å¹¶å‘ç¼–ç¨‹</h3><p>Pythonä¸­å®ç°å¹¶å‘ç¼–ç¨‹çš„ä¸‰ç§æ–¹æ¡ˆï¼šå¤šçº¿ç¨‹ã€å¤šè¿›ç¨‹å’Œå¼‚æ­¥I/Oã€‚å¹¶å‘ç¼–ç¨‹çš„å¥½å¤„åœ¨äºå¯ä»¥æå‡ç¨‹åºçš„æ‰§è¡Œæ•ˆç‡ä»¥åŠæ”¹å–„ç”¨æˆ·ä½“éªŒï¼›åå¤„åœ¨äºå¹¶å‘çš„ç¨‹åºä¸å®¹æ˜“å¼€å‘å’Œè°ƒè¯•ï¼ŒåŒæ—¶å¯¹å…¶ä»–ç¨‹åºæ¥è¯´å®ƒå¹¶ä¸å‹å¥½ã€‚</p><ul><li><p>å¤šçº¿ç¨‹ï¼šPythonä¸­æä¾›äº†<code>Thread</code>ç±»å¹¶è¾…ä»¥<code>Lock</code>ã€<code>Condition</code>ã€<code>Event</code>ã€<code>Semaphore</code>å’Œ<code>Barrier</code>ã€‚Pythonä¸­æœ‰GILæ¥é˜²æ­¢å¤šä¸ªçº¿ç¨‹åŒæ—¶æ‰§è¡Œæœ¬åœ°å­—èŠ‚ç ï¼Œè¿™ä¸ªé”å¯¹äºCPythonæ˜¯å¿…é¡»çš„ï¼Œå› ä¸ºCPythonçš„å†…å­˜ç®¡ç†å¹¶ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå› ä¸ºGILçš„å­˜åœ¨å¤šçº¿ç¨‹å¹¶ä¸èƒ½å‘æŒ¥CPUçš„å¤šæ ¸ç‰¹æ€§ã€‚</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Python data-lang=Python><span class=s2>&#34;&#34;&#34;
</span><span class=s2>é¢è¯•é¢˜ï¼šè¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«å’Œè”ç³»ï¼Ÿ
</span><span class=s2>è¿›ç¨‹ - æ“ä½œç³»ç»Ÿåˆ†é…å†…å­˜çš„åŸºæœ¬å•ä½ - ä¸€ä¸ªè¿›ç¨‹å¯ä»¥åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªçº¿ç¨‹
</span><span class=s2>çº¿ç¨‹ - æ“ä½œç³»ç»Ÿåˆ†é…CPUçš„åŸºæœ¬å•ä½
</span><span class=s2>å¹¶å‘ç¼–ç¨‹ï¼ˆconcurrent programmingï¼‰
</span><span class=s2>1. æå‡æ‰§è¡Œæ€§èƒ½ - è®©ç¨‹åºä¸­æ²¡æœ‰å› æœå…³ç³»çš„éƒ¨åˆ†å¯ä»¥å¹¶å‘çš„æ‰§è¡Œ
</span><span class=s2>2. æ”¹å–„ç”¨æˆ·ä½“éªŒ - è®©è€—æ—¶é—´çš„æ“ä½œä¸ä¼šé€ æˆç¨‹åºçš„å‡æ­»
</span><span class=s2>&#34;&#34;&#34;</span>
<span class=kn>import</span> <span class=nn>glob</span>
<span class=kn>import</span> <span class=nn>os</span>
<span class=kn>import</span> <span class=nn>threading</span>

<span class=kn>from</span> <span class=nn>PIL</span> <span class=kn>import</span> <span class=n>Image</span>

<span class=n>PREFIX</span> <span class=o>=</span> <span class=s1>&#39;thumbnails&#39;</span>


<span class=k>def</span> <span class=nf>generate_thumbnail</span><span class=p>(</span><span class=n>infile</span><span class=p>,</span> <span class=n>size</span><span class=p>,</span> <span class=nb>format</span><span class=o>=</span><span class=s1>&#39;PNG&#39;</span><span class=p>):</span>
    <span class=s2>&#34;&#34;&#34;ç”ŸæˆæŒ‡å®šå›¾ç‰‡æ–‡ä»¶çš„ç¼©ç•¥å›¾&#34;&#34;&#34;</span>
	<span class=n>file</span><span class=p>,</span> <span class=n>ext</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>splitext</span><span class=p>(</span><span class=n>infile</span><span class=p>)</span>
	<span class=n>file</span> <span class=o>=</span> <span class=n>file</span><span class=p>[</span><span class=n>file</span><span class=o>.</span><span class=n>rfind</span><span class=p>(</span><span class=s1>&#39;/&#39;</span><span class=p>)</span> <span class=o>+</span> <span class=mi>1</span><span class=p>:]</span>
	<span class=n>outfile</span> <span class=o>=</span> <span class=sa>f</span><span class=s1>&#39;</span><span class=si>{</span><span class=n>PREFIX</span><span class=si>}</span><span class=s1>/</span><span class=si>{</span><span class=n>file</span><span class=si>}</span><span class=s1>_</span><span class=si>{</span><span class=n>size</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=si>}</span><span class=s1>_</span><span class=si>{</span><span class=n>size</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span><span class=si>}</span><span class=s1>.</span><span class=si>{</span><span class=n>ext</span><span class=si>}</span><span class=s1>&#39;</span>
	<span class=n>img</span> <span class=o>=</span> <span class=n>Image</span><span class=o>.</span><span class=n>open</span><span class=p>(</span><span class=n>infile</span><span class=p>)</span>
	<span class=n>img</span><span class=o>.</span><span class=n>thumbnail</span><span class=p>(</span><span class=n>size</span><span class=p>,</span> <span class=n>Image</span><span class=o>.</span><span class=n>ANTIALIAS</span><span class=p>)</span>
	<span class=n>img</span><span class=o>.</span><span class=n>save</span><span class=p>(</span><span class=n>outfile</span><span class=p>,</span> <span class=nb>format</span><span class=p>)</span>


<span class=k>def</span> <span class=nf>main</span><span class=p>():</span>
    <span class=s2>&#34;&#34;&#34;ä¸»å‡½æ•°&#34;&#34;&#34;</span>
	<span class=k>if</span> <span class=ow>not</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>exists</span><span class=p>(</span><span class=n>PREFIX</span><span class=p>):</span>
		<span class=n>os</span><span class=o>.</span><span class=n>mkdir</span><span class=p>(</span><span class=n>PREFIX</span><span class=p>)</span>
	<span class=k>for</span> <span class=n>infile</span> <span class=ow>in</span> <span class=n>glob</span><span class=o>.</span><span class=n>glob</span><span class=p>(</span><span class=s1>&#39;images/*.png&#39;</span><span class=p>):</span>
		<span class=k>for</span> <span class=n>size</span> <span class=ow>in</span> <span class=p>(</span><span class=mi>32</span><span class=p>,</span> <span class=mi>64</span><span class=p>,</span> <span class=mi>128</span><span class=p>):</span>
            <span class=c1># åˆ›å»ºå¹¶å¯åŠ¨çº¿ç¨‹</span>
			<span class=n>threading</span><span class=o>.</span><span class=n>Thread</span><span class=p>(</span>
				<span class=n>target</span><span class=o>=</span><span class=n>generate_thumbnail</span><span class=p>,</span> 
				<span class=n>args</span><span class=o>=</span><span class=p>(</span><span class=n>infile</span><span class=p>,</span> <span class=p>(</span><span class=n>size</span><span class=p>,</span> <span class=n>size</span><span class=p>))</span>
			<span class=p>)</span><span class=o>.</span><span class=n>start</span><span class=p>()</span>


<span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
	<span class=n>main</span><span class=p>()</span>
</code></pre></td></tr></table></div></div></div><p>å¤šä¸ªçº¿ç¨‹ç«äº‰èµ„æºçš„æƒ…å†µã€‚</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Python data-lang=Python><span class=s2>&#34;&#34;&#34;
</span><span class=s2>å¤šçº¿ç¨‹ç¨‹åºå¦‚æœæ²¡æœ‰ç«äº‰èµ„æºå¤„ç†èµ·æ¥é€šå¸¸ä¹Ÿæ¯”è¾ƒç®€å•
</span><span class=s2>å½“å¤šä¸ªçº¿ç¨‹ç«äº‰ä¸´ç•Œèµ„æºçš„æ—¶å€™å¦‚æœç¼ºä¹å¿…è¦çš„ä¿æŠ¤æªæ–½å°±ä¼šå¯¼è‡´æ•°æ®é”™ä¹±
</span><span class=s2>è¯´æ˜ï¼šä¸´ç•Œèµ„æºå°±æ˜¯è¢«å¤šä¸ªçº¿ç¨‹ç«äº‰çš„èµ„æº
</span><span class=s2>&#34;&#34;&#34;</span>
<span class=kn>import</span> <span class=nn>time</span>
<span class=kn>import</span> <span class=nn>threading</span>

<span class=kn>from</span> <span class=nn>concurrent.futures</span> <span class=kn>import</span> <span class=n>ThreadPoolExecutor</span>


<span class=k>class</span> <span class=nc>Account</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
    <span class=s2>&#34;&#34;&#34;é“¶è¡Œè´¦æˆ·&#34;&#34;&#34;</span>

    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>balance</span> <span class=o>=</span> <span class=mf>0.0</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>lock</span> <span class=o>=</span> <span class=n>threading</span><span class=o>.</span><span class=n>Lock</span><span class=p>()</span>

    <span class=k>def</span> <span class=nf>deposit</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>money</span><span class=p>):</span>
        <span class=c1># é€šè¿‡é”ä¿æŠ¤ä¸´ç•Œèµ„æº</span>
        <span class=k>with</span> <span class=bp>self</span><span class=o>.</span><span class=n>lock</span><span class=p>:</span>
            <span class=n>new_balance</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>balance</span> <span class=o>+</span> <span class=n>money</span>
            <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mf>0.001</span><span class=p>)</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>balance</span> <span class=o>=</span> <span class=n>new_balance</span>


<span class=k>class</span> <span class=nc>AddMoneyThread</span><span class=p>(</span><span class=n>threading</span><span class=o>.</span><span class=n>Thread</span><span class=p>):</span>
    <span class=s2>&#34;&#34;&#34;è‡ªå®šä¹‰çº¿ç¨‹ç±»&#34;&#34;&#34;</span>

    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>account</span><span class=p>,</span> <span class=n>money</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>account</span> <span class=o>=</span> <span class=n>account</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>money</span> <span class=o>=</span> <span class=n>money</span>
        <span class=c1># è‡ªå®šä¹‰çº¿ç¨‹çš„åˆå§‹åŒ–æ–¹æ³•ä¸­å¿…é¡»è°ƒç”¨çˆ¶ç±»çš„åˆå§‹åŒ–æ–¹æ³•</span>
        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>()</span>

    <span class=k>def</span> <span class=nf>run</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=c1># çº¿ç¨‹å¯åŠ¨ä¹‹åè¦æ‰§è¡Œçš„æ“ä½œ</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>account</span><span class=o>.</span><span class=n>deposit</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>money</span><span class=p>)</span>

<span class=k>def</span> <span class=nf>main</span><span class=p>():</span>
    <span class=s2>&#34;&#34;&#34;ä¸»å‡½æ•°&#34;&#34;&#34;</span>
    <span class=n>account</span> <span class=o>=</span> <span class=n>Account</span><span class=p>()</span>
    <span class=c1># åˆ›å»ºçº¿ç¨‹æ± </span>
    <span class=n>pool</span> <span class=o>=</span> <span class=n>ThreadPoolExecutor</span><span class=p>(</span><span class=n>max_workers</span><span class=o>=</span><span class=mi>10</span><span class=p>)</span>
    <span class=n>futures</span> <span class=o>=</span> <span class=p>[]</span>
    <span class=k>for</span> <span class=n>_</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>100</span><span class=p>):</span>
        <span class=c1># åˆ›å»ºçº¿ç¨‹çš„ç¬¬1ç§æ–¹å¼</span>
        <span class=c1># threading.Thread(</span>
        <span class=c1>#     target=account.deposit, args=(1, )</span>
        <span class=c1># ).start()</span>
        <span class=c1># åˆ›å»ºçº¿ç¨‹çš„ç¬¬2ç§æ–¹å¼</span>
        <span class=c1># AddMoneyThread(account, 1).start()</span>
        <span class=c1># åˆ›å»ºçº¿ç¨‹çš„ç¬¬3ç§æ–¹å¼</span>
        <span class=c1># è°ƒç”¨çº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹æ¥æ‰§è¡Œç‰¹å®šçš„ä»»åŠ¡</span>
        <span class=n>future</span> <span class=o>=</span> <span class=n>pool</span><span class=o>.</span><span class=n>submit</span><span class=p>(</span><span class=n>account</span><span class=o>.</span><span class=n>deposit</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>
        <span class=n>futures</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>future</span><span class=p>)</span>
    <span class=c1># å…³é—­çº¿ç¨‹æ± </span>
    <span class=n>pool</span><span class=o>.</span><span class=n>shutdown</span><span class=p>()</span>
    <span class=k>for</span> <span class=n>future</span> <span class=ow>in</span> <span class=n>futures</span><span class=p>:</span>
        <span class=n>future</span><span class=o>.</span><span class=n>result</span><span class=p>()</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>account</span><span class=o>.</span><span class=n>balance</span><span class=p>)</span>


<span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
    <span class=n>main</span><span class=p>()</span>
</code></pre></td></tr></table></div></div></div><p>ä¿®æ”¹ä¸Šé¢çš„ç¨‹åºï¼Œå¯åŠ¨5ä¸ªçº¿ç¨‹å‘è´¦æˆ·ä¸­å­˜é’±ï¼Œ5ä¸ªçº¿ç¨‹ä»è´¦æˆ·ä¸­å–é’±ï¼Œå–é’±æ—¶å¦‚æœä½™é¢ä¸è¶³å°±æš‚åœçº¿ç¨‹è¿›è¡Œç­‰å¾…ã€‚ä¸ºäº†è¾¾åˆ°ä¸Šè¿°ç›®æ ‡ï¼Œéœ€è¦å¯¹å­˜é’±å’Œå–é’±çš„çº¿ç¨‹è¿›è¡Œè°ƒåº¦ï¼Œåœ¨ä½™é¢ä¸è¶³æ—¶å–é’±çš„çº¿ç¨‹æš‚åœå¹¶é‡Šæ”¾é”ï¼Œè€Œå­˜é’±çš„çº¿ç¨‹å°†é’±å­˜å…¥åè¦é€šçŸ¥å–é’±çš„çº¿ç¨‹ï¼Œä½¿å…¶ä»æš‚åœçŠ¶æ€è¢«å”¤é†’ã€‚å¯ä»¥ä½¿ç”¨<code>threading</code>æ¨¡å—çš„<code>Condition</code>æ¥å®ç°çº¿ç¨‹è°ƒåº¦ï¼Œè¯¥å¯¹è±¡ä¹Ÿæ˜¯åŸºäºé”æ¥åˆ›å»ºçš„ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span><span class=lnt>66
</span><span class=lnt>67
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Python data-lang=Python><span class=s2>&#34;&#34;&#34;
</span><span class=s2>å¤šä¸ªçº¿ç¨‹ç«äº‰ä¸€ä¸ªèµ„æº - ä¿æŠ¤ä¸´ç•Œèµ„æº - é”ï¼ˆLock/RLockï¼‰
</span><span class=s2>å¤šä¸ªçº¿ç¨‹ç«äº‰å¤šä¸ªèµ„æºï¼ˆçº¿ç¨‹æ•°&gt;èµ„æºæ•°ï¼‰ - ä¿¡å·é‡ï¼ˆSemaphoreï¼‰
</span><span class=s2>å¤šä¸ªçº¿ç¨‹çš„è°ƒåº¦ - æš‚åœçº¿ç¨‹æ‰§è¡Œ/å”¤é†’ç­‰å¾…ä¸­çš„çº¿ç¨‹ - Condition
</span><span class=s2>&#34;&#34;&#34;</span>
<span class=kn>from</span> <span class=nn>concurrent.futures</span> <span class=kn>import</span> <span class=n>ThreadPoolExecutor</span>
<span class=kn>from</span> <span class=nn>random</span> <span class=kn>import</span> <span class=n>randint</span>
<span class=kn>from</span> <span class=nn>time</span> <span class=kn>import</span> <span class=n>sleep</span>

<span class=kn>import</span> <span class=nn>threading</span>


<span class=k>class</span> <span class=nc>Account</span><span class=p>:</span>
    <span class=s2>&#34;&#34;&#34;é“¶è¡Œè´¦æˆ·&#34;&#34;&#34;</span>

    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>balance</span><span class=o>=</span><span class=mi>0</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>balance</span> <span class=o>=</span> <span class=n>balance</span>
        <span class=n>lock</span> <span class=o>=</span> <span class=n>threading</span><span class=o>.</span><span class=n>RLock</span><span class=p>()</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>condition</span> <span class=o>=</span> <span class=n>threading</span><span class=o>.</span><span class=n>Condition</span><span class=p>(</span><span class=n>lock</span><span class=p>)</span>

    <span class=k>def</span> <span class=nf>withdraw</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>money</span><span class=p>):</span>
        <span class=s2>&#34;&#34;&#34;å–é’±&#34;&#34;&#34;</span>
        <span class=k>with</span> <span class=bp>self</span><span class=o>.</span><span class=n>condition</span><span class=p>:</span>
            <span class=k>while</span> <span class=n>money</span> <span class=o>&gt;</span> <span class=bp>self</span><span class=o>.</span><span class=n>balance</span><span class=p>:</span>
                <span class=bp>self</span><span class=o>.</span><span class=n>condition</span><span class=o>.</span><span class=n>wait</span><span class=p>()</span>
            <span class=n>new_balance</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>balance</span> <span class=o>-</span> <span class=n>money</span>
            <span class=n>sleep</span><span class=p>(</span><span class=mf>0.001</span><span class=p>)</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>balance</span> <span class=o>=</span> <span class=n>new_balance</span>

    <span class=k>def</span> <span class=nf>deposit</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>money</span><span class=p>):</span>
        <span class=s2>&#34;&#34;&#34;å­˜é’±&#34;&#34;&#34;</span>
        <span class=k>with</span> <span class=bp>self</span><span class=o>.</span><span class=n>condition</span><span class=p>:</span>
            <span class=n>new_balance</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>balance</span> <span class=o>+</span> <span class=n>money</span>
            <span class=n>sleep</span><span class=p>(</span><span class=mf>0.001</span><span class=p>)</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>balance</span> <span class=o>=</span> <span class=n>new_balance</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>condition</span><span class=o>.</span><span class=n>notify_all</span><span class=p>()</span>


<span class=k>def</span> <span class=nf>add_money</span><span class=p>(</span><span class=n>account</span><span class=p>):</span>
    <span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
        <span class=n>money</span> <span class=o>=</span> <span class=n>randint</span><span class=p>(</span><span class=mi>5</span><span class=p>,</span> <span class=mi>10</span><span class=p>)</span>
        <span class=n>account</span><span class=o>.</span><span class=n>deposit</span><span class=p>(</span><span class=n>money</span><span class=p>)</span>
        <span class=nb>print</span><span class=p>(</span><span class=n>threading</span><span class=o>.</span><span class=n>current_thread</span><span class=p>()</span><span class=o>.</span><span class=n>name</span><span class=p>,</span> 
              <span class=s1>&#39;:&#39;</span><span class=p>,</span> <span class=n>money</span><span class=p>,</span> <span class=s1>&#39;====&gt;&#39;</span><span class=p>,</span> <span class=n>account</span><span class=o>.</span><span class=n>balance</span><span class=p>)</span>
        <span class=n>sleep</span><span class=p>(</span><span class=mf>0.5</span><span class=p>)</span>


<span class=k>def</span> <span class=nf>sub_money</span><span class=p>(</span><span class=n>account</span><span class=p>):</span>
    <span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
        <span class=n>money</span> <span class=o>=</span> <span class=n>randint</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span> <span class=mi>30</span><span class=p>)</span>
        <span class=n>account</span><span class=o>.</span><span class=n>withdraw</span><span class=p>(</span><span class=n>money</span><span class=p>)</span>
        <span class=nb>print</span><span class=p>(</span><span class=n>threading</span><span class=o>.</span><span class=n>current_thread</span><span class=p>()</span><span class=o>.</span><span class=n>name</span><span class=p>,</span> 
              <span class=s1>&#39;:&#39;</span><span class=p>,</span> <span class=n>money</span><span class=p>,</span> <span class=s1>&#39;&lt;====&#39;</span><span class=p>,</span> <span class=n>account</span><span class=o>.</span><span class=n>balance</span><span class=p>)</span>
        <span class=n>sleep</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>


<span class=k>def</span> <span class=nf>main</span><span class=p>():</span>
    <span class=n>account</span> <span class=o>=</span> <span class=n>Account</span><span class=p>()</span>
    <span class=k>with</span> <span class=n>ThreadPoolExecutor</span><span class=p>(</span><span class=n>max_workers</span><span class=o>=</span><span class=mi>15</span><span class=p>)</span> <span class=k>as</span> <span class=n>pool</span><span class=p>:</span>
        <span class=k>for</span> <span class=n>_</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>5</span><span class=p>):</span>
            <span class=n>pool</span><span class=o>.</span><span class=n>submit</span><span class=p>(</span><span class=n>add_money</span><span class=p>,</span> <span class=n>account</span><span class=p>)</span>
        <span class=k>for</span> <span class=n>_</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>10</span><span class=p>):</span>
            <span class=n>pool</span><span class=o>.</span><span class=n>submit</span><span class=p>(</span><span class=n>sub_money</span><span class=p>,</span> <span class=n>account</span><span class=p>)</span>


<span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
    <span class=n>main</span><span class=p>()</span>
</code></pre></td></tr></table></div></div></div></li><li><p>å¤šè¿›ç¨‹ï¼šå¤šè¿›ç¨‹å¯ä»¥æœ‰æ•ˆçš„è§£å†³GILçš„é—®é¢˜ï¼Œå®ç°å¤šè¿›ç¨‹ä¸»è¦çš„ç±»æ˜¯<code>Process</code>ï¼Œå…¶ä»–è¾…åŠ©çš„ç±»è·Ÿ<code>threading</code>æ¨¡å—ä¸­çš„ç±»ä¼¼ï¼Œè¿›ç¨‹é—´å…±äº«æ•°æ®å¯ä»¥ä½¿ç”¨ç®¡é“ã€å¥—æ¥å­—ç­‰ï¼Œåœ¨<code>multiprocessing</code>æ¨¡å—ä¸­æœ‰ä¸€ä¸ª<code>Queue</code>ç±»ï¼Œå®ƒåŸºäºç®¡é“å’Œé”æœºåˆ¶æä¾›äº†å¤šä¸ªè¿›ç¨‹å…±äº«çš„é˜Ÿåˆ—ã€‚ä¸‹é¢æ˜¯å®˜æ–¹æ–‡æ¡£ä¸Šå…³äºå¤šè¿›ç¨‹å’Œè¿›ç¨‹æ± çš„ä¸€ä¸ªç¤ºä¾‹ã€‚</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Python data-lang=Python><span class=s2>&#34;&#34;&#34;
</span><span class=s2>å¤šè¿›ç¨‹å’Œè¿›ç¨‹æ± çš„ä½¿ç”¨
</span><span class=s2>å¤šçº¿ç¨‹å› ä¸ºGILçš„å­˜åœ¨ä¸èƒ½å¤Ÿå‘æŒ¥CPUçš„å¤šæ ¸ç‰¹æ€§
</span><span class=s2>å¯¹äºè®¡ç®—å¯†é›†å‹ä»»åŠ¡åº”è¯¥è€ƒè™‘ä½¿ç”¨å¤šè¿›ç¨‹
</span><span class=s2>time python3 example22.py
</span><span class=s2>real    0m11.512s
</span><span class=s2>user    0m39.319s
</span><span class=s2>sys     0m0.169s
</span><span class=s2>ä½¿ç”¨å¤šè¿›ç¨‹åå®é™…æ‰§è¡Œæ—¶é—´ä¸º11.512ç§’ï¼Œè€Œç”¨æˆ·æ—¶é—´39.319ç§’çº¦ä¸ºå®é™…æ‰§è¡Œæ—¶é—´çš„4å€
</span><span class=s2>è¿™å°±è¯æ˜æˆ‘ä»¬çš„ç¨‹åºé€šè¿‡å¤šè¿›ç¨‹ä½¿ç”¨äº†CPUçš„å¤šæ ¸ç‰¹æ€§ï¼Œè€Œä¸”è¿™å°è®¡ç®—æœºé…ç½®äº†4æ ¸çš„CPU
</span><span class=s2>&#34;&#34;&#34;</span>
<span class=kn>import</span> <span class=nn>concurrent.futures</span>
<span class=kn>import</span> <span class=nn>math</span>

<span class=n>PRIMES</span> <span class=o>=</span> <span class=p>[</span>
    <span class=mi>1116281</span><span class=p>,</span>
    <span class=mi>1297337</span><span class=p>,</span>
    <span class=mi>104395303</span><span class=p>,</span>
    <span class=mi>472882027</span><span class=p>,</span>
    <span class=mi>533000389</span><span class=p>,</span>
    <span class=mi>817504243</span><span class=p>,</span>
    <span class=mi>982451653</span><span class=p>,</span>
    <span class=mi>112272535095293</span><span class=p>,</span>
    <span class=mi>112582705942171</span><span class=p>,</span>
    <span class=mi>112272535095293</span><span class=p>,</span>
    <span class=mi>115280095190773</span><span class=p>,</span>
    <span class=mi>115797848077099</span><span class=p>,</span>
    <span class=mi>1099726899285419</span>
<span class=p>]</span> <span class=o>*</span> <span class=mi>5</span>


<span class=k>def</span> <span class=nf>is_prime</span><span class=p>(</span><span class=n>n</span><span class=p>):</span>
    <span class=s2>&#34;&#34;&#34;åˆ¤æ–­ç´ æ•°&#34;&#34;&#34;</span>
    <span class=k>if</span> <span class=n>n</span> <span class=o>%</span> <span class=mi>2</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
        <span class=k>return</span> <span class=kc>False</span>

    <span class=n>sqrt_n</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>math</span><span class=o>.</span><span class=n>floor</span><span class=p>(</span><span class=n>math</span><span class=o>.</span><span class=n>sqrt</span><span class=p>(</span><span class=n>n</span><span class=p>)))</span>
    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=n>sqrt_n</span> <span class=o>+</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>):</span>
        <span class=k>if</span> <span class=n>n</span> <span class=o>%</span> <span class=n>i</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
            <span class=k>return</span> <span class=kc>False</span>
    <span class=k>return</span> <span class=kc>True</span>


<span class=k>def</span> <span class=nf>main</span><span class=p>():</span>
    <span class=s2>&#34;&#34;&#34;ä¸»å‡½æ•°&#34;&#34;&#34;</span>
    <span class=k>with</span> <span class=n>concurrent</span><span class=o>.</span><span class=n>futures</span><span class=o>.</span><span class=n>ProcessPoolExecutor</span><span class=p>()</span> <span class=k>as</span> <span class=n>executor</span><span class=p>:</span>
        <span class=k>for</span> <span class=n>number</span><span class=p>,</span> <span class=n>prime</span> <span class=ow>in</span> <span class=nb>zip</span><span class=p>(</span><span class=n>PRIMES</span><span class=p>,</span> <span class=n>executor</span><span class=o>.</span><span class=n>map</span><span class=p>(</span><span class=n>is_prime</span><span class=p>,</span> <span class=n>PRIMES</span><span class=p>)):</span>
            <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;</span><span class=si>%d</span><span class=s1> is prime: </span><span class=si>%s</span><span class=s1>&#39;</span> <span class=o>%</span> <span class=p>(</span><span class=n>number</span><span class=p>,</span> <span class=n>prime</span><span class=p>))</span>


<span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
    <span class=n>main</span><span class=p>()</span>
</code></pre></td></tr></table></div></div></div><blockquote><p><strong>é‡ç‚¹</strong>ï¼š<strong>å¤šçº¿ç¨‹å’Œå¤šè¿›ç¨‹çš„æ¯”è¾ƒ</strong>ã€‚</p><p>ä»¥ä¸‹æƒ…å†µéœ€è¦ä½¿ç”¨å¤šçº¿ç¨‹ï¼š</p><ol><li>ç¨‹åºéœ€è¦ç»´æŠ¤è®¸å¤šå…±äº«çš„çŠ¶æ€ï¼ˆå°¤å…¶æ˜¯å¯å˜çŠ¶æ€ï¼‰ï¼ŒPythonä¸­çš„åˆ—è¡¨ã€å­—å…¸ã€é›†åˆéƒ½æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œæ‰€ä»¥ä½¿ç”¨çº¿ç¨‹è€Œä¸æ˜¯è¿›ç¨‹ç»´æŠ¤å…±äº«çŠ¶æ€çš„ä»£ä»·ç›¸å¯¹è¾ƒå°ã€‚</li><li>ç¨‹åºä¼šèŠ±è´¹å¤§é‡æ—¶é—´åœ¨I/Oæ“ä½œä¸Šï¼Œæ²¡æœ‰å¤ªå¤šå¹¶è¡Œè®¡ç®—çš„éœ€æ±‚ä¸”ä¸éœ€å ç”¨å¤ªå¤šçš„å†…å­˜ã€‚</li></ol><p>ä»¥ä¸‹æƒ…å†µéœ€è¦ä½¿ç”¨å¤šè¿›ç¨‹ï¼š</p><ol><li>ç¨‹åºæ‰§è¡Œè®¡ç®—å¯†é›†å‹ä»»åŠ¡ï¼ˆå¦‚ï¼šå­—èŠ‚ç æ“ä½œã€æ•°æ®å¤„ç†ã€ç§‘å­¦è®¡ç®—ï¼‰ã€‚</li><li>ç¨‹åºçš„è¾“å…¥å¯ä»¥å¹¶è¡Œçš„åˆ†æˆå—ï¼Œå¹¶ä¸”å¯ä»¥å°†è¿ç®—ç»“æœåˆå¹¶ã€‚</li><li>ç¨‹åºåœ¨å†…å­˜ä½¿ç”¨æ–¹é¢æ²¡æœ‰ä»»ä½•é™åˆ¶ä¸”ä¸å¼ºä¾èµ–äºI/Oæ“ä½œï¼ˆå¦‚ï¼šè¯»å†™æ–‡ä»¶ã€å¥—æ¥å­—ç­‰ï¼‰ã€‚</li></ol></blockquote></li><li><p>å¼‚æ­¥å¤„ç†ï¼šä»è°ƒåº¦ç¨‹åºçš„ä»»åŠ¡é˜Ÿåˆ—ä¸­æŒ‘é€‰ä»»åŠ¡ï¼Œè¯¥è°ƒåº¦ç¨‹åºä»¥äº¤å‰çš„å½¢å¼æ‰§è¡Œè¿™äº›ä»»åŠ¡ï¼Œæˆ‘ä»¬å¹¶ä¸èƒ½ä¿è¯ä»»åŠ¡å°†ä»¥æŸç§é¡ºåºå»æ‰§è¡Œï¼Œå› ä¸ºæ‰§è¡Œé¡ºåºå–å†³äºé˜Ÿåˆ—ä¸­çš„ä¸€é¡¹ä»»åŠ¡æ˜¯å¦æ„¿æ„å°†CPUå¤„ç†æ—¶é—´è®©ä½ç»™å¦ä¸€é¡¹ä»»åŠ¡ã€‚å¼‚æ­¥ä»»åŠ¡é€šå¸¸é€šè¿‡å¤šä»»åŠ¡åä½œå¤„ç†çš„æ–¹å¼æ¥å®ç°ï¼Œç”±äºæ‰§è¡Œæ—¶é—´å’Œé¡ºåºçš„ä¸ç¡®å®šï¼Œå› æ­¤éœ€è¦é€šè¿‡å›è°ƒå¼ç¼–ç¨‹æˆ–è€…<code>future</code>å¯¹è±¡æ¥è·å–ä»»åŠ¡æ‰§è¡Œçš„ç»“æœã€‚Python 3é€šè¿‡<code>asyncio</code>æ¨¡å—å’Œ<code>await</code>å’Œ<code>async</code>å…³é”®å­—ï¼ˆåœ¨Python 3.7ä¸­æ­£å¼è¢«åˆ—ä¸ºå…³é”®å­—ï¼‰æ¥æ”¯æŒå¼‚æ­¥å¤„ç†ã€‚</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Python data-lang=Python><span class=s2>&#34;&#34;&#34;
</span><span class=s2>å¼‚æ­¥I/O - async / await
</span><span class=s2>&#34;&#34;&#34;</span>
<span class=kn>import</span> <span class=nn>asyncio</span>


<span class=k>def</span> <span class=nf>num_generator</span><span class=p>(</span><span class=n>m</span><span class=p>,</span> <span class=n>n</span><span class=p>):</span>
    <span class=s2>&#34;&#34;&#34;æŒ‡å®šèŒƒå›´çš„æ•°å­—ç”Ÿæˆå™¨&#34;&#34;&#34;</span>
    <span class=k>yield from</span> <span class=nb>range</span><span class=p>(</span><span class=n>m</span><span class=p>,</span> <span class=n>n</span> <span class=o>+</span> <span class=mi>1</span><span class=p>)</span>


<span class=k>async</span> <span class=k>def</span> <span class=nf>prime_filter</span><span class=p>(</span><span class=n>m</span><span class=p>,</span> <span class=n>n</span><span class=p>):</span>
    <span class=s2>&#34;&#34;&#34;ç´ æ•°è¿‡æ»¤å™¨&#34;&#34;&#34;</span>
    <span class=n>primes</span> <span class=o>=</span> <span class=p>[]</span>
    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=n>num_generator</span><span class=p>(</span><span class=n>m</span><span class=p>,</span> <span class=n>n</span><span class=p>):</span>
        <span class=n>flag</span> <span class=o>=</span> <span class=kc>True</span>
        <span class=k>for</span> <span class=n>j</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=nb>int</span><span class=p>(</span><span class=n>i</span> <span class=o>**</span> <span class=mf>0.5</span> <span class=o>+</span> <span class=mi>1</span><span class=p>)):</span>
            <span class=k>if</span> <span class=n>i</span> <span class=o>%</span> <span class=n>j</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
                <span class=n>flag</span> <span class=o>=</span> <span class=kc>False</span>
                <span class=k>break</span>
        <span class=k>if</span> <span class=n>flag</span><span class=p>:</span>
            <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;Prime =&gt;&#39;</span><span class=p>,</span> <span class=n>i</span><span class=p>)</span>
            <span class=n>primes</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>i</span><span class=p>)</span>

        <span class=k>await</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mf>0.001</span><span class=p>)</span>
    <span class=k>return</span> <span class=nb>tuple</span><span class=p>(</span><span class=n>primes</span><span class=p>)</span>


<span class=k>async</span> <span class=k>def</span> <span class=nf>square_mapper</span><span class=p>(</span><span class=n>m</span><span class=p>,</span> <span class=n>n</span><span class=p>):</span>
    <span class=s2>&#34;&#34;&#34;å¹³æ–¹æ˜ å°„å™¨&#34;&#34;&#34;</span>
    <span class=n>squares</span> <span class=o>=</span> <span class=p>[]</span>
    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=n>num_generator</span><span class=p>(</span><span class=n>m</span><span class=p>,</span> <span class=n>n</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;Square =&gt;&#39;</span><span class=p>,</span> <span class=n>i</span> <span class=o>*</span> <span class=n>i</span><span class=p>)</span>
        <span class=n>squares</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>i</span> <span class=o>*</span> <span class=n>i</span><span class=p>)</span>

        <span class=k>await</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mf>0.001</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>squares</span>


<span class=k>def</span> <span class=nf>main</span><span class=p>():</span>
    <span class=s2>&#34;&#34;&#34;ä¸»å‡½æ•°&#34;&#34;&#34;</span>
    <span class=n>loop</span> <span class=o>=</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>get_event_loop</span><span class=p>()</span>
    <span class=n>future</span> <span class=o>=</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>gather</span><span class=p>(</span><span class=n>prime_filter</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>100</span><span class=p>),</span> <span class=n>square_mapper</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>100</span><span class=p>))</span>
    <span class=n>future</span><span class=o>.</span><span class=n>add_done_callback</span><span class=p>(</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=nb>print</span><span class=p>(</span><span class=n>x</span><span class=o>.</span><span class=n>result</span><span class=p>()))</span>
    <span class=n>loop</span><span class=o>.</span><span class=n>run_until_complete</span><span class=p>(</span><span class=n>future</span><span class=p>)</span>
    <span class=n>loop</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>


<span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
    <span class=n>main</span><span class=p>()</span>
</code></pre></td></tr></table></div></div></div><blockquote><p><strong>è¯´æ˜</strong>ï¼šä¸Šé¢çš„ä»£ç ä½¿ç”¨<code>get_event_loop</code>å‡½æ•°è·å¾—ç³»ç»Ÿé»˜è®¤çš„äº‹ä»¶å¾ªç¯ï¼Œé€šè¿‡<code>gather</code>å‡½æ•°å¯ä»¥è·å¾—ä¸€ä¸ª<code>future</code>å¯¹è±¡ï¼Œ<code>future</code>å¯¹è±¡çš„<code>add_done_callback</code>å¯ä»¥æ·»åŠ æ‰§è¡Œå®Œæˆæ—¶çš„å›è°ƒå‡½æ•°ï¼Œ<code>loop</code>å¯¹è±¡çš„<code>run_until_complete</code>æ–¹æ³•å¯ä»¥ç­‰å¾…é€šè¿‡<code>future</code>å¯¹è±¡è·å¾—åç¨‹æ‰§è¡Œç»“æœã€‚</p></blockquote><p>Pythonä¸­æœ‰ä¸€ä¸ªåä¸º<code>aiohttp</code>çš„ä¸‰æ–¹åº“ï¼Œå®ƒæä¾›äº†å¼‚æ­¥çš„HTTPå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ï¼Œè¿™ä¸ªä¸‰æ–¹åº“å¯ä»¥è·Ÿ<code>asyncio</code>æ¨¡å—ä¸€èµ·å·¥ä½œï¼Œå¹¶æä¾›äº†å¯¹<code>Future</code>å¯¹è±¡çš„æ”¯æŒã€‚Python 3.6ä¸­å¼•å…¥äº†<code>async</code>å’Œ<code>await</code>æ¥å®šä¹‰å¼‚æ­¥æ‰§è¡Œçš„å‡½æ•°ä»¥åŠåˆ›å»ºå¼‚æ­¥ä¸Šä¸‹æ–‡ï¼Œåœ¨Python 3.7ä¸­å®ƒä»¬æ­£å¼æˆä¸ºäº†å…³é”®å­—ã€‚ä¸‹é¢çš„ä»£ç å¼‚æ­¥çš„ä»5ä¸ªURLä¸­è·å–é¡µé¢å¹¶é€šè¿‡æ­£åˆ™è¡¨è¾¾å¼çš„å‘½åæ•è·ç»„æå–äº†ç½‘ç«™çš„æ ‡é¢˜ã€‚</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Python data-lang=Python><span class=kn>import</span> <span class=nn>asyncio</span>
<span class=kn>import</span> <span class=nn>re</span>

<span class=kn>import</span> <span class=nn>aiohttp</span>

<span class=n>PATTERN</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>compile</span><span class=p>(</span><span class=sa>r</span><span class=s1>&#39;\&lt;title\&gt;(?P&lt;title&gt;.*)\&lt;\/title\&gt;&#39;</span><span class=p>)</span>


<span class=k>async</span> <span class=k>def</span> <span class=nf>fetch_page</span><span class=p>(</span><span class=n>session</span><span class=p>,</span> <span class=n>url</span><span class=p>):</span>
    <span class=k>async</span> <span class=k>with</span> <span class=n>session</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>url</span><span class=p>,</span> <span class=n>ssl</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span> <span class=k>as</span> <span class=n>resp</span><span class=p>:</span>
        <span class=k>return</span> <span class=k>await</span> <span class=n>resp</span><span class=o>.</span><span class=n>text</span><span class=p>()</span>


<span class=k>async</span> <span class=k>def</span> <span class=nf>show_title</span><span class=p>(</span><span class=n>url</span><span class=p>):</span>
    <span class=k>async</span> <span class=k>with</span> <span class=n>aiohttp</span><span class=o>.</span><span class=n>ClientSession</span><span class=p>()</span> <span class=k>as</span> <span class=n>session</span><span class=p>:</span>
        <span class=n>html</span> <span class=o>=</span> <span class=k>await</span> <span class=n>fetch_page</span><span class=p>(</span><span class=n>session</span><span class=p>,</span> <span class=n>url</span><span class=p>)</span>
        <span class=nb>print</span><span class=p>(</span><span class=n>PATTERN</span><span class=o>.</span><span class=n>search</span><span class=p>(</span><span class=n>html</span><span class=p>)</span><span class=o>.</span><span class=n>group</span><span class=p>(</span><span class=s1>&#39;title&#39;</span><span class=p>))</span>


<span class=k>def</span> <span class=nf>main</span><span class=p>():</span>
    <span class=n>urls</span> <span class=o>=</span> <span class=p>(</span><span class=s1>&#39;https://www.python.org/&#39;</span><span class=p>,</span>
            <span class=s1>&#39;https://git-scm.com/&#39;</span><span class=p>,</span>
            <span class=s1>&#39;https://www.jd.com/&#39;</span><span class=p>,</span>
            <span class=s1>&#39;https://www.taobao.com/&#39;</span><span class=p>,</span>
            <span class=s1>&#39;https://www.douban.com/&#39;</span><span class=p>)</span>
    <span class=n>loop</span> <span class=o>=</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>get_event_loop</span><span class=p>()</span>
    <span class=n>cos</span> <span class=o>=</span> <span class=p>[</span><span class=n>show_title</span><span class=p>(</span><span class=n>url</span><span class=p>)</span> <span class=k>for</span> <span class=n>url</span> <span class=ow>in</span> <span class=n>urls</span><span class=p>]</span>
    <span class=n>loop</span><span class=o>.</span><span class=n>run_until_complete</span><span class=p>(</span><span class=n>asyncio</span><span class=o>.</span><span class=n>wait</span><span class=p>(</span><span class=n>cos</span><span class=p>))</span>
    <span class=n>loop</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>


<span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
    <span class=n>main</span><span class=p>()</span>
</code></pre></td></tr></table></div></div></div><blockquote><p><strong>é‡ç‚¹</strong>ï¼š<strong>å¼‚æ­¥I/Oä¸å¤šè¿›ç¨‹çš„æ¯”è¾ƒ</strong>ã€‚</p><p>å½“ç¨‹åºä¸éœ€è¦çœŸæ­£çš„å¹¶å‘æ€§æˆ–å¹¶è¡Œæ€§ï¼Œè€Œæ˜¯æ›´å¤šçš„ä¾èµ–äºå¼‚æ­¥å¤„ç†å’Œå›è°ƒæ—¶ï¼Œ<code>asyncio</code>å°±æ˜¯ä¸€ç§å¾ˆå¥½çš„é€‰æ‹©ã€‚å¦‚æœç¨‹åºä¸­æœ‰å¤§é‡çš„ç­‰å¾…ä¸ä¼‘çœ æ—¶ï¼Œä¹Ÿåº”è¯¥è€ƒè™‘<code>asyncio</code>ï¼Œå®ƒå¾ˆé€‚åˆç¼–å†™æ²¡æœ‰å®æ—¶æ•°æ®å¤„ç†éœ€æ±‚çš„Webåº”ç”¨æœåŠ¡å™¨ã€‚</p></blockquote><p>Pythonè¿˜æœ‰å¾ˆå¤šç”¨äºå¤„ç†å¹¶è¡Œä»»åŠ¡çš„ä¸‰æ–¹åº“ï¼Œä¾‹å¦‚ï¼š<code>joblib</code>ã€<code>PyMP</code>ç­‰ã€‚å®é™…å¼€å‘ä¸­ï¼Œè¦æå‡ç³»ç»Ÿçš„å¯æ‰©å±•æ€§å’Œå¹¶å‘æ€§é€šå¸¸æœ‰å‚ç›´æ‰©å±•ï¼ˆå¢åŠ å•ä¸ªèŠ‚ç‚¹çš„å¤„ç†èƒ½åŠ›ï¼‰å’Œæ°´å¹³æ‰©å±•ï¼ˆå°†å•ä¸ªèŠ‚ç‚¹å˜æˆå¤šä¸ªèŠ‚ç‚¹ï¼‰ä¸¤ç§åšæ³•ã€‚å¯ä»¥é€šè¿‡æ¶ˆæ¯é˜Ÿåˆ—æ¥å®ç°åº”ç”¨ç¨‹åºçš„è§£è€¦åˆï¼Œæ¶ˆæ¯é˜Ÿåˆ—ç›¸å½“äºæ˜¯å¤šçº¿ç¨‹åŒæ­¥é˜Ÿåˆ—çš„æ‰©å±•ç‰ˆæœ¬ï¼Œä¸åŒæœºå™¨ä¸Šçš„åº”ç”¨ç¨‹åºç›¸å½“äºå°±æ˜¯çº¿ç¨‹ï¼Œè€Œå…±äº«çš„åˆ†å¸ƒå¼æ¶ˆæ¯é˜Ÿåˆ—å°±æ˜¯åŸæ¥ç¨‹åºä¸­çš„Queueã€‚æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆé¢å‘æ¶ˆæ¯çš„ä¸­é—´ä»¶ï¼‰çš„æœ€æµè¡Œå’Œæœ€æ ‡å‡†åŒ–çš„å®ç°æ˜¯AMQPï¼ˆé«˜çº§æ¶ˆæ¯é˜Ÿåˆ—åè®®ï¼‰ï¼ŒAMQPæºäºé‡‘èè¡Œä¸šï¼Œæä¾›äº†æ’é˜Ÿã€è·¯ç”±ã€å¯é ä¼ è¾“ã€å®‰å…¨ç­‰åŠŸèƒ½ï¼Œæœ€è‘—åçš„å®ç°åŒ…æ‹¬ï¼šApacheçš„ActiveMQã€RabbitMQç­‰ã€‚</p><p>è¦å®ç°ä»»åŠ¡çš„å¼‚æ­¥åŒ–ï¼Œå¯ä»¥ä½¿ç”¨åä¸º<code>Celery</code>çš„ä¸‰æ–¹åº“ã€‚<code>Celery</code>æ˜¯Pythonç¼–å†™çš„åˆ†å¸ƒå¼ä»»åŠ¡é˜Ÿåˆ—ï¼Œå®ƒä½¿ç”¨åˆ†å¸ƒå¼æ¶ˆæ¯è¿›è¡Œå·¥ä½œï¼Œå¯ä»¥åŸºäºRabbitMQæˆ–Redisæ¥ä½œä¸ºåç«¯çš„æ¶ˆæ¯ä»£ç†ã€‚</p></li></ul></div><ul class=post-copyright><li class="copyright-item author"><span class=copyright-item-text>ä½œè€…</span>ï¼š<span class="p-author h-card">éª†æ˜Š</span></li><li class="copyright-item link"><span class=copyright-item-text>é“¾æ¥</span>ï¼š<a href=https://github.com/jackfrued/Python-100-Days target=_blank rel=noopener>https://github.com/jackfrued/Python-100-Days</a></li><li class="copyright-item license"><span class=copyright-item-text>è®¸å¯</span>ï¼šæœ¬æ–‡é‡‡ç”¨<a href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh target=_blank rel=noopener>ã€ŒCC BY-NC-SA 4.0ã€</a>åè®®ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</li></ul></article><div class=related-posts><h2 class=related-title>ç›¸å…³æ–‡ç« ï¼š<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon related-icon"><path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6.0-12-5.4-12-12v-92h-92c-6.6.0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6.0 12 5.4 12 12v92h92c6.6.0 12 5.4 12 12v56z"/></svg></h2><ul class=related-list><li class=related-item><a href=/python/01.%E5%88%9D%E8%AF%86python/ class=related-link>01.åˆè¯†Python</a></li><li class=related-item><a href=/python/02.%E8%AF%AD%E8%A8%80%E5%85%83%E7%B4%A0/ class=related-link>02.è¯­è¨€å…ƒç´ </a></li><li class=related-item><a href=/python/03.%E5%88%86%E6%94%AF%E7%BB%93%E6%9E%84/ class=related-link>03.åˆ†æ”¯ç»“æ„</a></li><li class=related-item><a href=/python/04.%E5%BE%AA%E7%8E%AF%E7%BB%93%E6%9E%84/ class=related-link>04.å¾ªç¯ç»“æ„</a></li><li class=related-item><a href=/python/05.%E6%9E%84%E9%80%A0%E7%A8%8B%E5%BA%8F%E9%80%BB%E8%BE%91/ class=related-link>05.æ„é€ ç¨‹åºé€»è¾‘</a></li></ul></div><div class=post-tags><a href=/tags/python/ rel=tag class=post-tags-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon tag-icon"><path d="M0 252.118V48C0 21.49 21.49.0 48 0h204.118a48 48 0 0133.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137.0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882.0L14.059 286.059A48 48 0 010 252.118zM112 64c-26.51.0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"/></svg>python</a></div></div></main><div id=back-to-top class=back-to-top><a href=#><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="icon arrow-up"><path d="M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6.0-33.9L207 39c9.4-9.4 24.6-9.4 33.9.0l194.3 194.3c9.4 9.4 9.4 24.6.0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3.0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"/></svg></a></div><footer id=footer class=footer><div class=footer-inner><div class=site-info>Â©&nbsp;2021â€“2022&nbsp;<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon footer-icon"><path d="M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3.0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"/></svg>&nbsp;hanxin</div><script src=https://sdk.jinrishici.com/v2/browser/jinrishici.js></script>
<text class=poem_sentence></text>
<text class=poem_info></text>
<script type=text/javascript>jinrishici.load(function(a){var b=document.querySelector(".poem_sentence"),c=document.querySelector(".poem_info");b.innerHTML=a.data.content,c.innerHTML='â€”â€”'+a.data.origin.author})</script></div></footer></div><script src=https://cdn.jsdelivr.net/npm/medium-zoom@latest/dist/medium-zoom.min.js></script>
<script>mediumZoom(document.querySelectorAll('div.post-body img'),{background:'hsla(var(--color-bg-h), var(--color-bg-s), var(--color-bg-l), 0.95)'})</script><script src=https://cdn.jsdelivr.net/npm/instant.page@5.1.0/instantpage.min.js type=module defer></script></body></html>