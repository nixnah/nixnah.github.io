<!doctype html><html lang=zh-cn><head prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article#"><meta charset=utf-8><meta name=generator content="Hugo 0.91.2"><meta name=theme-color content="#16171d"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=format-detection content="telephone=no, date=no, address=no, email=no"><meta http-equiv=cache-control content="no-transform"><meta http-equiv=cache-control content="no-siteapp"><title>36-38.å…³ç³»å‹æ•°æ®åº“MySQL | Hanxin</title><link rel=stylesheet href=/css/meme.min.88c90dc75021618344ec926f4ed6ac307f30ba48911294816b16370a41e5f137.css><script src=/js/meme.min.f460a174bb100a60a7e275913695161f1e09aab1378fe99cfd30cde14da70888.js></script>
<link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,400;0,500;0,700;1,400;1,700&family=Noto+Serif+SC:wght@400;500;700&family=Source+Code+Pro:ital,wght@0,400;0,700;1,400;1,700&family=Satisfy&family=Klee+One:wght@400;600&family=Great+Vibes&display=swap" media=print onload="this.media='all'"><noscript><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,400;0,500;0,700;1,400;1,700&family=Noto+Serif+SC:wght@400;500;700&family=Source+Code+Pro:ital,wght@0,400;0,700;1,400;1,700&family=Satisfy&family=Klee+One:wght@400;600&family=Great+Vibes&display=swap"></noscript><meta name=author content="éª†æ˜Š"><meta name=description content="å…³ç³»æ•°æ®åº“å…¥é—¨ å…³ç³»æ•°æ®åº“æ¦‚è¿° æ•°æ®æŒä¹…åŒ– - å°†æ•°æ®ä¿å­˜åˆ°èƒ½å¤Ÿé•¿ä¹…ä¿å­˜æ•°æ®çš„å­˜å‚¨ä»‹è´¨ä¸­ï¼Œåœ¨â€¦â€¦"><link rel="shortcut icon" href=/favicon.ico type=image/x-icon><link rel=mask-icon href=/icons/safari-pinned-tab.svg color=#2a6df4><link rel=apple-touch-icon sizes=180x180 href=/icons/apple-touch-icon.png><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-title content="Hanxin"><meta name=apple-mobile-web-app-status-bar-style content="black"><meta name=mobile-web-app-capable content="yes"><meta name=application-name content="Hanxin"><meta name=msapplication-starturl content="../../"><meta name=msapplication-TileColor content="#fff"><meta name=msapplication-TileImage content="../../icons/mstile-150x150.png"><link rel=manifest href=/manifest.json><link rel=canonical href=/python/36-38.%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93mysql/><script type=application/ld+json>{"@context":"https://schema.org","@type":"WebPage","datePublished":"2021-08-23T17:34:45+08:00","dateModified":"2022-01-16T09:24:35+00:00","url":"/python/36-38.%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93mysql/","name":"36-38.å…³ç³»å‹æ•°æ®åº“MySQL","description":"å…³ç³»æ•°æ®åº“å…¥é—¨ å…³ç³»æ•°æ®åº“æ¦‚è¿° æ•°æ®æŒä¹…åŒ– - å°†æ•°æ®ä¿å­˜åˆ°èƒ½å¤Ÿé•¿ä¹…ä¿å­˜æ•°æ®çš„å­˜å‚¨ä»‹è´¨ä¸­ï¼Œåœ¨â€¦â€¦","image":"/icons/apple-touch-icon.png","license":"æœ¬æ–‡é‡‡ç”¨[ã€ŒCC BY-NC-SA 4.0ã€](https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh)åè®®ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚","publisher":{"@type":"Organization","name":"Hanxin","logo":{"@type":"ImageObject","url":"/icons/apple-touch-icon.png"},"url":"/"},"mainEntityOfPage":{"@type":"WebSite","@id":"/"}}</script><meta name=twitter:card content="summary"><meta property="og:title" content="36-38.å…³ç³»å‹æ•°æ®åº“MySQL"><meta property="og:description" content="å…³ç³»æ•°æ®åº“å…¥é—¨ å…³ç³»æ•°æ®åº“æ¦‚è¿° æ•°æ®æŒä¹…åŒ– - å°†æ•°æ®ä¿å­˜åˆ°èƒ½å¤Ÿé•¿ä¹…ä¿å­˜æ•°æ®çš„å­˜å‚¨ä»‹è´¨ä¸­ï¼Œåœ¨â€¦â€¦"><meta property="og:url" content="/python/36-38.%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93mysql/"><meta property="og:site_name" content="Hanxin"><meta property="og:locale" content="zh"><meta property="og:image" content="/icons/apple-touch-icon.png"><meta property="og:type" content="website"></head><body><div class=container><header class=header><div class=header-wrapper><div class="header-inner single"><div class=site-brand><a href=/ class=brand>Hanxin</a></div><nav class=nav><ul class=menu id=menu><li class=menu-item><a href=/life/><span class=menu-item-name>ç”Ÿæ´»</span></a></li><li class=menu-item><a href=/tech/><span class=menu-item-name>æŠ€æœ¯</span></a></li><li class=menu-item><a href=/tags/><span class=menu-item-name>æ ‡ç­¾</span></a></li><li class=menu-item><a href=/about/><span class=menu-item-name>å…³äº</span></a></li><li class=menu-item><a href=/blogroll/><span class=menu-item-name>å‹é“¾</span></a></li><li class=menu-item><a href=/python/><span class=menu-item-name>Python-100å¤©</span></a></li><li class=menu-item><a id=theme-switcher href=#><span class="icon theme-icon-light">ğŸŒ</span><span class="icon theme-icon-dark">ğŸŒ™</span></a></li></ul></nav></div></div><input type=checkbox id=nav-toggle aria-hidden=true>
<label for=nav-toggle class=nav-toggle></label>
<label for=nav-toggle class=nav-curtain></label></header><main class="main single" id=main><div class=main-inner><article class="content post h-entry" data-align=justify data-type=python data-toc-num=true><h1 class="post-title p-name">36-38.å…³ç³»å‹æ•°æ®åº“MySQL</h1><div class=post-meta><time datetime=2021-08-23T17:34:45+08:00 class="post-meta-item published dt-published"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="icon post-meta-icon"><path d="M148 288h-40c-6.6.0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6.0 12 5.4 12 12v40c0 6.6-5.4 12-12 12zm108-12v-40c0-6.6-5.4-12-12-12h-40c-6.6.0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6.0 12-5.4 12-12zm96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6.0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6.0 12-5.4 12-12zm-96 96v-40c0-6.6-5.4-12-12-12h-40c-6.6.0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6.0 12-5.4 12-12zm-96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6.0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6.0 12-5.4 12-12zm192 0v-40c0-6.6-5.4-12-12-12h-40c-6.6.0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6.0 12-5.4 12-12zm96-260v352c0 26.5-21.5 48-48 48H48c-26.5.0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h48V12c0-6.6 5.4-12 12-12h40c6.6.0 12 5.4 12 12v52h128V12c0-6.6 5.4-12 12-12h40c6.6.0 12 5.4 12 12v52h48c26.5.0 48 21.5 48 48zm-48 346V160H48v298c0 3.3 2.7 6 6 6h340c3.3.0 6-2.7 6-6z"/></svg>&nbsp;2021.8.23</time>
<time datetime=2022-01-16T09:24:35+00:00 class="post-meta-item modified dt-updated"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="icon post-meta-icon"><path d="M4e2 64h-48V12c0-6.627-5.373-12-12-12h-40c-6.627.0-12 5.373-12 12v52H160V12c0-6.627-5.373-12-12-12h-40c-6.627.0-12 5.373-12 12v52H48C21.49 64 0 85.49.0 112v352c0 26.51 21.49 48 48 48h352c26.51.0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm-6 4e2H54a6 6 0 01-6-6V160h352v298a6 6 0 01-6 6zm-52.849-200.65L198.842 404.519c-4.705 4.667-12.303 4.637-16.971-.068l-75.091-75.699c-4.667-4.705-4.637-12.303.068-16.971l22.719-22.536c4.705-4.667 12.303-4.637 16.97.069l44.104 44.461 111.072-110.181c4.705-4.667 12.303-4.637 16.971.068l22.536 22.718c4.667 4.705 4.636 12.303-.069 16.97z"/></svg>&nbsp;2022.1.16</time>
<span class="post-meta-item wordcount"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon post-meta-icon"><path d="M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3.0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9.0l60.1 60.1c18.8 18.7 18.8 49.1.0 67.9zM284.2 99.8 21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3.0-17l-111-111c-4.8-4.7-12.4-4.7-17.1.0zM124.1 339.9c-5.5-5.5-5.5-14.3.0-19.8l154-154c5.5-5.5 14.3-5.5 19.8.0s5.5 14.3.0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8.0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"/></svg>&nbsp;22026</span>
<span class="post-meta-item reading-time"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon post-meta-icon"><path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5.0-2e2-89.5-2e2-2e2S145.5 56 256 56s2e2 89.5 2e2 2e2-89.5 2e2-2e2 2e2zm61.8-104.4-84.9-61.7c-3.1-2.3-4.9-5.9-4.9-9.7V116c0-6.6 5.4-12 12-12h32c6.6.0 12 5.4 12 12v141.7l66.8 48.6c5.4 3.9 6.5 11.4 2.6 16.8L334.6 349c-3.9 5.3-11.4 6.5-16.8 2.6z"/></svg>&nbsp;44&nbsp;åˆ†é’Ÿ</span></div><div class="post-body e-content"><h2 id=å…³ç³»æ•°æ®åº“å…¥é—¨><a href=#å…³ç³»æ•°æ®åº“å…¥é—¨ class=anchor-link>#</a>å…³ç³»æ•°æ®åº“å…¥é—¨</h2><h3 id=å…³ç³»æ•°æ®åº“æ¦‚è¿°><a href=#å…³ç³»æ•°æ®åº“æ¦‚è¿° class=anchor-link>#</a>å…³ç³»æ•°æ®åº“æ¦‚è¿°</h3><ol><li><p>æ•°æ®æŒä¹…åŒ– - å°†æ•°æ®ä¿å­˜åˆ°èƒ½å¤Ÿé•¿ä¹…ä¿å­˜æ•°æ®çš„å­˜å‚¨ä»‹è´¨ä¸­ï¼Œåœ¨æ‰ç”µçš„æƒ…å†µä¸‹æ•°æ®ä¹Ÿä¸ä¼šä¸¢å¤±ã€‚</p></li><li><p>æ•°æ®åº“å‘å±•å² - ç½‘çŠ¶æ•°æ®åº“ã€å±‚æ¬¡æ•°æ®åº“ã€å…³ç³»æ•°æ®åº“ã€NoSQLæ•°æ®åº“ã€NewSQLæ•°æ®åº“ã€‚</p><blockquote><p>1970å¹´ï¼ŒIBMçš„ç ”ç©¶å‘˜E.F.Coddåœ¨<em>Communication of the ACM</em>ä¸Šå‘è¡¨äº†åä¸º<em>A Relational Model of Data for Large Shared Data Banks</em>çš„è®ºæ–‡ï¼Œæå‡ºäº†<strong>å…³ç³»æ¨¡å‹</strong>çš„æ¦‚å¿µï¼Œå¥ å®šäº†å…³ç³»æ¨¡å‹çš„ç†è®ºåŸºç¡€ã€‚åæ¥Coddåˆé™†ç»­å‘è¡¨å¤šç¯‡æ–‡ç« ï¼Œè®ºè¿°äº†èŒƒå¼ç†è®ºå’Œè¡¡é‡å…³ç³»ç³»ç»Ÿçš„12æ¡æ ‡å‡†ï¼Œç”¨æ•°å­¦ç†è®ºå¥ å®šäº†å…³ç³»æ•°æ®åº“çš„åŸºç¡€ã€‚</p></blockquote></li><li><p>å…³ç³»æ•°æ®åº“ç‰¹ç‚¹ã€‚</p><ul><li><p>ç†è®ºåŸºç¡€ï¼š<strong>é›†åˆè®º</strong>å’Œ<strong>å…³ç³»ä»£æ•°</strong>ã€‚</p></li><li><p>å…·ä½“è¡¨è±¡ï¼šç”¨<strong>äºŒç»´è¡¨</strong>ï¼ˆæœ‰è¡Œå’Œåˆ—ï¼‰ç»„ç»‡æ•°æ®ã€‚</p></li><li><p>ç¼–ç¨‹è¯­è¨€ï¼š<strong>ç»“æ„åŒ–æŸ¥è¯¢è¯­è¨€</strong>ï¼ˆSQLï¼‰ã€‚</p></li></ul></li><li><p>ERæ¨¡å‹ï¼ˆå®ä½“å…³ç³»æ¨¡å‹ï¼‰å’Œæ¦‚å¿µæ¨¡å‹å›¾ã€‚</p><p><strong>ERæ¨¡å‹</strong>ï¼Œå…¨ç§°ä¸º<strong>å®ä½“å…³ç³»æ¨¡å‹</strong>ï¼ˆEntity-Relationship Modelï¼‰ï¼Œç”±ç¾ç±åè£”è®¡ç®—æœºç§‘å­¦å®¶é™ˆå“å±±å…ˆç”Ÿæå‡ºï¼Œæ˜¯æ¦‚å¿µæ•°æ®æ¨¡å‹çš„é«˜å±‚æè¿°æ–¹å¼ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src=/res/er_diagram.png alt></p><ul><li>å®ä½“ - çŸ©å½¢æ¡†</li><li>å±æ€§ - æ¤­åœ†æ¡†</li><li>å…³ç³» - è±å½¢æ¡†</li><li>é‡æ•° - 1:1ï¼ˆä¸€å¯¹ä¸€ï¼‰ / 1:Nï¼ˆä¸€å¯¹å¤šï¼‰ / M:Nï¼ˆå¤šå¯¹å¤šï¼‰</li></ul><p>å®é™…é¡¹ç›®å¼€å‘ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨æ•°æ®åº“å»ºæ¨¡å·¥å…·ï¼ˆå¦‚ï¼šPowerDesignerï¼‰æ¥ç»˜åˆ¶æ¦‚å¿µæ•°æ®æ¨¡å‹ï¼ˆå…¶æœ¬è´¨å°±æ˜¯ERæ¨¡å‹ï¼‰ï¼Œç„¶åå†è®¾ç½®å¥½ç›®æ ‡æ•°æ®åº“ç³»ç»Ÿï¼Œå°†æ¦‚å¿µæ¨¡å‹è½¬æ¢æˆç‰©ç†æ¨¡å‹ï¼Œæœ€ç»ˆç”Ÿæˆåˆ›å»ºäºŒç»´è¡¨çš„SQLï¼ˆå¾ˆå¤šå·¥å…·éƒ½å¯ä»¥æ ¹æ®æˆ‘ä»¬è®¾è®¡çš„ç‰©ç†æ¨¡å‹å›¾ä»¥åŠè®¾å®šçš„ç›®æ ‡æ•°æ®åº“æ¥å¯¼å‡ºSQLæˆ–ç›´æ¥ç”Ÿæˆæ•°æ®è¡¨ï¼‰ã€‚</p><p><img src=/res/conceptual_model.png alt></p></li><li><p>å…³ç³»æ•°æ®åº“äº§å“ã€‚</p><ul><li><a href=https://www.oracle.com/index.html target=_blank rel=noopener>Oracle</a> - ç›®å‰ä¸–ç•Œä¸Šä½¿ç”¨æœ€ä¸ºå¹¿æ³›çš„æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼Œä½œä¸ºä¸€ä¸ªé€šç”¨çš„æ•°æ®åº“ç³»ç»Ÿï¼Œå®ƒå…·æœ‰å®Œæ•´çš„æ•°æ®ç®¡ç†åŠŸèƒ½ï¼›ä½œä¸ºä¸€ä¸ªå…³ç³»æ•°æ®åº“ï¼Œå®ƒæ˜¯ä¸€ä¸ªå®Œå¤‡å…³ç³»çš„äº§å“ï¼›ä½œä¸ºåˆ†å¸ƒå¼æ•°æ®åº“ï¼Œå®ƒå®ç°äº†åˆ†å¸ƒå¼å¤„ç†çš„åŠŸèƒ½ã€‚åœ¨Oracleæœ€æ–°çš„12cç‰ˆæœ¬ä¸­ï¼Œè¿˜å¼•å…¥äº†å¤šæ‰¿ç§Ÿæ–¹æ¶æ„ï¼Œä½¿ç”¨è¯¥æ¶æ„å¯è½»æ¾éƒ¨ç½²å’Œç®¡ç†æ•°æ®åº“äº‘ã€‚</li><li><a href=https://www.ibm.com/analytics/us/en/db2/ target=_blank rel=noopener>DB2</a> - IBMå…¬å¸å¼€å‘çš„ã€ä¸»è¦è¿è¡ŒäºUnixï¼ˆåŒ…æ‹¬IBMè‡ªå®¶çš„<a href=https://zh.wikipedia.org/wiki/AIX target=_blank rel=noopener>AIX</a>ï¼‰ã€Linuxã€ä»¥åŠWindowsæœåŠ¡å™¨ç‰ˆç­‰ç³»ç»Ÿçš„å…³ç³»æ•°æ®åº“äº§å“ã€‚DB2å†å²æ‚ ä¹…ä¸”è¢«è®¤ä¸ºæ˜¯æœ€æ—©ä½¿ç”¨SQLçš„æ•°æ®åº“äº§å“ï¼Œå®ƒæ‹¥æœ‰è¾ƒä¸ºå¼ºå¤§çš„å•†ä¸šæ™ºèƒ½åŠŸèƒ½ã€‚</li><li><a href=https://www.microsoft.com/en-us/sql-server/ target=_blank rel=noopener>SQL Server</a> - ç”±Microsoftå¼€å‘å’Œæ¨å¹¿çš„å…³ç³»å‹æ•°æ®åº“äº§å“ï¼Œæœ€åˆé€‚ç”¨äºä¸­å°ä¼ä¸šçš„æ•°æ®ç®¡ç†ï¼Œä½†æ˜¯è¿‘å¹´æ¥å®ƒçš„åº”ç”¨èŒƒå›´æœ‰æ‰€æ‰©å±•ï¼Œéƒ¨åˆ†å¤§ä¼ä¸šç”šè‡³æ˜¯è·¨å›½å…¬å¸ä¹Ÿå¼€å§‹åŸºäºå®ƒæ¥æ„å»ºè‡ªå·±çš„æ•°æ®ç®¡ç†ç³»ç»Ÿã€‚</li><li><a href=https://www.mysql.com/ target=_blank rel=noopener>MySQL</a> - MySQLæ˜¯å¼€æ”¾æºä»£ç çš„ï¼Œä»»ä½•äººéƒ½å¯ä»¥åœ¨GPLï¼ˆGeneral Public Licenseï¼‰çš„è®¸å¯ä¸‹ä¸‹è½½å¹¶æ ¹æ®ä¸ªæ€§åŒ–çš„éœ€è¦å¯¹å…¶è¿›è¡Œä¿®æ”¹ã€‚MySQLå› ä¸ºå…¶é€Ÿåº¦ã€å¯é æ€§å’Œé€‚åº”æ€§è€Œå¤‡å—å…³æ³¨ã€‚</li><li><a href>PostgreSQL</a> - åœ¨BSDè®¸å¯è¯ä¸‹å‘è¡Œçš„å¼€æ”¾æºä»£ç çš„å…³ç³»æ•°æ®åº“äº§å“ã€‚</li></ul></li></ol><h3 id=mysqlç®€ä»‹><a href=#mysqlç®€ä»‹ class=anchor-link>#</a>MySQLç®€ä»‹</h3><p>MySQLæœ€æ—©æ˜¯ç”±ç‘å…¸çš„MySQL ABå…¬å¸å¼€å‘çš„ä¸€ä¸ªå¼€æ”¾æºç çš„å…³ç³»æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼Œè¯¥å…¬å¸äº2008å¹´è¢«æ˜‡é˜³å¾®ç³»ç»Ÿå…¬å¸ï¼ˆSun Microsystemsï¼‰æ”¶è´­ã€‚åœ¨2009å¹´ï¼Œç”²éª¨æ–‡å…¬å¸ï¼ˆOracleï¼‰æ”¶è´­æ˜‡é˜³å¾®ç³»ç»Ÿå…¬å¸ï¼Œå› æ­¤åœ¨è¿™ä¹‹åMySQLæˆä¸ºäº†Oracleæ——ä¸‹äº§å“ã€‚</p><p>MySQLåœ¨è¿‡å»ç”±äºæ€§èƒ½é«˜ã€æˆæœ¬ä½ã€å¯é æ€§å¥½ï¼Œå·²ç»æˆä¸ºæœ€æµè¡Œçš„å¼€æºæ•°æ®åº“ï¼Œå› æ­¤è¢«å¹¿æ³›åœ°åº”ç”¨äºä¸­å°å‹ç½‘ç«™å¼€å‘ã€‚éšç€MySQLçš„ä¸æ–­æˆç†Ÿï¼Œå®ƒä¹Ÿé€æ¸è¢«åº”ç”¨äºæ›´å¤šå¤§è§„æ¨¡ç½‘ç«™å’Œåº”ç”¨ï¼Œæ¯”å¦‚ç»´åŸºç™¾ç§‘ã€è°·æ­Œï¼ˆGoogleï¼‰ã€è„¸ä¹¦ï¼ˆFacebookï¼‰ã€æ·˜å®ç½‘ç­‰ç½‘ç«™éƒ½ä½¿ç”¨äº†MySQLæ¥æä¾›æ•°æ®æŒä¹…åŒ–æœåŠ¡ã€‚</p><p>ç”²éª¨æ–‡å…¬å¸æ”¶è´­åæ˜‡é˜³å¾®ç³»ç»Ÿå…¬å¸ï¼Œå¤§å¹…è°ƒæ¶¨MySQLå•†ä¸šç‰ˆçš„å”®ä»·ï¼Œä¸”ç”²éª¨æ–‡å…¬å¸ä¸å†æ”¯æŒå¦ä¸€ä¸ªè‡ªç”±è½¯ä»¶é¡¹ç›®<a href=https://zh.wikipedia.org/wiki/OpenSolaris target=_blank rel=noopener>OpenSolaris</a>çš„å‘å±•ï¼Œå› æ­¤å¯¼è‡´è‡ªç”±è½¯ä»¶ç¤¾åŒºå¯¹äºOracleæ˜¯å¦è¿˜ä¼šæŒç»­æ”¯æŒMySQLç¤¾åŒºç‰ˆï¼ˆMySQLçš„å„ä¸ªå‘è¡Œç‰ˆæœ¬ä¸­å”¯ä¸€å…è´¹çš„ç‰ˆæœ¬ï¼‰æœ‰æ‰€æ‹…å¿§ï¼ŒMySQLçš„åˆ›å§‹äººéº¦å…‹å°”Â·ç»´å¾·çº½æ–¯ä»¥MySQLä¸ºåŸºç¡€ï¼Œæˆç«‹åˆ†æ”¯è®¡åˆ’<a href=https://zh.wikipedia.org/wiki/MariaDB target=_blank rel=noopener>MariaDB</a>ï¼ˆä»¥ä»–å¥³å„¿çš„åå­—å‘½åçš„æ•°æ®åº“ï¼‰ã€‚æœ‰è®¸å¤šåŸæ¥ä½¿ç”¨MySQLæ•°æ®åº“çš„å…¬å¸ï¼ˆä¾‹å¦‚ï¼šç»´åŸºç™¾ç§‘ï¼‰å·²ç»é™†ç»­å®Œæˆäº†ä»MySQLæ•°æ®åº“åˆ°MariaDBæ•°æ®åº“çš„è¿ç§»ã€‚</p><ol><li><p>å®‰è£…å’Œé…ç½®</p><blockquote><p><strong>è¯´æ˜</strong>ï¼šä¸‹é¢çš„å®‰è£…å’Œé…ç½®éƒ½æ˜¯ä»¥CentOS Linuxç¯å¢ƒä¸ºä¾‹ï¼Œå¦‚æœéœ€è¦åœ¨å…¶ä»–ç³»ç»Ÿä¸‹å®‰è£…MySQLï¼Œè¯»è€…å¯ä»¥è‡ªè¡Œåœ¨ç½‘ç»œä¸ŠæŸ¥æ‰¾å¯¹åº”çš„å®‰è£…æ•™ç¨‹ï¼‰ã€‚</p></blockquote><ul><li><p>åˆšæ‰è¯´è¿‡ï¼ŒMySQLæœ‰ä¸€ä¸ªåˆ†æ”¯ç‰ˆæœ¬åå«MariaDBï¼Œè¯¥æ•°æ®åº“æ—¨åœ¨ç»§ç»­ä¿æŒMySQLæ•°æ®åº“åœ¨<a href=https://zh.wikipedia.org/wiki/GNU%E9%80%9A%E7%94%A8%E5%85%AC%E5%85%B1%E8%AE%B8%E5%8F%AF%E8%AF%81 target=_blank rel=noopener>GNU GPL</a>ä¸‹å¼€æºã€‚å¦‚æœè¦ä½¿ç”¨MariaDBä½œä¸ºMySQLçš„æ›¿ä»£å“ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤è¿›è¡Œå®‰è£…ã€‚</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Shell data-lang=Shell>yum install mariadb mariadb-server
</code></pre></td></tr></table></div></div></div></li><li><p>å¦‚æœè¦å®‰è£…å®˜æ–¹ç‰ˆæœ¬çš„MySQLï¼Œå¯ä»¥åœ¨<a href=https://www.mysql.com/ target=_blank rel=noopener>MySQLå®˜æ–¹ç½‘ç«™</a>ä¸‹è½½å®‰è£…æ–‡ä»¶ã€‚é¦–å…ˆåœ¨ä¸‹è½½é¡µé¢ä¸­é€‰æ‹©å¹³å°å’Œç‰ˆæœ¬ï¼Œç„¶åæ‰¾åˆ°å¯¹åº”çš„ä¸‹è½½é“¾æ¥ã€‚ä¸‹é¢ä»¥MySQL 5.7.26ç‰ˆæœ¬å’ŒRed Hat Enterprise Linuxä¸ºä¾‹ï¼Œç›´æ¥ä¸‹è½½åŒ…å«æ‰€æœ‰å®‰è£…æ–‡ä»¶çš„å½’æ¡£æ–‡ä»¶ï¼Œè§£å½’æ¡£ä¹‹åé€šè¿‡åŒ…ç®¡ç†å·¥å…·è¿›è¡Œå®‰è£…ã€‚</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Shell data-lang=Shell>wget https://dev.mysql.com/get/Downloads/MySQL-5.7/mysql-5.7.26-1.el7.x86_64.rpm-bundle.tar
tar -xvf mysql-5.7.26-1.el7.x86_64.rpm-bundle.tar
</code></pre></td></tr></table></div></div></div><p>å¦‚æœç³»ç»Ÿä¸Šæœ‰MariaDBç›¸å…³çš„æ–‡ä»¶ï¼Œéœ€è¦å…ˆç§»é™¤MariaDBç›¸å…³çš„æ–‡ä»¶ã€‚</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Shell data-lang=Shell>yum list installed <span class=p>|</span> grep mariadb <span class=p>|</span> awk <span class=s1>&#39;{print $1}&#39;</span> <span class=p>|</span> xargs yum erase -y
</code></pre></td></tr></table></div></div></div><p>æ¥ä¸‹æ¥å¯ä»¥æŒ‰ç…§å¦‚ä¸‹æ‰€ç¤ºçš„é¡ºåºç”¨RPMï¼ˆRedhat Package Managerï¼‰å·¥å…·å®‰è£…MySQLã€‚</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Shell data-lang=Shell>rpm -ivh mysql-community-common-5.7.26-1.el7.x86_64.rpm
rpm -ivh mysql-community-libs-5.7.26-1.el7.x86_64.rpm
rpm -ivh mysql-community-libs-compat-5.7.26-1.el7.x86_64.rpm
rpm -ivh mysql-community-devel-5.7.26-1.el7.x86_64.rpm
rpm -ivh mysql-community-client-5.7.26-1.el7.x86_64.rpm
rpm -ivh mysql-community-server-5.7.26-1.el7.x86_64.rpm
</code></pre></td></tr></table></div></div></div><p>å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤æŸ¥çœ‹å·²ç»å®‰è£…çš„MySQLç›¸å…³çš„åŒ…ã€‚</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Shell data-lang=Shell>rpm -qa <span class=p>|</span> grep mysql
</code></pre></td></tr></table></div></div></div></li><li><p>é…ç½®MySQLã€‚</p><p>MySQLçš„é…ç½®æ–‡ä»¶åœ¨<code>/etc</code>ç›®å½•ä¸‹ï¼Œåä¸º<code>my.cnf</code>ï¼Œé»˜è®¤çš„é…ç½®æ–‡ä»¶å†…å®¹å¦‚ä¸‹æ‰€ç¤ºã€‚å¦‚æœå¯¹è¿™ä¸ªæ–‡ä»¶ä¸ç†è§£å¹¶æ²¡æœ‰å…³ç³»ï¼Œä»€ä¹ˆæ—¶å€™ç”¨åˆ°è¿™ä¸ªé…ç½®æ–‡ä»¶ä»€ä¹ˆæ—¶å€™å†äº†è§£å®ƒå°±è¡Œäº†ã€‚</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Shell data-lang=Shell>cat /etc/my.cnf
</code></pre></td></tr></table></div></div></div><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-INI data-lang=INI><span class=c1># For advice on how to change settings please see</span>
<span class=c1># http://dev.mysql.com/doc/refman/5.7/en/server-configuration-defaults.html</span>

<span class=k>[mysqld]</span>
<span class=c1>#</span>
<span class=c1># Remove leading # and set to the amount of RAM for the most important data</span>
<span class=c1># cache in MySQL. Start at 70% of total RAM for dedicated server, else 10%.</span>
<span class=c1># innodb_buffer_pool_size = 128M</span>
<span class=c1>#</span>
<span class=c1># Remove leading # to turn on a very important data integrity option: logging</span>
<span class=c1># changes to the binary log between backups.</span>
<span class=c1># log_bin</span>
<span class=c1>#</span>
<span class=c1># Remove leading # to set options mainly useful for reporting servers.</span>
<span class=c1># The server defaults are faster for transactions and fast SELECTs.</span>
<span class=c1># Adjust sizes as needed, experiment to find the optimal values.</span>
<span class=c1># join_buffer_size = 128M</span>
<span class=c1># sort_buffer_size = 2M</span>
<span class=c1># read_rnd_buffer_size = 2M</span>
<span class=na>datadir</span><span class=o>=</span><span class=s>/var/lib/mysql</span>
<span class=na>socket</span><span class=o>=</span><span class=s>/var/lib/mysql/mysql.sock</span>

<span class=c1># Disabling symbolic-links is recommended to prevent assorted security risks</span>
<span class=na>symbolic-links</span><span class=o>=</span><span class=s>0</span>

<span class=na>log-error</span><span class=o>=</span><span class=s>/var/log/mysqld.log</span>
<span class=na>pid-file</span><span class=o>=</span><span class=s>/var/run/mysqld/mysqld.pid</span>
</code></pre></td></tr></table></div></div></div></li><li><p>å¯åŠ¨MySQLæœåŠ¡ã€‚</p><p>å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤æ¥å¯åŠ¨MySQLã€‚</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Shell data-lang=Shell>service mysqld start
</code></pre></td></tr></table></div></div></div><p>åœ¨CentOS 7ä¸­ï¼Œæ›´æ¨èä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤æ¥å¯åŠ¨MySQLã€‚</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Shell data-lang=Shell>systemctl start mysqld
</code></pre></td></tr></table></div></div></div><p>å¯åŠ¨MySQLæˆåŠŸåï¼Œå¯ä»¥é€šè¿‡ä¸‹é¢çš„å‘½ä»¤æ¥æ£€æŸ¥ç½‘ç»œç«¯å£ä½¿ç”¨æƒ…å†µï¼ŒMySQLé»˜è®¤ä½¿ç”¨3306ç«¯å£ã€‚</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Shell data-lang=Shell>netstat -ntlp <span class=p>|</span> grep mysql
</code></pre></td></tr></table></div></div></div><p>ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤æŸ¥æ‰¾æ˜¯å¦æœ‰åä¸ºmysqldçš„è¿›ç¨‹ã€‚</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Shell data-lang=Shell>pgrep mysqld
</code></pre></td></tr></table></div></div></div></li><li><p>ä½¿ç”¨MySQLå®¢æˆ·ç«¯å·¥å…·è¿æ¥æœåŠ¡å™¨ã€‚</p><p>å‘½ä»¤è¡Œå·¥å…·ï¼š</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Shell data-lang=Shell>mysql -u root -p
</code></pre></td></tr></table></div></div></div><blockquote><p>è¯´æ˜ï¼šå¯åŠ¨å®¢æˆ·ç«¯æ—¶ï¼Œ<code>-u</code>å‚æ•°ç”¨æ¥æŒ‡å®šç”¨æˆ·åï¼ŒMySQLé»˜è®¤çš„è¶…çº§ç®¡ç†è´¦å·ä¸º<code>root</code>ï¼›<code>-p</code>è¡¨ç¤ºè¦è¾“å…¥å¯†ç ï¼ˆç”¨æˆ·å£ä»¤ï¼‰ï¼›å¦‚æœè¿æ¥çš„æ˜¯å…¶ä»–ä¸»æœºè€Œéæœ¬æœºï¼Œå¯ä»¥ç”¨<code>-h</code>æ¥æŒ‡å®šè¿æ¥ä¸»æœºçš„ä¸»æœºåæˆ–IPåœ°å€ã€‚</p></blockquote><p>å¦‚æœæ˜¯é¦–æ¬¡å®‰è£…MySQLï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤æ¥æ‰¾åˆ°é»˜è®¤çš„åˆå§‹å¯†ç ã€‚</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Shell data-lang=Shell>cat /var/log/mysqld.log <span class=p>|</span> grep password
</code></pre></td></tr></table></div></div></div><p>ä¸Šé¢çš„å‘½ä»¤ä¼šæŸ¥çœ‹MySQLçš„æ—¥å¿—å¸¦æœ‰passwordçš„è¡Œï¼Œåœ¨æ˜¾ç¤ºçš„ç»“æœä¸­<code>root@localhost:</code>åé¢çš„éƒ¨åˆ†å°±æ˜¯é»˜è®¤è®¾ç½®çš„åˆå§‹å¯†ç ã€‚</p><p>ä¿®æ”¹è¶…çº§ç®¡ç†å‘˜ï¼ˆrootï¼‰çš„è®¿é—®å£ä»¤ä¸º<code>123456</code>ã€‚</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=k>set</span><span class=w> </span><span class=k>global</span><span class=w> </span><span class=n>validate_password_policy</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span><span class=w>
</span><span class=w></span><span class=k>set</span><span class=w> </span><span class=k>global</span><span class=w> </span><span class=n>validate_password_length</span><span class=o>=</span><span class=mi>6</span><span class=p>;</span><span class=w>
</span><span class=w></span><span class=k>alter</span><span class=w> </span><span class=k>user</span><span class=w> </span><span class=s1>&#39;root&#39;</span><span class=o>@</span><span class=s1>&#39;localhost&#39;</span><span class=w> </span><span class=n>identified</span><span class=w> </span><span class=k>by</span><span class=w> </span><span class=s1>&#39;123456&#39;</span><span class=p>;</span><span class=w>
</span></code></pre></td></tr></table></div></div></div><blockquote><p><strong>è¯´æ˜</strong>ï¼šMySQLè¾ƒæ–°çš„ç‰ˆæœ¬é»˜è®¤ä¸å…è®¸ä½¿ç”¨å¼±å£ä»¤ä½œä¸ºç”¨æˆ·å£ä»¤ï¼Œæ‰€ä»¥æˆ‘ä»¬é€šè¿‡ä¸Šé¢çš„å‰ä¸¤æ¡å‘½ä»¤ä¿®æ”¹äº†éªŒè¯ç”¨æˆ·å£ä»¤çš„ç­–ç•¥å’Œå£ä»¤çš„é•¿åº¦ã€‚äº‹å®ä¸Šæˆ‘ä»¬ä¸åº”è¯¥ä½¿ç”¨å¼±å£ä»¤ï¼Œå› ä¸ºå­˜åœ¨ç”¨æˆ·å£ä»¤è¢«æš´åŠ›ç ´è§£çš„é£é™©ã€‚è¿‘å¹´æ¥ï¼Œæ”»å‡»æ•°æ®åº“çªƒå–æ•°æ®å’ŒåŠ«æŒæ•°æ®åº“å‹’ç´¢æ¯”ç‰¹å¸çš„äº‹ä»¶å±¡è§ä¸é²œï¼Œè¦é¿å…è¿™äº›æ½œåœ¨çš„é£é™©ï¼Œæœ€ä¸ºé‡è¦çš„ä¸€ç‚¹æ˜¯ä¸è¦è®©æ•°æ®åº“æœåŠ¡å™¨æš´éœ²åœ¨å…¬ç½‘ä¸Šï¼ˆæœ€å¥½çš„åšæ³•æ˜¯å°†æ•°æ®åº“ç½®äºå†…ç½‘ï¼Œè‡³å°‘è¦åšåˆ°ä¸å‘å…¬ç½‘å¼€æ”¾æ•°æ®åº“æœåŠ¡å™¨çš„è®¿é—®ç«¯å£ï¼‰ï¼Œå¦å¤–è¦ä¿ç®¡å¥½<code>root</code>è´¦å·çš„å£ä»¤ï¼Œåº”ç”¨ç³»ç»Ÿéœ€è¦è®¿é—®æ•°æ®åº“æ—¶ï¼Œé€šå¸¸ä¸ä½¿ç”¨<code>root</code>è´¦å·è¿›è¡Œè®¿é—®ï¼Œè€Œæ˜¯åˆ›å»ºå…¶ä»–æ‹¥æœ‰é€‚å½“æƒé™çš„è´¦å·æ¥è®¿é—®ã€‚</p></blockquote><p>å†æ¬¡ä½¿ç”¨å®¢æˆ·ç«¯å·¥å…·è¿æ¥MySQLæœåŠ¡å™¨æ—¶ï¼Œå°±å¯ä»¥ä½¿ç”¨æ–°è®¾ç½®çš„å£ä»¤äº†ã€‚åœ¨å®é™…å¼€å‘ä¸­ï¼Œä¸ºäº†æ–¹ä¾¿ç”¨æˆ·æ“ä½œï¼Œå¯ä»¥é€‰æ‹©å›¾å½¢åŒ–çš„å®¢æˆ·ç«¯å·¥å…·æ¥è¿æ¥MySQLæœåŠ¡å™¨ï¼ŒåŒ…æ‹¬ï¼š</p><ul><li>MySQL Workbenchï¼ˆå®˜æ–¹æä¾›çš„å·¥å…·ï¼‰</li><li>Navicat for MySQLï¼ˆç•Œé¢ç®€å•ï¼ŒåŠŸèƒ½ç›´è§‚ï¼‰</li><li>SQLyog for MySQLï¼ˆå¼ºå¤§çš„MySQLæ•°æ®åº“ç®¡ç†å‘˜å·¥å…·ï¼‰</li></ul></li></ul></li><li><p>å¸¸ç”¨å‘½ä»¤ã€‚</p><ul><li><p>æŸ¥çœ‹æœåŠ¡å™¨ç‰ˆæœ¬ã€‚</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=k>select</span><span class=w> </span><span class=k>version</span><span class=p>();</span><span class=w>
</span></code></pre></td></tr></table></div></div></div></li><li><p>æŸ¥çœ‹æ‰€æœ‰æ•°æ®åº“ã€‚</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=k>show</span><span class=w> </span><span class=n>databases</span><span class=p>;</span><span class=w>
</span></code></pre></td></tr></table></div></div></div></li><li><p>åˆ‡æ¢åˆ°æŒ‡å®šæ•°æ®åº“ã€‚</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=n>use</span><span class=w> </span><span class=n>mysql</span><span class=p>;</span><span class=w>
</span></code></pre></td></tr></table></div></div></div></li><li><p>æŸ¥çœ‹æ•°æ®åº“ä¸‹æ‰€æœ‰è¡¨ã€‚</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Shell data-lang=Shell>show tables<span class=p>;</span>
</code></pre></td></tr></table></div></div></div></li><li><p>è·å–å¸®åŠ©ã€‚</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=o>?</span><span class=w> </span><span class=n>contents</span><span class=p>;</span><span class=w>
</span><span class=w></span><span class=o>?</span><span class=w> </span><span class=n>functions</span><span class=p>;</span><span class=w>
</span><span class=w></span><span class=o>?</span><span class=w> </span><span class=nb>numeric</span><span class=w> </span><span class=n>functions</span><span class=p>;</span><span class=w>
</span><span class=w></span><span class=o>?</span><span class=w> </span><span class=n>round</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=o>?</span><span class=w> </span><span class=k>data</span><span class=w> </span><span class=n>types</span><span class=p>;</span><span class=w>
</span><span class=w></span><span class=o>?</span><span class=w> </span><span class=n>longblob</span><span class=p>;</span><span class=w>
</span></code></pre></td></tr></table></div></div></div></li></ul></li></ol><h3 id=sqlè¯¦è§£><a href=#sqlè¯¦è§£ class=anchor-link>#</a>SQLè¯¦è§£</h3><p>æˆ‘ä»¬é€šå¸¸å¯ä»¥å°†SQLåˆ†ä¸ºä¸‰ç±»ï¼šDDLï¼ˆæ•°æ®å®šä¹‰è¯­è¨€ï¼‰ã€DMLï¼ˆæ•°æ®æ“ä½œè¯­è¨€ï¼‰å’ŒDCLï¼ˆæ•°æ®æ§åˆ¶è¯­è¨€ï¼‰ã€‚DDLä¸»è¦ç”¨äºåˆ›å»ºï¼ˆcreateï¼‰ã€åˆ é™¤ï¼ˆdropï¼‰ã€ä¿®æ”¹ï¼ˆalterï¼‰æ•°æ®åº“ä¸­çš„å¯¹è±¡ï¼Œæ¯”å¦‚åˆ›å»ºã€åˆ é™¤å’Œä¿®æ”¹äºŒç»´è¡¨ï¼›DMLä¸»è¦è´Ÿè´£æ’å…¥æ•°æ®ï¼ˆinsertï¼‰ã€åˆ é™¤æ•°æ®ï¼ˆdeleteï¼‰ã€æ›´æ–°æ•°æ®ï¼ˆupdateï¼‰å’ŒæŸ¥è¯¢ï¼ˆselectï¼‰ï¼›DCLé€šå¸¸ç”¨äºæˆäºˆæƒé™ï¼ˆgrantï¼‰å’Œå¬å›æƒé™ï¼ˆrevokeï¼‰ã€‚</p><blockquote><p><strong>è¯´æ˜</strong>ï¼šSQLæ˜¯ä¸åŒºåˆ†å¤§å°å†™çš„è¯­è¨€ï¼Œä¸ºäº†ä¹¦å†™å’Œè¯†åˆ«æ–¹ä¾¿ï¼Œä¸‹é¢çš„SQLéƒ½ä½¿ç”¨äº†å°å†™å­—æ¯æ¥ä¹¦å†™ã€‚</p></blockquote><h4 id=ddlæ•°æ®å®šä¹‰è¯­è¨€><a href=#ddlæ•°æ®å®šä¹‰è¯­è¨€ class=anchor-link>#</a>DDLï¼ˆæ•°æ®å®šä¹‰è¯­è¨€ï¼‰</h4><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span><span class=lnt>66
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=c1>-- å¦‚æœå­˜åœ¨åä¸ºschoolçš„æ•°æ®åº“å°±åˆ é™¤å®ƒ
</span><span class=c1></span><span class=k>drop</span><span class=w> </span><span class=k>database</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=k>exists</span><span class=w> </span><span class=o>`</span><span class=n>school</span><span class=o>`</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c1>-- åˆ›å»ºåä¸ºschoolçš„æ•°æ®åº“å¹¶è®¾ç½®é»˜è®¤çš„å­—ç¬¦é›†å’Œæ’åºæ–¹å¼
</span><span class=c1></span><span class=k>create</span><span class=w> </span><span class=k>database</span><span class=w> </span><span class=o>`</span><span class=n>school</span><span class=o>`</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=nb>character</span><span class=w> </span><span class=k>set</span><span class=w> </span><span class=n>utf8mb4</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c1>-- åˆ‡æ¢åˆ°schoolæ•°æ®åº“ä¸Šä¸‹æ–‡ç¯å¢ƒ
</span><span class=c1></span><span class=n>use</span><span class=w> </span><span class=o>`</span><span class=n>school</span><span class=o>`</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c1>-- åˆ›å»ºå­¦é™¢è¡¨
</span><span class=c1></span><span class=k>create</span><span class=w> </span><span class=k>table</span><span class=w> </span><span class=o>`</span><span class=n>tb_college</span><span class=o>`</span><span class=w>
</span><span class=w></span><span class=p>(</span><span class=w>
</span><span class=w></span><span class=o>`</span><span class=n>col_id</span><span class=o>`</span><span class=w> </span><span class=nb>int</span><span class=w> </span><span class=n>unsigned</span><span class=w> </span><span class=n>auto_increment</span><span class=w> </span><span class=k>comment</span><span class=w> </span><span class=s1>&#39;ç¼–å·&#39;</span><span class=p>,</span><span class=w>
</span><span class=w></span><span class=o>`</span><span class=n>col_name</span><span class=o>`</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>50</span><span class=p>)</span><span class=w> </span><span class=k>not</span><span class=w> </span><span class=k>null</span><span class=w> </span><span class=k>comment</span><span class=w> </span><span class=s1>&#39;åç§°&#39;</span><span class=p>,</span><span class=w>
</span><span class=w></span><span class=o>`</span><span class=n>col_intro</span><span class=o>`</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>5000</span><span class=p>)</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=s1>&#39;&#39;</span><span class=w> </span><span class=k>comment</span><span class=w> </span><span class=s1>&#39;ä»‹ç»&#39;</span><span class=p>,</span><span class=w>
</span><span class=w></span><span class=k>primary</span><span class=w> </span><span class=k>key</span><span class=w> </span><span class=p>(</span><span class=o>`</span><span class=n>col_id</span><span class=o>`</span><span class=p>)</span><span class=w>
</span><span class=w></span><span class=p>)</span><span class=w> </span><span class=n>engine</span><span class=o>=</span><span class=n>innodb</span><span class=w> </span><span class=k>comment</span><span class=w> </span><span class=s1>&#39;å­¦é™¢è¡¨&#39;</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c1>-- åˆ›å»ºå­¦ç”Ÿè¡¨
</span><span class=c1></span><span class=k>create</span><span class=w> </span><span class=k>table</span><span class=w> </span><span class=o>`</span><span class=n>tb_student</span><span class=o>`</span><span class=w>
</span><span class=w></span><span class=p>(</span><span class=w>
</span><span class=w></span><span class=o>`</span><span class=n>stu_id</span><span class=o>`</span><span class=w> </span><span class=nb>int</span><span class=w> </span><span class=n>unsigned</span><span class=w> </span><span class=k>not</span><span class=w> </span><span class=k>null</span><span class=w> </span><span class=k>comment</span><span class=w> </span><span class=s1>&#39;å­¦å·&#39;</span><span class=p>,</span><span class=w>
</span><span class=w></span><span class=o>`</span><span class=n>stu_name</span><span class=o>`</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=k>not</span><span class=w> </span><span class=k>null</span><span class=w> </span><span class=k>comment</span><span class=w> </span><span class=s1>&#39;å§“å&#39;</span><span class=p>,</span><span class=w>
</span><span class=w></span><span class=o>`</span><span class=n>stu_sex</span><span class=o>`</span><span class=w> </span><span class=nb>boolean</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=k>comment</span><span class=w> </span><span class=s1>&#39;æ€§åˆ«&#39;</span><span class=p>,</span><span class=w>
</span><span class=w></span><span class=o>`</span><span class=n>stu_birth</span><span class=o>`</span><span class=w> </span><span class=nb>date</span><span class=w> </span><span class=k>not</span><span class=w> </span><span class=k>null</span><span class=w> </span><span class=k>comment</span><span class=w> </span><span class=s1>&#39;å‡ºç”Ÿæ—¥æœŸ&#39;</span><span class=p>,</span><span class=w>
</span><span class=w></span><span class=o>`</span><span class=n>stu_addr</span><span class=o>`</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>255</span><span class=p>)</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=s1>&#39;&#39;</span><span class=w> </span><span class=k>comment</span><span class=w> </span><span class=s1>&#39;ç±è´¯&#39;</span><span class=p>,</span><span class=w>
</span><span class=w></span><span class=o>`</span><span class=n>col_id</span><span class=o>`</span><span class=w> </span><span class=nb>int</span><span class=w> </span><span class=n>unsigned</span><span class=w> </span><span class=k>not</span><span class=w> </span><span class=k>null</span><span class=w> </span><span class=k>comment</span><span class=w> </span><span class=s1>&#39;æ‰€å±å­¦é™¢&#39;</span><span class=p>,</span><span class=w>
</span><span class=w></span><span class=k>primary</span><span class=w> </span><span class=k>key</span><span class=w> </span><span class=p>(</span><span class=o>`</span><span class=n>stu_id</span><span class=o>`</span><span class=p>),</span><span class=w>
</span><span class=w></span><span class=k>foreign</span><span class=w> </span><span class=k>key</span><span class=w> </span><span class=p>(</span><span class=o>`</span><span class=n>col_id</span><span class=o>`</span><span class=p>)</span><span class=w> </span><span class=k>references</span><span class=w> </span><span class=o>`</span><span class=n>tb_college</span><span class=o>`</span><span class=w> </span><span class=p>(</span><span class=o>`</span><span class=n>col_id</span><span class=o>`</span><span class=p>)</span><span class=w>
</span><span class=w></span><span class=p>)</span><span class=w> </span><span class=n>engine</span><span class=o>=</span><span class=n>innodb</span><span class=w> </span><span class=k>comment</span><span class=w> </span><span class=s1>&#39;å­¦ç”Ÿè¡¨&#39;</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c1>-- åˆ›å»ºæ•™å¸ˆè¡¨
</span><span class=c1></span><span class=k>create</span><span class=w> </span><span class=k>table</span><span class=w> </span><span class=o>`</span><span class=n>tb_teacher</span><span class=o>`</span><span class=w>
</span><span class=w></span><span class=p>(</span><span class=w>
</span><span class=w></span><span class=o>`</span><span class=n>tea_id</span><span class=o>`</span><span class=w> </span><span class=nb>int</span><span class=w> </span><span class=n>unsigned</span><span class=w> </span><span class=k>not</span><span class=w> </span><span class=k>null</span><span class=w> </span><span class=k>comment</span><span class=w> </span><span class=s1>&#39;å·¥å·&#39;</span><span class=p>,</span><span class=w>
</span><span class=w></span><span class=o>`</span><span class=n>tea_name</span><span class=o>`</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=k>not</span><span class=w> </span><span class=k>null</span><span class=w> </span><span class=k>comment</span><span class=w> </span><span class=s1>&#39;å§“å&#39;</span><span class=p>,</span><span class=w>
</span><span class=w></span><span class=o>`</span><span class=n>tea_title</span><span class=o>`</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>10</span><span class=p>)</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=s1>&#39;åŠ©æ•™&#39;</span><span class=w> </span><span class=k>comment</span><span class=w> </span><span class=s1>&#39;èŒç§°&#39;</span><span class=p>,</span><span class=w>
</span><span class=w></span><span class=o>`</span><span class=n>col_id</span><span class=o>`</span><span class=w> </span><span class=nb>int</span><span class=w> </span><span class=n>unsigned</span><span class=w> </span><span class=k>not</span><span class=w> </span><span class=k>null</span><span class=w> </span><span class=k>comment</span><span class=w> </span><span class=s1>&#39;æ‰€å±å­¦é™¢&#39;</span><span class=p>,</span><span class=w>
</span><span class=w></span><span class=k>primary</span><span class=w> </span><span class=k>key</span><span class=w> </span><span class=p>(</span><span class=o>`</span><span class=n>tea_id</span><span class=o>`</span><span class=p>),</span><span class=w>
</span><span class=w></span><span class=k>foreign</span><span class=w> </span><span class=k>key</span><span class=w> </span><span class=p>(</span><span class=o>`</span><span class=n>col_id</span><span class=o>`</span><span class=p>)</span><span class=w> </span><span class=k>references</span><span class=w> </span><span class=o>`</span><span class=n>tb_college</span><span class=o>`</span><span class=w> </span><span class=p>(</span><span class=o>`</span><span class=n>col_id</span><span class=o>`</span><span class=p>)</span><span class=w>
</span><span class=w></span><span class=p>)</span><span class=w> </span><span class=n>engine</span><span class=o>=</span><span class=n>innodb</span><span class=w> </span><span class=k>comment</span><span class=w> </span><span class=s1>&#39;è€å¸ˆè¡¨&#39;</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c1>-- åˆ›å»ºè¯¾ç¨‹è¡¨
</span><span class=c1></span><span class=k>create</span><span class=w> </span><span class=k>table</span><span class=w> </span><span class=o>`</span><span class=n>tb_course</span><span class=o>`</span><span class=w>
</span><span class=w></span><span class=p>(</span><span class=w>
</span><span class=w></span><span class=o>`</span><span class=n>cou_id</span><span class=o>`</span><span class=w> </span><span class=nb>int</span><span class=w> </span><span class=n>unsigned</span><span class=w> </span><span class=k>not</span><span class=w> </span><span class=k>null</span><span class=w> </span><span class=k>comment</span><span class=w> </span><span class=s1>&#39;ç¼–å·&#39;</span><span class=p>,</span><span class=w>
</span><span class=w></span><span class=o>`</span><span class=n>cou_name</span><span class=o>`</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>50</span><span class=p>)</span><span class=w> </span><span class=k>not</span><span class=w> </span><span class=k>null</span><span class=w> </span><span class=k>comment</span><span class=w> </span><span class=s1>&#39;åç§°&#39;</span><span class=p>,</span><span class=w>
</span><span class=w></span><span class=o>`</span><span class=n>cou_credit</span><span class=o>`</span><span class=w> </span><span class=nb>int</span><span class=w> </span><span class=n>unsigned</span><span class=w> </span><span class=k>not</span><span class=w> </span><span class=k>null</span><span class=w> </span><span class=k>comment</span><span class=w> </span><span class=s1>&#39;å­¦åˆ†&#39;</span><span class=p>,</span><span class=w>
</span><span class=w></span><span class=o>`</span><span class=n>tea_id</span><span class=o>`</span><span class=w> </span><span class=nb>int</span><span class=w> </span><span class=n>unsigned</span><span class=w> </span><span class=k>not</span><span class=w> </span><span class=k>null</span><span class=w> </span><span class=k>comment</span><span class=w> </span><span class=s1>&#39;æˆè¯¾è€å¸ˆ&#39;</span><span class=p>,</span><span class=w>
</span><span class=w></span><span class=k>primary</span><span class=w> </span><span class=k>key</span><span class=w> </span><span class=p>(</span><span class=o>`</span><span class=n>cou_id</span><span class=o>`</span><span class=p>),</span><span class=w>
</span><span class=w></span><span class=k>foreign</span><span class=w> </span><span class=k>key</span><span class=w> </span><span class=p>(</span><span class=o>`</span><span class=n>tea_id</span><span class=o>`</span><span class=p>)</span><span class=w> </span><span class=k>references</span><span class=w> </span><span class=o>`</span><span class=n>tb_teacher</span><span class=o>`</span><span class=w> </span><span class=p>(</span><span class=o>`</span><span class=n>tea_id</span><span class=o>`</span><span class=p>)</span><span class=w>
</span><span class=w></span><span class=p>)</span><span class=w> </span><span class=n>engine</span><span class=o>=</span><span class=n>innodb</span><span class=w> </span><span class=k>comment</span><span class=w> </span><span class=s1>&#39;è¯¾ç¨‹è¡¨&#39;</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c1>-- åˆ›å»ºé€‰è¯¾è®°å½•è¡¨
</span><span class=c1></span><span class=k>create</span><span class=w> </span><span class=k>table</span><span class=w> </span><span class=o>`</span><span class=n>tb_record</span><span class=o>`</span><span class=w>
</span><span class=w></span><span class=p>(</span><span class=w>
</span><span class=w></span><span class=o>`</span><span class=n>rec_id</span><span class=o>`</span><span class=w> </span><span class=nb>bigint</span><span class=w> </span><span class=n>unsigned</span><span class=w> </span><span class=n>auto_increment</span><span class=w> </span><span class=k>comment</span><span class=w> </span><span class=s1>&#39;é€‰è¯¾è®°å½•å·&#39;</span><span class=p>,</span><span class=w>
</span><span class=w></span><span class=o>`</span><span class=n>sid</span><span class=o>`</span><span class=w> </span><span class=nb>int</span><span class=w> </span><span class=n>unsigned</span><span class=w> </span><span class=k>not</span><span class=w> </span><span class=k>null</span><span class=w> </span><span class=k>comment</span><span class=w> </span><span class=s1>&#39;å­¦å·&#39;</span><span class=p>,</span><span class=w>
</span><span class=w></span><span class=o>`</span><span class=n>cid</span><span class=o>`</span><span class=w> </span><span class=nb>int</span><span class=w> </span><span class=n>unsigned</span><span class=w> </span><span class=k>not</span><span class=w> </span><span class=k>null</span><span class=w> </span><span class=k>comment</span><span class=w> </span><span class=s1>&#39;è¯¾ç¨‹ç¼–å·&#39;</span><span class=p>,</span><span class=w>
</span><span class=w></span><span class=o>`</span><span class=n>sel_date</span><span class=o>`</span><span class=w> </span><span class=nb>date</span><span class=w> </span><span class=k>not</span><span class=w> </span><span class=k>null</span><span class=w> </span><span class=k>comment</span><span class=w> </span><span class=s1>&#39;é€‰è¯¾æ—¥æœŸ&#39;</span><span class=p>,</span><span class=w>
</span><span class=w></span><span class=o>`</span><span class=n>score</span><span class=o>`</span><span class=w> </span><span class=nb>decimal</span><span class=p>(</span><span class=mi>4</span><span class=p>,</span><span class=mi>1</span><span class=p>)</span><span class=w> </span><span class=k>comment</span><span class=w> </span><span class=s1>&#39;è€ƒè¯•æˆç»©&#39;</span><span class=p>,</span><span class=w>
</span><span class=w></span><span class=k>primary</span><span class=w> </span><span class=k>key</span><span class=w> </span><span class=p>(</span><span class=o>`</span><span class=n>rec_id</span><span class=o>`</span><span class=p>),</span><span class=w>
</span><span class=w></span><span class=k>foreign</span><span class=w> </span><span class=k>key</span><span class=w> </span><span class=p>(</span><span class=o>`</span><span class=n>sid</span><span class=o>`</span><span class=p>)</span><span class=w> </span><span class=k>references</span><span class=w> </span><span class=o>`</span><span class=n>tb_student</span><span class=o>`</span><span class=w> </span><span class=p>(</span><span class=o>`</span><span class=n>stu_id</span><span class=o>`</span><span class=p>),</span><span class=w>
</span><span class=w></span><span class=k>foreign</span><span class=w> </span><span class=k>key</span><span class=w> </span><span class=p>(</span><span class=o>`</span><span class=n>cid</span><span class=o>`</span><span class=p>)</span><span class=w> </span><span class=k>references</span><span class=w> </span><span class=o>`</span><span class=n>tb_course</span><span class=o>`</span><span class=w> </span><span class=p>(</span><span class=o>`</span><span class=n>cou_id</span><span class=o>`</span><span class=p>),</span><span class=w>
</span><span class=w></span><span class=k>unique</span><span class=w> </span><span class=p>(</span><span class=o>`</span><span class=n>sid</span><span class=o>`</span><span class=p>,</span><span class=w> </span><span class=o>`</span><span class=n>cid</span><span class=o>`</span><span class=p>)</span><span class=w>
</span><span class=w></span><span class=p>)</span><span class=w> </span><span class=n>engine</span><span class=o>=</span><span class=n>innodb</span><span class=w> </span><span class=k>comment</span><span class=w> </span><span class=s1>&#39;é€‰è¯¾è®°å½•è¡¨&#39;</span><span class=p>;</span><span class=w>
</span></code></pre></td></tr></table></div></div></div><p>ä¸Šé¢çš„DDLæœ‰å‡ ä¸ªåœ°æ–¹éœ€è¦å¼ºè°ƒä¸€ä¸‹ï¼š</p><ul><li><p>åˆ›å»ºæ•°æ®åº“æ—¶ï¼Œæˆ‘ä»¬é€šè¿‡<code>default charset utf8</code>æŒ‡å®šäº†æ•°æ®åº“é»˜è®¤ä½¿ç”¨çš„å­—ç¬¦é›†ï¼Œæˆ‘ä»¬æ¨èä½¿ç”¨è¯¥å­—ç¬¦é›†ï¼Œå› ä¸ºutf8èƒ½å¤Ÿæ”¯æŒå›½é™…åŒ–ç¼–ç ã€‚å¦‚æœå°†æ¥æ•°æ®åº“ä¸­ç”¨åˆ°çš„å­—ç¬¦å¯èƒ½åŒ…æ‹¬ç±»ä¼¼äºEmojiè¿™æ ·çš„å›¾ç‰‡å­—ç¬¦ï¼Œä¹Ÿå¯ä»¥å°†é»˜è®¤å­—ç¬¦é›†è®¾å®šä¸ºutf8mb4ï¼ˆæœ€å¤§4å­—èŠ‚çš„utf-8ç¼–ç ï¼‰ã€‚æŸ¥çœ‹MySQLæ”¯æŒçš„å­—ç¬¦é›†å¯ä»¥æ‰§è¡Œä¸‹é¢çš„è¯­å¥ã€‚</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=k>show</span><span class=w> </span><span class=nb>character</span><span class=w> </span><span class=k>set</span><span class=p>;</span><span class=w>
</span></code></pre></td></tr></table></div></div></div><pre tabindex=0><code>+----------+---------------------------------+---------------------+--------+
| Charset  | Description                     | Default collation   | Maxlen |
+----------+---------------------------------+---------------------+--------+
| big5     | Big5 Traditional Chinese        | big5_chinese_ci     |      2 |
| dec8     | DEC West European               | dec8_swedish_ci     |      1 |
| cp850    | DOS West European               | cp850_general_ci    |      1 |
| hp8      | HP West European                | hp8_english_ci      |      1 |
| koi8r    | KOI8-R Relcom Russian           | koi8r_general_ci    |      1 |
| latin1   | cp1252 West European            | latin1_swedish_ci   |      1 |
| latin2   | ISO 8859-2 Central European     | latin2_general_ci   |      1 |
| swe7     | 7bit Swedish                    | swe7_swedish_ci     |      1 |
| ascii    | US ASCII                        | ascii_general_ci    |      1 |
| ujis     | EUC-JP Japanese                 | ujis_japanese_ci    |      3 |
| sjis     | Shift-JIS Japanese              | sjis_japanese_ci    |      2 |
| hebrew   | ISO 8859-8 Hebrew               | hebrew_general_ci   |      1 |
| tis620   | TIS620 Thai                     | tis620_thai_ci      |      1 |
| euckr    | EUC-KR Korean                   | euckr_korean_ci     |      2 |
| koi8u    | KOI8-U Ukrainian                | koi8u_general_ci    |      1 |
| gb2312   | GB2312 Simplified Chinese       | gb2312_chinese_ci   |      2 |
| greek    | ISO 8859-7 Greek                | greek_general_ci    |      1 |
| cp1250   | Windows Central European        | cp1250_general_ci   |      1 |
| gbk      | GBK Simplified Chinese          | gbk_chinese_ci      |      2 |
| latin5   | ISO 8859-9 Turkish              | latin5_turkish_ci   |      1 |
| armscii8 | ARMSCII-8 Armenian              | armscii8_general_ci |      1 |
| utf8     | UTF-8 Unicode                   | utf8_general_ci     |      3 |
| ucs2     | UCS-2 Unicode                   | ucs2_general_ci     |      2 |
| cp866    | DOS Russian                     | cp866_general_ci    |      1 |
| keybcs2  | DOS Kamenicky Czech-Slovak      | keybcs2_general_ci  |      1 |
| macce    | Mac Central European            | macce_general_ci    |      1 |
| macroman | Mac West European               | macroman_general_ci |      1 |
| cp852    | DOS Central European            | cp852_general_ci    |      1 |
| latin7   | ISO 8859-13 Baltic              | latin7_general_ci   |      1 |
| utf8mb4  | UTF-8 Unicode                   | utf8mb4_general_ci  |      4 |
| cp1251   | Windows Cyrillic                | cp1251_general_ci   |      1 |
| utf16    | UTF-16 Unicode                  | utf16_general_ci    |      4 |
| utf16le  | UTF-16LE Unicode                | utf16le_general_ci  |      4 |
| cp1256   | Windows Arabic                  | cp1256_general_ci   |      1 |
| cp1257   | Windows Baltic                  | cp1257_general_ci   |      1 |
| utf32    | UTF-32 Unicode                  | utf32_general_ci    |      4 |
| binary   | Binary pseudo charset           | binary              |      1 |
| geostd8  | GEOSTD8 Georgian                | geostd8_general_ci  |      1 |
| cp932    | SJIS for Windows Japanese       | cp932_japanese_ci   |      2 |
| eucjpms  | UJIS for Windows Japanese       | eucjpms_japanese_ci |      3 |
| gb18030  | China National Standard GB18030 | gb18030_chinese_ci  |      4 |
+----------+---------------------------------+---------------------+--------+
41 rows in set (0.00 sec)
</code></pre><p>å¦‚æœè¦è®¾ç½®MySQLæœåŠ¡å¯åŠ¨æ—¶é»˜è®¤ä½¿ç”¨çš„å­—ç¬¦é›†ï¼Œå¯ä»¥ä¿®æ”¹MySQLçš„é…ç½®å¹¶æ·»åŠ ä»¥ä¸‹å†…å®¹</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-INI data-lang=INI><span class=k>[mysqld]</span>
<span class=na>character-set-server</span><span class=o>=</span><span class=s>utf8</span>
</code></pre></td></tr></table></div></div></div></li><li><p>åœ¨åˆ›å»ºè¡¨çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å³åœ†æ‹¬å·çš„åé¢é€šè¿‡<code>engine=XXX</code>æ¥æŒ‡å®šè¡¨çš„å­˜å‚¨å¼•æ“ï¼ŒMySQLæ”¯æŒå¤šç§å­˜å‚¨å¼•æ“ï¼Œå¯ä»¥é€šè¿‡<code>show engines</code>å‘½ä»¤è¿›è¡ŒæŸ¥çœ‹ã€‚MySQL 5.5ä»¥åçš„ç‰ˆæœ¬é»˜è®¤ä½¿ç”¨çš„å­˜å‚¨å¼•æ“æ˜¯InnoDBï¼Œå®ƒæ­£å¥½ä¹Ÿå°±æ˜¯æˆ‘ä»¬æ¨èå¤§å®¶ä½¿ç”¨çš„å­˜å‚¨å¼•æ“ï¼ˆå› ä¸ºInnoDBæ›´é€‚åˆäº’è”ç½‘åº”ç”¨å¯¹é«˜å¹¶å‘ã€æ€§èƒ½ä»¥åŠäº‹åŠ¡æ”¯æŒç­‰æ–¹é¢çš„éœ€æ±‚ï¼‰ã€‚</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=k>show</span><span class=w> </span><span class=n>engines</span><span class=err>\</span><span class=k>G</span><span class=w>
</span></code></pre></td></tr></table></div></div></div><pre tabindex=0><code>*************************** 1. row ***************************
      Engine: InnoDB
     Support: DEFAULT
     Comment: Supports transactions, row-level locking, and foreign keys
Transactions: YES
          XA: YES
  Savepoints: YES
*************************** 2. row ***************************
      Engine: MRG_MYISAM
     Support: YES
     Comment: Collection of identical MyISAM tables
Transactions: NO
          XA: NO
  Savepoints: NO
*************************** 3. row ***************************
      Engine: MEMORY
     Support: YES
     Comment: Hash based, stored in memory, useful for temporary tables
Transactions: NO
          XA: NO
  Savepoints: NO
*************************** 4. row ***************************
      Engine: BLACKHOLE
     Support: YES
     Comment: /dev/null storage engine (anything you write to it disappears)
Transactions: NO
          XA: NO
  Savepoints: NO
*************************** 5. row ***************************
      Engine: MyISAM
     Support: YES
     Comment: MyISAM storage engine
Transactions: NO
          XA: NO
  Savepoints: NO
*************************** 6. row ***************************
      Engine: CSV
     Support: YES
     Comment: CSV storage engine
Transactions: NO
          XA: NO
  Savepoints: NO
*************************** 7. row ***************************
      Engine: ARCHIVE
     Support: YES
     Comment: Archive storage engine
Transactions: NO
          XA: NO
  Savepoints: NO
*************************** 8. row ***************************
      Engine: PERFORMANCE_SCHEMA
     Support: YES
     Comment: Performance Schema
Transactions: NO
          XA: NO
  Savepoints: NO
*************************** 9. row ***************************
      Engine: FEDERATED
     Support: NO
     Comment: Federated MySQL storage engine
Transactions: NULL
          XA: NULL
  Savepoints: NULL
9 rows in set (0.00 sec)
</code></pre><p>ä¸‹é¢çš„è¡¨æ ¼å¯¹MySQLå‡ ç§å¸¸ç”¨çš„æ•°æ®å¼•æ“è¿›è¡Œäº†ç®€å•çš„å¯¹æ¯”ã€‚</p><div class=table-container><table><thead><tr><th>ç‰¹æ€§</th><th>InnoDB</th><th>MRG_MYISAM</th><th>MEMORY</th><th>MyISAM</th></tr></thead><tbody><tr><td>å­˜å‚¨é™åˆ¶</td><td>æœ‰</td><td>æ²¡æœ‰</td><td>æœ‰</td><td>æœ‰</td></tr><tr><td>äº‹åŠ¡</td><td>æ”¯æŒ</td><td></td><td></td><td></td></tr><tr><td>é”æœºåˆ¶</td><td>è¡Œé”</td><td>è¡¨é”</td><td>è¡¨é”</td><td>è¡¨é”</td></tr><tr><td>Bæ ‘ç´¢å¼•</td><td>æ”¯æŒ</td><td>æ”¯æŒ</td><td>æ”¯æŒ</td><td>æ”¯æŒ</td></tr><tr><td>å“ˆå¸Œç´¢å¼•</td><td></td><td></td><td>æ”¯æŒ</td><td></td></tr><tr><td>å…¨æ–‡æ£€ç´¢</td><td>æ”¯æŒï¼ˆ5.6+ï¼‰</td><td></td><td></td><td>æ”¯æŒ</td></tr><tr><td>é›†ç¾¤ç´¢å¼•</td><td>æ”¯æŒ</td><td></td><td></td><td></td></tr><tr><td>æ•°æ®ç¼“å­˜</td><td>æ”¯æŒ</td><td></td><td>æ”¯æŒ</td><td></td></tr><tr><td>ç´¢å¼•ç¼“å­˜</td><td>æ”¯æŒ</td><td>æ”¯æŒ</td><td>æ”¯æŒ</td><td>æ”¯æŒ</td></tr><tr><td>æ•°æ®å¯å‹ç¼©</td><td></td><td></td><td></td><td>æ”¯æŒ</td></tr><tr><td>å†…å­˜ä½¿ç”¨</td><td>é«˜</td><td>ä½</td><td>ä¸­</td><td>ä½</td></tr><tr><td>å­˜å‚¨ç©ºé—´ä½¿ç”¨</td><td>é«˜</td><td>ä½</td><td></td><td>ä½</td></tr><tr><td>æ‰¹é‡æ’å…¥æ€§èƒ½</td><td>ä½</td><td>é«˜</td><td>é«˜</td><td>é«˜</td></tr><tr><td>æ˜¯å¦æ”¯æŒå¤–é”®</td><td>æ”¯æŒ</td><td></td><td></td><td></td></tr></tbody></table></div><p>é€šè¿‡ä¸Šé¢çš„æ¯”è¾ƒæˆ‘ä»¬å¯ä»¥äº†è§£åˆ°ï¼ŒInnoDBæ˜¯å”¯ä¸€èƒ½å¤Ÿæ”¯æŒå¤–é”®ã€äº‹åŠ¡ä»¥åŠè¡Œé”çš„å­˜å‚¨å¼•æ“ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¹‹å‰è¯´å®ƒæ›´é€‚åˆäº’è”ç½‘åº”ç”¨ï¼Œè€Œä¸”å®ƒä¹Ÿæ˜¯è¾ƒæ–°çš„MySQLç‰ˆæœ¬ä¸­é»˜è®¤ä½¿ç”¨çš„å­˜å‚¨å¼•æ“ã€‚</p></li><li><p>åœ¨å®šä¹‰è¡¨ç»“æ„ä¸ºæ¯ä¸ªå­—æ®µé€‰æ‹©æ•°æ®ç±»å‹æ—¶ï¼Œå¦‚æœä¸æ¸…æ¥šå“ªä¸ªæ•°æ®ç±»å‹æ›´åˆé€‚ï¼Œå¯ä»¥é€šè¿‡MySQLçš„å¸®åŠ©ç³»ç»Ÿæ¥äº†è§£æ¯ç§æ•°æ®ç±»å‹çš„ç‰¹æ€§ã€æ•°æ®çš„é•¿åº¦å’Œç²¾åº¦ç­‰ç›¸å…³ä¿¡æ¯ã€‚</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=o>?</span><span class=w> </span><span class=k>data</span><span class=w> </span><span class=n>types</span><span class=w>
</span></code></pre></td></tr></table></div></div></div><pre tabindex=0><code>You asked for help about help category: &quot;Data Types&quot;
For more information, type 'help &lt;item&gt;', where &lt;item&gt; is one of the following
topics:
   AUTO_INCREMENT
   BIGINT
   BINARY
   BIT
   BLOB
   BLOB DATA TYPE
   BOOLEAN
   CHAR
   CHAR BYTE
   DATE
   DATETIME
   DEC
   DECIMAL
   DOUBLE
   DOUBLE PRECISION
   ENUM
   FLOAT
   INT
   INTEGER
   LONGBLOB
   LONGTEXT
   MEDIUMBLOB
   MEDIUMINT
   MEDIUMTEXT
   SET DATA TYPE
   SMALLINT
   TEXT
   TIME
   TIMESTAMP
   TINYBLOB
   TINYINT
   TINYTEXT
   VARBINARY
   VARCHAR
   YEAR DATA TYPE
</code></pre><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=o>?</span><span class=w> </span><span class=nb>varchar</span><span class=w>
</span></code></pre></td></tr></table></div></div></div><pre tabindex=0><code>Name: 'VARCHAR'
Description:
[NATIONAL] VARCHAR(M) [CHARACTER SET charset_name] [COLLATE
collation_name]

A variable-length string. M represents the maximum column length in
characters. The range of M is 0 to 65,535. The effective maximum length
of a VARCHAR is subject to the maximum row size (65,535 bytes, which is
shared among all columns) and the character set used. For example, utf8
characters can require up to three bytes per character, so a VARCHAR
column that uses the utf8 character set can be declared to be a maximum
of 21,844 characters. See
http://dev.mysql.com/doc/refman/5.7/en/column-count-limit.html.

MySQL stores VARCHAR values as a 1-byte or 2-byte length prefix plus
data. The length prefix indicates the number of bytes in the value. A
VARCHAR column uses one length byte if values require no more than 255
bytes, two length bytes if values may require more than 255 bytes.

*Note*:

MySQL follows the standard SQL specification, and does not remove
trailing spaces from VARCHAR values.

VARCHAR is shorthand for CHARACTER VARYING. NATIONAL VARCHAR is the
standard SQL way to define that a VARCHAR column should use some
predefined character set. MySQL uses utf8 as this predefined character
set. http://dev.mysql.com/doc/refman/5.7/en/charset-national.html.
NVARCHAR is shorthand for NATIONAL VARCHAR.

URL: http://dev.mysql.com/doc/refman/5.7/en/string-type-overview.html
</code></pre><p>åœ¨æ•°æ®ç±»å‹çš„é€‰æ‹©ä¸Šï¼Œä¿å­˜å­—ç¬¦ä¸²æ•°æ®é€šå¸¸éƒ½ä½¿ç”¨VARCHARå’ŒCHARä¸¤ç§ç±»å‹ï¼Œå‰è€…é€šå¸¸ç§°ä¸ºå˜é•¿å­—ç¬¦ä¸²ï¼Œè€Œåè€…é€šå¸¸ç§°ä¸ºå®šé•¿å­—ç¬¦ä¸²ï¼›å¯¹äºInnoDBå­˜å‚¨å¼•æ“ï¼Œè¡Œå­˜å‚¨æ ¼å¼æ²¡æœ‰åŒºåˆ†å›ºå®šé•¿åº¦å’Œå¯å˜é•¿åº¦åˆ—ï¼Œå› æ­¤VARCHARç±»å‹å¥½CHARç±»å‹æ²¡æœ‰æœ¬è´¨åŒºåˆ«ï¼Œåè€…ä¸ä¸€å®šæ¯”å‰è€…æ€§èƒ½æ›´å¥½ã€‚å¦‚æœè¦ä¿å­˜çš„å¾ˆå¤§å­—ç¬¦ä¸²ï¼Œå¯ä»¥ä½¿ç”¨TEXTç±»å‹ï¼›å¦‚æœè¦ä¿å­˜å¾ˆå¤§çš„å­—èŠ‚ä¸²ï¼Œå¯ä»¥ä½¿ç”¨BLOBï¼ˆäºŒè¿›åˆ¶å¤§å¯¹è±¡ï¼‰ç±»å‹ã€‚åœ¨MySQLä¸­ï¼ŒTEXTå’ŒBLOBåˆåˆ†åˆ«åŒ…æ‹¬TEXTã€MEDIUMTEXTã€LONGTEXTå’ŒBLOBã€MEDIUMBLOBã€LONGBLOBä¸‰ç§ä¸åŒçš„ç±»å‹ï¼Œå®ƒä»¬ä¸»è¦çš„åŒºåˆ«åœ¨äºå­˜å‚¨æ•°æ®çš„æœ€å¤§å¤§å°ä¸åŒã€‚ä¿å­˜æµ®ç‚¹æ•°å¯ä»¥ç”¨FLOATæˆ–DOUBLEç±»å‹ï¼Œè€Œä¿å­˜å®šç‚¹æ•°åº”è¯¥ä½¿ç”¨DECIMALç±»å‹ã€‚å¦‚æœè¦ä¿å­˜æ—¶é—´æ—¥æœŸï¼ŒDATETIMEç±»å‹ä¼˜äºTIMESTAMPç±»å‹ï¼Œå› ä¸ºå‰è€…èƒ½è¡¨ç¤ºçš„æ—¶é—´æ—¥æœŸèŒƒå›´æ›´å¤§ã€‚</p></li></ul><h4 id=dmlæ•°æ®æ“ä½œè¯­è¨€><a href=#dmlæ•°æ®æ“ä½œè¯­è¨€ class=anchor-link>#</a>DMLï¼ˆæ•°æ®æ“ä½œè¯­è¨€ï¼‰</h4><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span><span class=lnt>66
</span><span class=lnt>67
</span><span class=lnt>68
</span><span class=lnt>69
</span><span class=lnt>70
</span><span class=lnt>71
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=n>use</span><span class=w> </span><span class=n>school</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c1>-- æ’å…¥å­¦é™¢æ•°æ®
</span><span class=c1></span><span class=k>insert</span><span class=w> </span><span class=k>into</span><span class=w> </span><span class=o>`</span><span class=n>tb_college</span><span class=o>`</span><span class=w> 
</span><span class=w>    </span><span class=p>(</span><span class=o>`</span><span class=n>col_name</span><span class=o>`</span><span class=p>,</span><span class=w> </span><span class=o>`</span><span class=n>col_intro</span><span class=o>`</span><span class=p>)</span><span class=w> 
</span><span class=w></span><span class=k>values</span><span class=w> 
</span><span class=w>    </span><span class=p>(</span><span class=s1>&#39;è®¡ç®—æœºå­¦é™¢&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;è®¡ç®—æœºå­¦é™¢1958å¹´è®¾ç«‹è®¡ç®—æœºä¸“ä¸šï¼Œ1981å¹´å»ºç«‹è®¡ç®—æœºç§‘å­¦ç³»ï¼Œ1998å¹´è®¾ç«‹è®¡ç®—æœºå­¦é™¢ï¼Œ2005å¹´5æœˆï¼Œä¸ºäº†è¿›ä¸€æ­¥æ•´åˆæ•™å­¦å’Œç§‘ç ”èµ„æºï¼Œå­¦æ ¡å†³å®šï¼Œè®¡ç®—æœºå­¦é™¢å’Œè½¯ä»¶å­¦é™¢è¡Œæ”¿ç­å­åˆå¹¶ç»Ÿä¸€è¿ä½œã€å®è¡Œæ•™å­¦å’Œå­¦ç”Ÿç®¡ç†ç‹¬ç«‹è¿è¡Œçš„æ¨¡å¼ã€‚ å­¦é™¢ä¸‹è®¾ä¸‰ä¸ªç³»ï¼šè®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯ç³»ã€ç‰©è”ç½‘å·¥ç¨‹ç³»ã€è®¡ç®—é‡‘èç³»ï¼›ä¸¤ä¸ªç ”ç©¶æ‰€ï¼šå›¾è±¡å›¾å½¢ç ”ç©¶æ‰€ã€ç½‘ç»œç©ºé—´å®‰å…¨ç ”ç©¶é™¢ï¼ˆ2015å¹´æˆç«‹ï¼‰ï¼›ä¸‰ä¸ªæ•™å­¦å®éªŒä¸­å¿ƒï¼šè®¡ç®—æœºåŸºç¡€æ•™å­¦å®éªŒä¸­å¿ƒã€IBMæŠ€æœ¯ä¸­å¿ƒå’Œè®¡ç®—æœºä¸“ä¸šå®éªŒä¸­å¿ƒã€‚&#39;</span><span class=p>),</span><span class=w>
</span><span class=w>    </span><span class=p>(</span><span class=s1>&#39;å¤–å›½è¯­å­¦é™¢&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;å¤–å›½è¯­å­¦é™¢è®¾æœ‰7ä¸ªæ•™å­¦å•ä½ï¼Œ6ä¸ªæ–‡ç†å…¼æ”¶çš„æœ¬ç§‘ä¸“ä¸šï¼›æ‹¥æœ‰1ä¸ªä¸€çº§å­¦ç§‘åšå£«æˆäºˆç‚¹ï¼Œ3ä¸ªäºŒçº§å­¦ç§‘åšå£«æˆäºˆç‚¹ï¼Œ5ä¸ªä¸€çº§å­¦ç§‘ç¡•å£«å­¦ä½æˆæƒç‚¹ï¼Œ5ä¸ªäºŒçº§å­¦ç§‘ç¡•å£«å­¦ä½æˆæƒç‚¹ï¼Œ5ä¸ªç¡•å£«ä¸“ä¸šæˆæƒé¢†åŸŸï¼ŒåŒæ—¶è¿˜æœ‰2ä¸ªç¡•å£«ä¸“ä¸šå­¦ä½ï¼ˆMTIï¼‰ä¸“ä¸šï¼›æœ‰æ•™èŒå‘˜å·¥210ä½™äººï¼Œå…¶ä¸­æ•™æˆã€å‰¯æ•™æˆ80ä½™äººï¼Œæ•™å¸ˆä¸­è·å¾—ä¸­å›½å›½å†…å¤–åæ ¡åšå£«å­¦ä½å’Œæ­£åœ¨èŒæ”»è¯»åšå£«å­¦ä½çš„æ•™å¸ˆæ¯”ä¾‹å ä¸“ä»»æ•™å¸ˆçš„60%ä»¥ä¸Šã€‚&#39;</span><span class=p>),</span><span class=w>
</span><span class=w>    </span><span class=p>(</span><span class=s1>&#39;ç»æµç®¡ç†å­¦é™¢&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;ç»æµå­¦é™¢å‰èº«æ˜¯åˆ›åŠäº1905å¹´çš„ç»æµç§‘ï¼›å·²æ•…ç»æµå­¦å®¶å½­è¿ªå…ˆã€å¼ ä¸ä¹ã€è’‹å­¦æ¨¡ã€èƒ¡å¯„çª—ã€é™¶å¤§é•›ã€èƒ¡ä»£å…‰ï¼Œä»¥åŠå½“ä»£å­¦è€…åˆ˜è¯—ç™½ç­‰æ›¾å…ˆååœ¨æ­¤ä»»æ•™æˆ–å­¦ä¹ ã€‚&#39;</span><span class=p>);</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c1>-- æ’å…¥å­¦ç”Ÿæ•°æ®
</span><span class=c1></span><span class=k>insert</span><span class=w> </span><span class=k>into</span><span class=w> </span><span class=o>`</span><span class=n>tb_student</span><span class=o>`</span><span class=w> 
</span><span class=w>    </span><span class=p>(</span><span class=o>`</span><span class=n>stu_id</span><span class=o>`</span><span class=p>,</span><span class=w> </span><span class=o>`</span><span class=n>stu_name</span><span class=o>`</span><span class=p>,</span><span class=w> </span><span class=o>`</span><span class=n>stu_sex</span><span class=o>`</span><span class=p>,</span><span class=w> </span><span class=o>`</span><span class=n>stu_birth</span><span class=o>`</span><span class=p>,</span><span class=w> </span><span class=o>`</span><span class=n>stu_addr</span><span class=o>`</span><span class=p>,</span><span class=w> </span><span class=o>`</span><span class=n>col_id</span><span class=o>`</span><span class=p>)</span><span class=w> 
</span><span class=w></span><span class=k>values</span><span class=w>
</span><span class=w>    </span><span class=p>(</span><span class=mi>1001</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;æ¨è¿‡&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;1990-3-4&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;æ¹–å—é•¿æ²™&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>),</span><span class=w>
</span><span class=w>    </span><span class=p>(</span><span class=mi>1002</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;ä»»æˆ‘è¡Œ&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;1992-2-2&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;æ¹–å—é•¿æ²™&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>),</span><span class=w>
</span><span class=w>    </span><span class=p>(</span><span class=mi>1033</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;ç‹è¯­å«£&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;1989-12-3&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;å››å·æˆéƒ½&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>),</span><span class=w>
</span><span class=w>    </span><span class=p>(</span><span class=mi>1572</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;å²³ä¸ç¾¤&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;1993-7-19&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;é™•è¥¿å’¸é˜³&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>),</span><span class=w>
</span><span class=w>    </span><span class=p>(</span><span class=mi>1378</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;çºªå«£ç„¶&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;1995-8-12&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;å››å·ç»µé˜³&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>),</span><span class=w>
</span><span class=w>    </span><span class=p>(</span><span class=mi>1954</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;æ—å¹³ä¹‹&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;1994-9-20&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;ç¦å»ºè†ç”°&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>),</span><span class=w>
</span><span class=w>    </span><span class=p>(</span><span class=mi>2035</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;ä¸œæ–¹ä¸è´¥&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;1988-6-30&#39;</span><span class=p>,</span><span class=w> </span><span class=k>null</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>),</span><span class=w>
</span><span class=w>    </span><span class=p>(</span><span class=mi>3011</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;æ—éœ‡å—&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;1985-12-12&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;ç¦å»ºè†ç”°&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>),</span><span class=w>
</span><span class=w>    </span><span class=p>(</span><span class=mi>3755</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;é¡¹å°‘é¾™&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;1993-1-25&#39;</span><span class=p>,</span><span class=w> </span><span class=k>null</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>),</span><span class=w>
</span><span class=w>    </span><span class=p>(</span><span class=mi>3923</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;æ¨ä¸æ‚”&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;1985-4-17&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;å››å·æˆéƒ½&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>);</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c1>-- æ’å…¥è€å¸ˆæ•°æ®
</span><span class=c1></span><span class=k>insert</span><span class=w> </span><span class=k>into</span><span class=w> </span><span class=o>`</span><span class=n>tb_teacher</span><span class=o>`</span><span class=w> 
</span><span class=w>    </span><span class=p>(</span><span class=o>`</span><span class=n>tea_id</span><span class=o>`</span><span class=p>,</span><span class=w> </span><span class=o>`</span><span class=n>tea_name</span><span class=o>`</span><span class=p>,</span><span class=w> </span><span class=o>`</span><span class=n>tea_title</span><span class=o>`</span><span class=p>,</span><span class=w> </span><span class=o>`</span><span class=n>col_id</span><span class=o>`</span><span class=p>)</span><span class=w> 
</span><span class=w></span><span class=k>values</span><span class=w> 
</span><span class=w>    </span><span class=p>(</span><span class=mi>1122</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;å¼ ä¸‰ä¸°&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;æ•™æˆ&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>),</span><span class=w>
</span><span class=w>    </span><span class=p>(</span><span class=mi>1133</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;å®‹è¿œæ¡¥&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;å‰¯æ•™æˆ&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>),</span><span class=w>
</span><span class=w>    </span><span class=p>(</span><span class=mi>1144</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;æ¨é€&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;å‰¯æ•™æˆ&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>),</span><span class=w>
</span><span class=w>    </span><span class=p>(</span><span class=mi>2255</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;èŒƒé¥&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;å‰¯æ•™æˆ&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>),</span><span class=w>
</span><span class=w>    </span><span class=p>(</span><span class=mi>3366</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;éŸ¦ä¸€ç¬‘&#39;</span><span class=p>,</span><span class=w> </span><span class=k>default</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>);</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c1>-- æ’å…¥è¯¾ç¨‹æ•°æ®
</span><span class=c1></span><span class=k>insert</span><span class=w> </span><span class=k>into</span><span class=w> </span><span class=o>`</span><span class=n>tb_course</span><span class=o>`</span><span class=w> 
</span><span class=w>    </span><span class=p>(</span><span class=o>`</span><span class=n>cou_id</span><span class=o>`</span><span class=p>,</span><span class=w> </span><span class=o>`</span><span class=n>cou_name</span><span class=o>`</span><span class=p>,</span><span class=w> </span><span class=o>`</span><span class=n>cou_credit</span><span class=o>`</span><span class=p>,</span><span class=w> </span><span class=o>`</span><span class=n>tea_id</span><span class=o>`</span><span class=p>)</span><span class=w> 
</span><span class=w></span><span class=k>values</span><span class=w> 
</span><span class=w>    </span><span class=p>(</span><span class=mi>1111</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;Pythonç¨‹åºè®¾è®¡&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>,</span><span class=w> </span><span class=mi>1122</span><span class=p>),</span><span class=w>
</span><span class=w>    </span><span class=p>(</span><span class=mi>2222</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;Webå‰ç«¯å¼€å‘&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=mi>1122</span><span class=p>),</span><span class=w>
</span><span class=w>    </span><span class=p>(</span><span class=mi>3333</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;æ“ä½œç³»ç»Ÿ&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>4</span><span class=p>,</span><span class=w> </span><span class=mi>1122</span><span class=p>),</span><span class=w>
</span><span class=w>    </span><span class=p>(</span><span class=mi>4444</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;è®¡ç®—æœºç½‘ç»œ&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=mi>1133</span><span class=p>),</span><span class=w>
</span><span class=w>    </span><span class=p>(</span><span class=mi>5555</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;ç¼–è¯‘åŸç†&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>4</span><span class=p>,</span><span class=w> </span><span class=mi>1144</span><span class=p>),</span><span class=w>
</span><span class=w>    </span><span class=p>(</span><span class=mi>6666</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;ç®—æ³•å’Œæ•°æ®ç»“æ„&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>,</span><span class=w> </span><span class=mi>1144</span><span class=p>),</span><span class=w>
</span><span class=w>    </span><span class=p>(</span><span class=mi>7777</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;ç»è´¸æ³•è¯­&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>,</span><span class=w> </span><span class=mi>2255</span><span class=p>),</span><span class=w>
</span><span class=w>    </span><span class=p>(</span><span class=mi>8888</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;æˆæœ¬ä¼šè®¡&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=mi>3366</span><span class=p>),</span><span class=w>
</span><span class=w>    </span><span class=p>(</span><span class=mi>9999</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;å®¡è®¡å­¦&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>,</span><span class=w> </span><span class=mi>3366</span><span class=p>);</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c1>-- æ’å…¥é€‰è¯¾æ•°æ®
</span><span class=c1></span><span class=k>insert</span><span class=w> </span><span class=k>into</span><span class=w> </span><span class=o>`</span><span class=n>tb_record</span><span class=o>`</span><span class=w> 
</span><span class=w>    </span><span class=p>(</span><span class=o>`</span><span class=n>sid</span><span class=o>`</span><span class=p>,</span><span class=w> </span><span class=o>`</span><span class=n>cid</span><span class=o>`</span><span class=p>,</span><span class=w> </span><span class=o>`</span><span class=n>sel_date</span><span class=o>`</span><span class=p>,</span><span class=w> </span><span class=o>`</span><span class=n>score</span><span class=o>`</span><span class=p>)</span><span class=w> 
</span><span class=w></span><span class=k>values</span><span class=w> 
</span><span class=w>    </span><span class=p>(</span><span class=mi>1001</span><span class=p>,</span><span class=w> </span><span class=mi>1111</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;2017-09-01&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>95</span><span class=p>),</span><span class=w>
</span><span class=w>    </span><span class=p>(</span><span class=mi>1001</span><span class=p>,</span><span class=w> </span><span class=mi>2222</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;2017-09-01&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>87</span><span class=p>.</span><span class=mi>5</span><span class=p>),</span><span class=w>
</span><span class=w>    </span><span class=p>(</span><span class=mi>1001</span><span class=p>,</span><span class=w> </span><span class=mi>3333</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;2017-09-01&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>100</span><span class=p>),</span><span class=w>
</span><span class=w>    </span><span class=p>(</span><span class=mi>1001</span><span class=p>,</span><span class=w> </span><span class=mi>4444</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;2018-09-03&#39;</span><span class=p>,</span><span class=w> </span><span class=k>null</span><span class=p>),</span><span class=w>
</span><span class=w>    </span><span class=p>(</span><span class=mi>1001</span><span class=p>,</span><span class=w> </span><span class=mi>6666</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;2017-09-02&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>100</span><span class=p>),</span><span class=w>
</span><span class=w>    </span><span class=p>(</span><span class=mi>1002</span><span class=p>,</span><span class=w> </span><span class=mi>1111</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;2017-09-03&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>65</span><span class=p>),</span><span class=w>
</span><span class=w>    </span><span class=p>(</span><span class=mi>1002</span><span class=p>,</span><span class=w> </span><span class=mi>5555</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;2017-09-01&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>42</span><span class=p>),</span><span class=w>
</span><span class=w>    </span><span class=p>(</span><span class=mi>1033</span><span class=p>,</span><span class=w> </span><span class=mi>1111</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;2017-09-03&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>92</span><span class=p>.</span><span class=mi>5</span><span class=p>),</span><span class=w>
</span><span class=w>    </span><span class=p>(</span><span class=mi>1033</span><span class=p>,</span><span class=w> </span><span class=mi>4444</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;2017-09-01&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>78</span><span class=p>),</span><span class=w>
</span><span class=w>    </span><span class=p>(</span><span class=mi>1033</span><span class=p>,</span><span class=w> </span><span class=mi>5555</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;2017-09-01&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>82</span><span class=p>.</span><span class=mi>5</span><span class=p>),</span><span class=w>
</span><span class=w>    </span><span class=p>(</span><span class=mi>1572</span><span class=p>,</span><span class=w> </span><span class=mi>1111</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;2017-09-02&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>78</span><span class=p>),</span><span class=w>
</span><span class=w>    </span><span class=p>(</span><span class=mi>1378</span><span class=p>,</span><span class=w> </span><span class=mi>1111</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;2017-09-05&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>82</span><span class=p>),</span><span class=w>
</span><span class=w>    </span><span class=p>(</span><span class=mi>1378</span><span class=p>,</span><span class=w> </span><span class=mi>7777</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;2017-09-02&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>65</span><span class=p>.</span><span class=mi>5</span><span class=p>),</span><span class=w>
</span><span class=w>    </span><span class=p>(</span><span class=mi>2035</span><span class=p>,</span><span class=w> </span><span class=mi>7777</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;2018-09-03&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>88</span><span class=p>),</span><span class=w>
</span><span class=w>    </span><span class=p>(</span><span class=mi>2035</span><span class=p>,</span><span class=w> </span><span class=mi>9999</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;2019-09-02&#39;</span><span class=p>,</span><span class=w> </span><span class=k>null</span><span class=p>),</span><span class=w>
</span><span class=w>    </span><span class=p>(</span><span class=mi>3755</span><span class=p>,</span><span class=w> </span><span class=mi>1111</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;2019-09-02&#39;</span><span class=p>,</span><span class=w> </span><span class=k>null</span><span class=p>),</span><span class=w>
</span><span class=w>    </span><span class=p>(</span><span class=mi>3755</span><span class=p>,</span><span class=w> </span><span class=mi>8888</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;2019-09-02&#39;</span><span class=p>,</span><span class=w> </span><span class=k>null</span><span class=p>),</span><span class=w>
</span><span class=w>    </span><span class=p>(</span><span class=mi>3755</span><span class=p>,</span><span class=w> </span><span class=mi>9999</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;2017-09-01&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>92</span><span class=p>);</span><span class=w>
</span></code></pre></td></tr></table></div></div></div><h4 id=dqlæ•°æ®æŸ¥è¯¢è¯­è¨€><a href=#dqlæ•°æ®æŸ¥è¯¢è¯­è¨€ class=anchor-link>#</a>DQLï¼ˆæ•°æ®æŸ¥è¯¢è¯­è¨€ï¼‰</h4><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>  1
</span><span class=lnt>  2
</span><span class=lnt>  3
</span><span class=lnt>  4
</span><span class=lnt>  5
</span><span class=lnt>  6
</span><span class=lnt>  7
</span><span class=lnt>  8
</span><span class=lnt>  9
</span><span class=lnt> 10
</span><span class=lnt> 11
</span><span class=lnt> 12
</span><span class=lnt> 13
</span><span class=lnt> 14
</span><span class=lnt> 15
</span><span class=lnt> 16
</span><span class=lnt> 17
</span><span class=lnt> 18
</span><span class=lnt> 19
</span><span class=lnt> 20
</span><span class=lnt> 21
</span><span class=lnt> 22
</span><span class=lnt> 23
</span><span class=lnt> 24
</span><span class=lnt> 25
</span><span class=lnt> 26
</span><span class=lnt> 27
</span><span class=lnt> 28
</span><span class=lnt> 29
</span><span class=lnt> 30
</span><span class=lnt> 31
</span><span class=lnt> 32
</span><span class=lnt> 33
</span><span class=lnt> 34
</span><span class=lnt> 35
</span><span class=lnt> 36
</span><span class=lnt> 37
</span><span class=lnt> 38
</span><span class=lnt> 39
</span><span class=lnt> 40
</span><span class=lnt> 41
</span><span class=lnt> 42
</span><span class=lnt> 43
</span><span class=lnt> 44
</span><span class=lnt> 45
</span><span class=lnt> 46
</span><span class=lnt> 47
</span><span class=lnt> 48
</span><span class=lnt> 49
</span><span class=lnt> 50
</span><span class=lnt> 51
</span><span class=lnt> 52
</span><span class=lnt> 53
</span><span class=lnt> 54
</span><span class=lnt> 55
</span><span class=lnt> 56
</span><span class=lnt> 57
</span><span class=lnt> 58
</span><span class=lnt> 59
</span><span class=lnt> 60
</span><span class=lnt> 61
</span><span class=lnt> 62
</span><span class=lnt> 63
</span><span class=lnt> 64
</span><span class=lnt> 65
</span><span class=lnt> 66
</span><span class=lnt> 67
</span><span class=lnt> 68
</span><span class=lnt> 69
</span><span class=lnt> 70
</span><span class=lnt> 71
</span><span class=lnt> 72
</span><span class=lnt> 73
</span><span class=lnt> 74
</span><span class=lnt> 75
</span><span class=lnt> 76
</span><span class=lnt> 77
</span><span class=lnt> 78
</span><span class=lnt> 79
</span><span class=lnt> 80
</span><span class=lnt> 81
</span><span class=lnt> 82
</span><span class=lnt> 83
</span><span class=lnt> 84
</span><span class=lnt> 85
</span><span class=lnt> 86
</span><span class=lnt> 87
</span><span class=lnt> 88
</span><span class=lnt> 89
</span><span class=lnt> 90
</span><span class=lnt> 91
</span><span class=lnt> 92
</span><span class=lnt> 93
</span><span class=lnt> 94
</span><span class=lnt> 95
</span><span class=lnt> 96
</span><span class=lnt> 97
</span><span class=lnt> 98
</span><span class=lnt> 99
</span><span class=lnt>100
</span><span class=lnt>101
</span><span class=lnt>102
</span><span class=lnt>103
</span><span class=lnt>104
</span><span class=lnt>105
</span><span class=lnt>106
</span><span class=lnt>107
</span><span class=lnt>108
</span><span class=lnt>109
</span><span class=lnt>110
</span><span class=lnt>111
</span><span class=lnt>112
</span><span class=lnt>113
</span><span class=lnt>114
</span><span class=lnt>115
</span><span class=lnt>116
</span><span class=lnt>117
</span><span class=lnt>118
</span><span class=lnt>119
</span><span class=lnt>120
</span><span class=lnt>121
</span><span class=lnt>122
</span><span class=lnt>123
</span><span class=lnt>124
</span><span class=lnt>125
</span><span class=lnt>126
</span><span class=lnt>127
</span><span class=lnt>128
</span><span class=lnt>129
</span><span class=lnt>130
</span><span class=lnt>131
</span><span class=lnt>132
</span><span class=lnt>133
</span><span class=lnt>134
</span><span class=lnt>135
</span><span class=lnt>136
</span><span class=lnt>137
</span><span class=lnt>138
</span><span class=lnt>139
</span><span class=lnt>140
</span><span class=lnt>141
</span><span class=lnt>142
</span><span class=lnt>143
</span><span class=lnt>144
</span><span class=lnt>145
</span><span class=lnt>146
</span><span class=lnt>147
</span><span class=lnt>148
</span><span class=lnt>149
</span><span class=lnt>150
</span><span class=lnt>151
</span><span class=lnt>152
</span><span class=lnt>153
</span><span class=lnt>154
</span><span class=lnt>155
</span><span class=lnt>156
</span><span class=lnt>157
</span><span class=lnt>158
</span><span class=lnt>159
</span><span class=lnt>160
</span><span class=lnt>161
</span><span class=lnt>162
</span><span class=lnt>163
</span><span class=lnt>164
</span><span class=lnt>165
</span><span class=lnt>166
</span><span class=lnt>167
</span><span class=lnt>168
</span><span class=lnt>169
</span><span class=lnt>170
</span><span class=lnt>171
</span><span class=lnt>172
</span><span class=lnt>173
</span><span class=lnt>174
</span><span class=lnt>175
</span><span class=lnt>176
</span><span class=lnt>177
</span><span class=lnt>178
</span><span class=lnt>179
</span><span class=lnt>180
</span><span class=lnt>181
</span><span class=lnt>182
</span><span class=lnt>183
</span><span class=lnt>184
</span><span class=lnt>185
</span><span class=lnt>186
</span><span class=lnt>187
</span><span class=lnt>188
</span><span class=lnt>189
</span><span class=lnt>190
</span><span class=lnt>191
</span><span class=lnt>192
</span><span class=lnt>193
</span><span class=lnt>194
</span><span class=lnt>195
</span><span class=lnt>196
</span><span class=lnt>197
</span><span class=lnt>198
</span><span class=lnt>199
</span><span class=lnt>200
</span><span class=lnt>201
</span><span class=lnt>202
</span><span class=lnt>203
</span><span class=lnt>204
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=c1>-- æŸ¥è¯¢æ‰€æœ‰å­¦ç”Ÿçš„æ‰€æœ‰ä¿¡æ¯
</span><span class=c1></span><span class=k>select</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>tb_student</span><span class=p>;</span><span class=w>
</span><span class=w></span><span class=k>select</span><span class=w> </span><span class=n>stu_id</span><span class=p>,</span><span class=w> </span><span class=n>stu_name</span><span class=p>,</span><span class=w> </span><span class=n>stu_sex</span><span class=p>,</span><span class=w> </span><span class=n>stu_birth</span><span class=p>,</span><span class=w> </span><span class=n>stu_addr</span><span class=p>,</span><span class=w> </span><span class=n>col_id</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>tb_student</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c1>-- æŸ¥è¯¢æ‰€æœ‰è¯¾ç¨‹åç§°åŠå­¦åˆ†(æŠ•å½±å’Œåˆ«å)
</span><span class=c1></span><span class=k>select</span><span class=w> </span><span class=n>cou_name</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=err>è¯¾ç¨‹åç§°</span><span class=p>,</span><span class=w> </span><span class=n>cou_credit</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=err>å­¦åˆ†</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>tb_course</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c1>-- æŸ¥è¯¢æ‰€æœ‰å¥³å­¦ç”Ÿçš„å§“åå’Œå‡ºç”Ÿæ—¥æœŸ(ç­›é€‰)
</span><span class=c1></span><span class=k>select</span><span class=w> </span><span class=n>stu_name</span><span class=p>,</span><span class=w> </span><span class=n>stu_birth</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>tb_student</span><span class=w> </span><span class=k>where</span><span class=w> </span><span class=n>stu_sex</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c1>-- æŸ¥è¯¢æ‰€æœ‰80åå­¦ç”Ÿçš„å§“åã€æ€§åˆ«å’Œå‡ºç”Ÿæ—¥æœŸ(ç­›é€‰)
</span><span class=c1></span><span class=k>select</span><span class=w> </span><span class=n>stu_name</span><span class=p>,</span><span class=w> </span><span class=n>stu_sex</span><span class=p>,</span><span class=w> </span><span class=n>stu_birth</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>tb_student</span><span class=w> 
</span><span class=w></span><span class=k>where</span><span class=w> </span><span class=n>stu_birth</span><span class=o>&gt;=</span><span class=s1>&#39;1980-1-1&#39;</span><span class=w> </span><span class=k>and</span><span class=w> </span><span class=n>stu_birth</span><span class=o>&lt;=</span><span class=s1>&#39;1989-12-31&#39;</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=k>select</span><span class=w> </span><span class=n>stu_name</span><span class=p>,</span><span class=w> </span><span class=n>stu_sex</span><span class=p>,</span><span class=w> </span><span class=n>stu_birth</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>tb_student</span><span class=w> 
</span><span class=w></span><span class=k>where</span><span class=w> </span><span class=n>stu_birth</span><span class=w> </span><span class=k>between</span><span class=w> </span><span class=s1>&#39;1980-1-1&#39;</span><span class=w> </span><span class=k>and</span><span class=w> </span><span class=s1>&#39;1989-12-31&#39;</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c1>-- è¡¥å……1ï¼šåœ¨æŸ¥è¯¢æ—¶å¯ä»¥å¯¹åˆ—çš„å€¼è¿›è¡Œå¤„ç†
</span><span class=c1></span><span class=k>select</span><span class=w> 
</span><span class=w>	</span><span class=n>stu_name</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=err>å§“å</span><span class=p>,</span><span class=w> 
</span><span class=w>    </span><span class=k>case</span><span class=w> </span><span class=n>stu_sex</span><span class=w> </span><span class=k>when</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=k>then</span><span class=w> </span><span class=s1>&#39;ç”·&#39;</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=s1>&#39;å¥³&#39;</span><span class=w> </span><span class=k>end</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=err>æ€§åˆ«</span><span class=p>,</span><span class=w> 
</span><span class=w>    </span><span class=n>stu_birth</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=err>ç”Ÿæ—¥</span><span class=w>
</span><span class=w></span><span class=k>from</span><span class=w> </span><span class=n>tb_student</span><span class=w> 
</span><span class=w></span><span class=k>where</span><span class=w> </span><span class=n>stu_birth</span><span class=w> </span><span class=k>between</span><span class=w> </span><span class=s1>&#39;1980-1-1&#39;</span><span class=w> </span><span class=k>and</span><span class=w> </span><span class=s1>&#39;1989-12-31&#39;</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c1>-- è¡¥å……2ï¼šMySQLæ–¹è¨€(ä½¿ç”¨æ•°æ®åº“ç‰¹æœ‰çš„å‡½æ•°)
</span><span class=c1>-- ä¾‹å¦‚ï¼šOracleä¸­åšåŒæ ·äº‹æƒ…çš„å‡½æ•°å«åšdecode
</span><span class=c1></span><span class=k>select</span><span class=w> 
</span><span class=w>	</span><span class=n>stu_name</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=err>å§“å</span><span class=p>,</span><span class=w> 
</span><span class=w>    </span><span class=k>if</span><span class=p>(</span><span class=n>stu_sex</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;ç”·&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;å¥³&#39;</span><span class=p>)</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=err>æ€§åˆ«</span><span class=p>,</span><span class=w> 
</span><span class=w>    </span><span class=n>stu_birth</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=err>ç”Ÿæ—¥</span><span class=w>
</span><span class=w></span><span class=k>from</span><span class=w> </span><span class=n>tb_student</span><span class=w> 
</span><span class=w></span><span class=k>where</span><span class=w> </span><span class=n>stu_birth</span><span class=w> </span><span class=k>between</span><span class=w> </span><span class=s1>&#39;1980-1-1&#39;</span><span class=w> </span><span class=k>and</span><span class=w> </span><span class=s1>&#39;1989-12-31&#39;</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c1>-- æŸ¥è¯¢æ‰€æœ‰80åå¥³å­¦ç”Ÿçš„å§“åå’Œå‡ºç”Ÿæ—¥æœŸ
</span><span class=c1></span><span class=k>select</span><span class=w> </span><span class=n>stu_name</span><span class=p>,</span><span class=w> </span><span class=n>stu_birth</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>tb_student</span><span class=w> 
</span><span class=w></span><span class=k>where</span><span class=w> </span><span class=n>stu_birth</span><span class=w> </span><span class=k>between</span><span class=w> </span><span class=s1>&#39;1980-1-1&#39;</span><span class=w> </span><span class=k>and</span><span class=w> </span><span class=s1>&#39;1989-12-31&#39;</span><span class=w> </span><span class=k>and</span><span class=w> </span><span class=n>stu_sex</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c1>-- æŸ¥è¯¢æ‰€æœ‰çš„80åå­¦ç”Ÿæˆ–å¥³å­¦ç”Ÿçš„å§“åå’Œå‡ºç”Ÿæ—¥æœŸ
</span><span class=c1></span><span class=k>select</span><span class=w> </span><span class=n>stu_name</span><span class=p>,</span><span class=w> </span><span class=n>stu_birth</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>tb_student</span><span class=w> 
</span><span class=w></span><span class=k>where</span><span class=w> </span><span class=n>stu_birth</span><span class=w> </span><span class=k>between</span><span class=w> </span><span class=s1>&#39;1980-1-1&#39;</span><span class=w> </span><span class=k>and</span><span class=w> </span><span class=s1>&#39;1989-12-31&#39;</span><span class=w> </span><span class=k>or</span><span class=w> </span><span class=n>stu_sex</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c1>-- æŸ¥è¯¢å§“â€œæ¨â€çš„å­¦ç”Ÿå§“åå’Œæ€§åˆ«(æ¨¡ç³Š)
</span><span class=c1>-- åœ¨SQLä¸­é€šé…ç¬¦%å¯ä»¥åŒ¹é…é›¶ä¸ªæˆ–ä»»æ„å¤šä¸ªå­—ç¬¦
</span><span class=c1></span><span class=k>select</span><span class=w> </span><span class=n>stu_name</span><span class=p>,</span><span class=w> </span><span class=n>stu_sex</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>tb_student</span><span class=w> </span><span class=k>where</span><span class=w> </span><span class=n>stu_name</span><span class=w> </span><span class=k>like</span><span class=w> </span><span class=s1>&#39;æ¨%&#39;</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c1>-- æŸ¥è¯¢å§“â€œæ¨â€åå­—ä¸¤ä¸ªå­—çš„å­¦ç”Ÿå§“åå’Œæ€§åˆ«(æ¨¡ç³Š)
</span><span class=c1>-- åœ¨SQLä¸­é€šé…ç¬¦_å¯ä»¥åˆšåˆšå¥½åŒ¹é…ä¸€ä¸ªå­—ç¬¦
</span><span class=c1></span><span class=k>select</span><span class=w> </span><span class=n>stu_name</span><span class=p>,</span><span class=w> </span><span class=n>stu_sex</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>tb_student</span><span class=w> </span><span class=k>where</span><span class=w> </span><span class=n>stu_name</span><span class=w> </span><span class=k>like</span><span class=w> </span><span class=s1>&#39;æ¨_&#39;</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c1>-- æŸ¥è¯¢å§“â€œæ¨â€åå­—ä¸‰ä¸ªå­—çš„å­¦ç”Ÿå§“åå’Œæ€§åˆ«(æ¨¡ç³Š)
</span><span class=c1></span><span class=k>select</span><span class=w> </span><span class=n>stu_name</span><span class=p>,</span><span class=w> </span><span class=n>stu_sex</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>tb_student</span><span class=w> </span><span class=k>where</span><span class=w> </span><span class=n>stu_name</span><span class=w> </span><span class=k>like</span><span class=w> </span><span class=s1>&#39;æ¨__&#39;</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c1>-- æŸ¥è¯¢åå­—ä¸­æœ‰â€œä¸â€å­—æˆ–â€œå«£â€å­—çš„å­¦ç”Ÿçš„å§“å(æ¨¡ç³Š)
</span><span class=c1>-- æç¤ºï¼šå‰é¢å¸¦%çš„æ¨¡ç³ŠæŸ¥è¯¢æ€§èƒ½åŸºæœ¬ä¸Šéƒ½æ˜¯éå¸¸ç³Ÿç³•çš„
</span><span class=c1></span><span class=k>select</span><span class=w> </span><span class=n>stu_name</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>tb_student</span><span class=w> 
</span><span class=w></span><span class=k>where</span><span class=w> </span><span class=n>stu_name</span><span class=w> </span><span class=k>like</span><span class=w> </span><span class=s1>&#39;%ä¸%&#39;</span><span class=w> </span><span class=k>or</span><span class=w> </span><span class=n>stu_name</span><span class=w> </span><span class=k>like</span><span class=w> </span><span class=s1>&#39;%å«£%&#39;</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=k>update</span><span class=w> </span><span class=n>tb_student</span><span class=w> </span><span class=k>set</span><span class=w> </span><span class=n>stu_name</span><span class=o>=</span><span class=s1>&#39;å²³ä¸å«£&#39;</span><span class=w> </span><span class=k>where</span><span class=w> </span><span class=n>stu_id</span><span class=o>=</span><span class=mi>1572</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c1>-- å¹¶é›†è¿ç®—
</span><span class=c1></span><span class=k>select</span><span class=w> </span><span class=n>stu_name</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>tb_student</span><span class=w> </span><span class=k>where</span><span class=w> </span><span class=n>stu_name</span><span class=w> </span><span class=k>like</span><span class=w> </span><span class=s1>&#39;%ä¸%&#39;</span><span class=w>
</span><span class=w></span><span class=k>union</span><span class=w> 
</span><span class=w></span><span class=k>select</span><span class=w> </span><span class=n>stu_name</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>tb_student</span><span class=w> </span><span class=k>where</span><span class=w> </span><span class=n>stu_name</span><span class=w> </span><span class=k>like</span><span class=w> </span><span class=s1>&#39;%å«£%&#39;</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=k>select</span><span class=w> </span><span class=n>stu_name</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>tb_student</span><span class=w> </span><span class=k>where</span><span class=w> </span><span class=n>stu_name</span><span class=w> </span><span class=k>like</span><span class=w> </span><span class=s1>&#39;%ä¸%&#39;</span><span class=w>
</span><span class=w></span><span class=k>union</span><span class=w> </span><span class=k>all</span><span class=w>
</span><span class=w></span><span class=k>select</span><span class=w> </span><span class=n>stu_name</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>tb_student</span><span class=w> </span><span class=k>where</span><span class=w> </span><span class=n>stu_name</span><span class=w> </span><span class=k>like</span><span class=w> </span><span class=s1>&#39;%å«£%&#39;</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c1>-- æ­£åˆ™è¡¨è¾¾å¼æ¨¡ç³ŠæŸ¥è¯¢
</span><span class=c1></span><span class=k>select</span><span class=w> </span><span class=n>stu_name</span><span class=p>,</span><span class=w> </span><span class=n>stu_sex</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>tb_student</span><span class=w> </span><span class=k>where</span><span class=w> </span><span class=n>stu_name</span><span class=w> </span><span class=n>regexp</span><span class=w> </span><span class=s1>&#39;^æ¨.{2}$&#39;</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c1>-- æŸ¥è¯¢æ²¡æœ‰å½•å…¥å®¶åº­ä½å€çš„å­¦ç”Ÿå§“å(ç©ºå€¼)
</span><span class=c1>-- nullä½œä»»ä½•è¿ç®—ç»“æœä¹Ÿæ˜¯äº§ç”Ÿnullï¼Œnullç›¸å½“äºæ˜¯æ¡ä»¶ä¸æˆç«‹
</span><span class=c1></span><span class=k>select</span><span class=w> </span><span class=n>stu_name</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>tb_student</span><span class=w> </span><span class=k>where</span><span class=w> </span><span class=n>stu_addr</span><span class=w> </span><span class=k>is</span><span class=w> </span><span class=k>null</span><span class=p>;</span><span class=w>
</span><span class=w></span><span class=k>select</span><span class=w> </span><span class=n>stu_name</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>tb_student</span><span class=w> </span><span class=k>where</span><span class=w> </span><span class=n>stu_addr</span><span class=o>&lt;=&gt;</span><span class=k>null</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c1>-- æŸ¥è¯¢å½•å…¥äº†å®¶åº­ä½å€çš„å­¦ç”Ÿå§“å(ç©ºå€¼)
</span><span class=c1></span><span class=k>select</span><span class=w> </span><span class=n>stu_name</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>tb_student</span><span class=w> </span><span class=k>where</span><span class=w> </span><span class=n>stu_addr</span><span class=w> </span><span class=k>is</span><span class=w> </span><span class=k>not</span><span class=w> </span><span class=k>null</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c1>-- æŸ¥è¯¢å­¦ç”Ÿé€‰è¯¾çš„æ‰€æœ‰æ—¥æœŸ(å»é‡)
</span><span class=c1></span><span class=k>select</span><span class=w> </span><span class=k>distinct</span><span class=w> </span><span class=n>sel_date</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>tb_record</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c1>-- æŸ¥è¯¢å­¦ç”Ÿçš„å®¶åº­ä½å€(å»é‡)
</span><span class=c1></span><span class=k>select</span><span class=w> </span><span class=k>distinct</span><span class=w> </span><span class=n>stu_addr</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>tb_student</span><span class=w> </span><span class=k>where</span><span class=w> </span><span class=n>stu_addr</span><span class=w> </span><span class=k>is</span><span class=w> </span><span class=k>not</span><span class=w> </span><span class=k>null</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c1>-- æŸ¥è¯¢ç”·å­¦ç”Ÿçš„å§“åå’Œç”Ÿæ—¥æŒ‰å¹´é¾„ä»å¤§åˆ°å°æ’åˆ—(æ’åº)
</span><span class=c1>-- asc - å‡åºï¼ˆä»å°åˆ°å¤§ï¼‰ï¼Œdesc - é™åºï¼ˆä»å¤§åˆ°å°ï¼‰
</span><span class=c1></span><span class=k>select</span><span class=w> </span><span class=n>stu_name</span><span class=p>,</span><span class=w> </span><span class=n>stu_birth</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>tb_student</span><span class=w> 
</span><span class=w></span><span class=k>where</span><span class=w> </span><span class=n>stu_sex</span><span class=o>=</span><span class=mi>1</span><span class=w> </span><span class=k>order</span><span class=w> </span><span class=k>by</span><span class=w> </span><span class=n>stu_birth</span><span class=w> </span><span class=k>asc</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=k>select</span><span class=w> </span><span class=n>stu_name</span><span class=p>,</span><span class=w> </span><span class=n>stu_birth</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>tb_student</span><span class=w> 
</span><span class=w></span><span class=k>where</span><span class=w> </span><span class=n>stu_sex</span><span class=o>=</span><span class=mi>1</span><span class=w> </span><span class=k>order</span><span class=w> </span><span class=k>by</span><span class=w> </span><span class=n>stu_birth</span><span class=w> </span><span class=k>desc</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c1>-- æŸ¥è¯¢å¹´é¾„æœ€å¤§çš„å­¦ç”Ÿçš„å‡ºç”Ÿæ—¥æœŸ(èšåˆå‡½æ•°) ---&gt; æ‰¾å‡ºæœ€å°çš„ç”Ÿæ—¥
</span><span class=c1></span><span class=k>select</span><span class=w> </span><span class=k>min</span><span class=p>(</span><span class=n>stu_birth</span><span class=p>)</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>tb_student</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=k>select</span><span class=w> 
</span><span class=w>	</span><span class=k>min</span><span class=p>(</span><span class=n>stu_birth</span><span class=p>)</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=err>ç”Ÿæ—¥</span><span class=p>,</span><span class=w>
</span><span class=w>    </span><span class=n>floor</span><span class=p>(</span><span class=n>datediff</span><span class=p>(</span><span class=n>curdate</span><span class=p>(),</span><span class=w> </span><span class=k>min</span><span class=p>(</span><span class=n>stu_birth</span><span class=p>))</span><span class=o>/</span><span class=mi>365</span><span class=p>)</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=err>å¹´é¾„</span><span class=w>
</span><span class=w></span><span class=k>from</span><span class=w> </span><span class=n>tb_student</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c1>-- æŸ¥è¯¢å¹´é¾„æœ€å°çš„å­¦ç”Ÿçš„å‡ºç”Ÿæ—¥æœŸ(èšåˆå‡½æ•°)
</span><span class=c1></span><span class=k>select</span><span class=w> 
</span><span class=w>	</span><span class=k>max</span><span class=p>(</span><span class=n>stu_birth</span><span class=p>)</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=err>ç”Ÿæ—¥</span><span class=p>,</span><span class=w>
</span><span class=w>    </span><span class=n>floor</span><span class=p>(</span><span class=n>datediff</span><span class=p>(</span><span class=n>curdate</span><span class=p>(),</span><span class=w> </span><span class=k>max</span><span class=p>(</span><span class=n>stu_birth</span><span class=p>))</span><span class=o>/</span><span class=mi>365</span><span class=p>)</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=err>å¹´é¾„</span><span class=w>
</span><span class=w></span><span class=k>from</span><span class=w> </span><span class=n>tb_student</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c1>-- æŸ¥è¯¢æ‰€æœ‰è€ƒè¯•çš„å¹³å‡æˆç»©
</span><span class=c1>-- èšåˆå‡½æ•°åœ¨é‡åˆ°nullå€¼ä¼šåšå¿½ç•¥çš„å¤„ç†
</span><span class=c1>-- å¦‚æœåšè®¡æ•°æ“ä½œï¼Œå»ºè®®ä½¿ç”¨count(*)ï¼Œè¿™æ ·æ‰ä¸ä¼šæ¼æ‰ç©ºå€¼
</span><span class=c1></span><span class=k>select</span><span class=w> </span><span class=k>avg</span><span class=p>(</span><span class=n>score</span><span class=p>)</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>tb_record</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=k>select</span><span class=w> </span><span class=k>sum</span><span class=p>(</span><span class=n>score</span><span class=p>)</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=k>count</span><span class=p>(</span><span class=n>score</span><span class=p>)</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>tb_record</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=k>select</span><span class=w> </span><span class=k>sum</span><span class=p>(</span><span class=n>score</span><span class=p>)</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=k>count</span><span class=p>(</span><span class=o>*</span><span class=p>)</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>tb_record</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c1>-- æŸ¥è¯¢è¯¾ç¨‹ç¼–å·ä¸º1111çš„è¯¾ç¨‹çš„å¹³å‡æˆç»©(ç­›é€‰å’Œèšåˆå‡½æ•°)
</span><span class=c1></span><span class=k>select</span><span class=w> </span><span class=k>avg</span><span class=p>(</span><span class=n>score</span><span class=p>)</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>tb_record</span><span class=w> </span><span class=k>where</span><span class=w> </span><span class=n>cid</span><span class=o>=</span><span class=mi>1111</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c1>-- æŸ¥è¯¢å­¦å·ä¸º1001çš„å­¦ç”Ÿæ‰€æœ‰è¯¾ç¨‹çš„å¹³å‡åˆ†(ç­›é€‰å’Œèšåˆå‡½æ•°)
</span><span class=c1></span><span class=k>select</span><span class=w> </span><span class=k>avg</span><span class=p>(</span><span class=n>score</span><span class=p>)</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>tb_record</span><span class=w> </span><span class=k>where</span><span class=w> </span><span class=n>sid</span><span class=o>=</span><span class=mi>1001</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=k>select</span><span class=w> </span><span class=k>count</span><span class=p>(</span><span class=k>distinct</span><span class=w> </span><span class=n>stu_addr</span><span class=p>)</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>tb_student</span><span class=w> </span><span class=k>where</span><span class=w> </span><span class=n>stu_addr</span><span class=w> </span><span class=k>is</span><span class=w> </span><span class=k>not</span><span class=w> </span><span class=k>null</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c1>-- æŸ¥è¯¢ç”·å¥³å­¦ç”Ÿçš„äººæ•°(åˆ†ç»„å’Œèšåˆå‡½æ•°) 
</span><span class=c1>-- SACï¼ˆSplit - Aggregate - Combineï¼‰
</span><span class=c1></span><span class=k>select</span><span class=w> 
</span><span class=w>	</span><span class=k>if</span><span class=p>(</span><span class=n>stu_sex</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;ç”·&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;å¥³&#39;</span><span class=p>)</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=err>æ€§åˆ«</span><span class=p>,</span><span class=w> 
</span><span class=w>    </span><span class=k>count</span><span class=p>(</span><span class=o>*</span><span class=p>)</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=err>äººæ•°</span><span class=w> 
</span><span class=w></span><span class=k>from</span><span class=w> </span><span class=n>tb_student</span><span class=w> </span><span class=k>group</span><span class=w> </span><span class=k>by</span><span class=w> </span><span class=n>stu_sex</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c1>-- ç»Ÿè®¡æ¯ä¸ªå­¦é™¢ç”·å¥³å­¦ç”Ÿçš„äººæ•°
</span><span class=c1></span><span class=k>select</span><span class=w> 
</span><span class=w>	</span><span class=n>col_id</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=err>å­¦é™¢</span><span class=p>,</span><span class=w> 
</span><span class=w>    </span><span class=k>if</span><span class=p>(</span><span class=n>stu_sex</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;ç”·&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;å¥³&#39;</span><span class=p>)</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=err>æ€§åˆ«</span><span class=p>,</span><span class=w> 
</span><span class=w>    </span><span class=k>count</span><span class=p>(</span><span class=o>*</span><span class=p>)</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=err>äººæ•°</span><span class=w> 
</span><span class=w></span><span class=k>from</span><span class=w> </span><span class=n>tb_student</span><span class=w> </span><span class=k>group</span><span class=w> </span><span class=k>by</span><span class=w> </span><span class=n>col_id</span><span class=p>,</span><span class=w> </span><span class=n>stu_sex</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c1>-- æŸ¥è¯¢æ¯ä¸ªå­¦ç”Ÿçš„å­¦å·å’Œå¹³å‡æˆç»©(åˆ†ç»„å’Œèšåˆå‡½æ•°)
</span><span class=c1></span><span class=k>select</span><span class=w> 
</span><span class=w>	</span><span class=n>sid</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=err>å­¦å·</span><span class=p>,</span><span class=w> 
</span><span class=w>    </span><span class=n>round</span><span class=p>(</span><span class=k>avg</span><span class=p>(</span><span class=n>score</span><span class=p>),</span><span class=mi>1</span><span class=p>)</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=err>å¹³å‡åˆ†</span><span class=w> 
</span><span class=w></span><span class=k>from</span><span class=w> </span><span class=n>tb_record</span><span class=w> </span><span class=k>group</span><span class=w> </span><span class=k>by</span><span class=w> </span><span class=n>sid</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c1>-- æŸ¥è¯¢å¹³å‡æˆç»©å¤§äºç­‰äº90åˆ†çš„å­¦ç”Ÿçš„å­¦å·å’Œå¹³å‡æˆç»©
</span><span class=c1>-- åˆ†ç»„ä»¥å‰çš„æ•°æ®ç­›é€‰ä½¿ç”¨whereå­å¥ï¼Œåˆ†ç»„ä»¥åçš„æ•°æ®ç­›é€‰ä½¿ç”¨havingå­å¥
</span><span class=c1></span><span class=k>select</span><span class=w> 
</span><span class=w>	</span><span class=n>sid</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=err>å­¦å·</span><span class=p>,</span><span class=w> 
</span><span class=w>    </span><span class=n>round</span><span class=p>(</span><span class=k>avg</span><span class=p>(</span><span class=n>score</span><span class=p>),</span><span class=mi>1</span><span class=p>)</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=err>å¹³å‡åˆ†</span><span class=w> 
</span><span class=w></span><span class=k>from</span><span class=w> </span><span class=n>tb_record</span><span class=w> 
</span><span class=w></span><span class=k>group</span><span class=w> </span><span class=k>by</span><span class=w> </span><span class=n>sid</span><span class=w> </span><span class=k>having</span><span class=w> </span><span class=err>å¹³å‡åˆ†</span><span class=o>&gt;=</span><span class=mi>90</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c1>-- æŸ¥è¯¢å¹´é¾„æœ€å¤§çš„å­¦ç”Ÿçš„å§“å(å­æŸ¥è¯¢)
</span><span class=c1>-- åµŒå¥—æŸ¥è¯¢ï¼šæŠŠä¸€ä¸ªæŸ¥è¯¢çš„ç»“æœä½œä¸ºå¦å¤–ä¸€ä¸ªæŸ¥è¯¢çš„ä¸€éƒ¨åˆ†æ¥ä½¿ç”¨ã€‚
</span><span class=c1></span><span class=k>select</span><span class=w> </span><span class=n>stu_name</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>tb_student</span><span class=w> </span><span class=k>where</span><span class=w> </span><span class=n>stu_birth</span><span class=o>=</span><span class=p>(</span><span class=w>
</span><span class=w>	</span><span class=k>select</span><span class=w> </span><span class=k>min</span><span class=p>(</span><span class=n>stu_birth</span><span class=p>)</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>tb_student</span><span class=w>
</span><span class=w></span><span class=p>);</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c1>-- æŸ¥è¯¢å¹´é¾„æœ€å¤§çš„å­¦ç”Ÿå§“åå’Œå¹´é¾„(å­æŸ¥è¯¢+è¿ç®—)
</span><span class=c1></span><span class=k>select</span><span class=w> 
</span><span class=w>	</span><span class=n>stu_name</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=err>å§“å</span><span class=p>,</span><span class=w>
</span><span class=w>    </span><span class=n>floor</span><span class=p>(</span><span class=n>datediff</span><span class=p>(</span><span class=n>curdate</span><span class=p>(),</span><span class=w> </span><span class=n>stu_birth</span><span class=p>)</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=mi>365</span><span class=p>)</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=err>å¹´é¾„</span><span class=w> 
</span><span class=w></span><span class=k>from</span><span class=w> </span><span class=n>tb_student</span><span class=w> </span><span class=k>where</span><span class=w> </span><span class=n>stu_birth</span><span class=o>=</span><span class=p>(</span><span class=w>
</span><span class=w>	</span><span class=k>select</span><span class=w> </span><span class=k>min</span><span class=p>(</span><span class=n>stu_birth</span><span class=p>)</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>tb_student</span><span class=w>
</span><span class=w></span><span class=p>);</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c1>-- æŸ¥è¯¢é€‰äº†ä¸¤é—¨ä»¥ä¸Šçš„è¯¾ç¨‹çš„å­¦ç”Ÿå§“å(å­æŸ¥è¯¢/åˆ†ç»„æ¡ä»¶/é›†åˆè¿ç®—)
</span><span class=c1></span><span class=k>select</span><span class=w> </span><span class=n>stu_name</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>tb_student</span><span class=w> </span><span class=k>where</span><span class=w> </span><span class=n>stu_id</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=p>(</span><span class=w>
</span><span class=w>	</span><span class=k>select</span><span class=w> </span><span class=n>sid</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>tb_record</span><span class=w> </span><span class=k>group</span><span class=w> </span><span class=k>by</span><span class=w> </span><span class=n>sid</span><span class=w> </span><span class=k>having</span><span class=w> </span><span class=k>count</span><span class=p>(</span><span class=o>*</span><span class=p>)</span><span class=o>&gt;</span><span class=mi>2</span><span class=w>
</span><span class=w></span><span class=p>);</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c1>-- æŸ¥è¯¢è¯¾ç¨‹çš„åç§°ã€å­¦åˆ†å’Œæˆè¯¾è€å¸ˆçš„å§“å(è¿æ¥æŸ¥è¯¢)
</span><span class=c1></span><span class=k>select</span><span class=w> </span><span class=n>cou_name</span><span class=p>,</span><span class=w> </span><span class=n>cou_credit</span><span class=p>,</span><span class=w> </span><span class=n>tea_name</span><span class=w> 
</span><span class=w></span><span class=k>from</span><span class=w> </span><span class=n>tb_course</span><span class=p>,</span><span class=w> </span><span class=n>tb_teacher</span><span class=w> 
</span><span class=w></span><span class=k>where</span><span class=w> </span><span class=n>tb_course</span><span class=p>.</span><span class=n>tea_id</span><span class=o>=</span><span class=n>tb_teacher</span><span class=p>.</span><span class=n>tea_id</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=k>select</span><span class=w> </span><span class=n>cou_name</span><span class=p>,</span><span class=w> </span><span class=n>cou_credit</span><span class=p>,</span><span class=w> </span><span class=n>tea_name</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>tb_course</span><span class=w> </span><span class=n>t1</span><span class=w> 
</span><span class=w></span><span class=k>inner</span><span class=w> </span><span class=k>join</span><span class=w> </span><span class=n>tb_teacher</span><span class=w> </span><span class=n>t2</span><span class=w> </span><span class=k>on</span><span class=w> </span><span class=n>t1</span><span class=p>.</span><span class=n>tea_id</span><span class=o>=</span><span class=n>t2</span><span class=p>.</span><span class=n>tea_id</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c1>-- æŸ¥è¯¢å­¦ç”Ÿå§“åã€è¯¾ç¨‹åç§°ä»¥åŠæˆç»©(è¿æ¥æŸ¥è¯¢)
</span><span class=c1></span><span class=k>select</span><span class=w> </span><span class=n>stu_name</span><span class=p>,</span><span class=w> </span><span class=n>cou_name</span><span class=p>,</span><span class=w> </span><span class=n>score</span><span class=w> 
</span><span class=w></span><span class=k>from</span><span class=w> </span><span class=n>tb_record</span><span class=p>,</span><span class=w> </span><span class=n>tb_student</span><span class=p>,</span><span class=w> </span><span class=n>tb_course</span><span class=w>
</span><span class=w></span><span class=k>where</span><span class=w> </span><span class=n>stu_id</span><span class=o>=</span><span class=n>sid</span><span class=w> </span><span class=k>and</span><span class=w> </span><span class=n>cou_id</span><span class=o>=</span><span class=n>cid</span><span class=w> </span><span class=k>and</span><span class=w> </span><span class=n>score</span><span class=w> </span><span class=k>is</span><span class=w> </span><span class=k>not</span><span class=w> </span><span class=k>null</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=k>select</span><span class=w> </span><span class=n>stu_name</span><span class=p>,</span><span class=w> </span><span class=n>cou_name</span><span class=p>,</span><span class=w> </span><span class=n>score</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>tb_student</span><span class=w> 
</span><span class=w></span><span class=k>inner</span><span class=w> </span><span class=k>join</span><span class=w> </span><span class=n>tb_record</span><span class=w> </span><span class=k>on</span><span class=w> </span><span class=n>stu_id</span><span class=o>=</span><span class=n>sid</span><span class=w> 
</span><span class=w></span><span class=k>inner</span><span class=w> </span><span class=k>join</span><span class=w> </span><span class=n>tb_course</span><span class=w> </span><span class=k>on</span><span class=w> </span><span class=n>cou_id</span><span class=o>=</span><span class=n>cid</span><span class=w> 
</span><span class=w></span><span class=k>where</span><span class=w> </span><span class=n>score</span><span class=w> </span><span class=k>is</span><span class=w> </span><span class=k>not</span><span class=w> </span><span class=k>null</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c1>-- æŸ¥è¯¢é€‰è¯¾å­¦ç”Ÿçš„å§“åå’Œå¹³å‡æˆç»©(å­æŸ¥è¯¢å’Œè¿æ¥æŸ¥è¯¢)
</span><span class=c1></span><span class=k>select</span><span class=w> </span><span class=n>stu_name</span><span class=p>,</span><span class=w> </span><span class=n>avg_score</span><span class=w> 
</span><span class=w></span><span class=k>from</span><span class=w> </span><span class=n>tb_student</span><span class=p>,</span><span class=w> </span><span class=p>(</span><span class=k>select</span><span class=w> </span><span class=n>sid</span><span class=p>,</span><span class=w> </span><span class=n>round</span><span class=p>(</span><span class=k>avg</span><span class=p>(</span><span class=n>score</span><span class=p>),</span><span class=mi>1</span><span class=p>)</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=n>avg_score</span><span class=w> 
</span><span class=w>	</span><span class=k>from</span><span class=w> </span><span class=n>tb_record</span><span class=w> </span><span class=k>group</span><span class=w> </span><span class=k>by</span><span class=w> </span><span class=n>sid</span><span class=w>
</span><span class=w></span><span class=p>)</span><span class=w> </span><span class=n>tb_temp</span><span class=w> </span><span class=k>where</span><span class=w> </span><span class=n>stu_id</span><span class=o>=</span><span class=n>sid</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c1>-- æŸ¥è¯¢æ¯ä¸ªå­¦ç”Ÿçš„å§“åå’Œé€‰è¯¾æ•°é‡(å·¦å¤–è¿æ¥å’Œå­æŸ¥è¯¢)
</span><span class=c1></span><span class=k>select</span><span class=w> 
</span><span class=w>	</span><span class=n>stu_name</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=err>å§“å</span><span class=p>,</span><span class=w> 
</span><span class=w>    </span><span class=n>ifnull</span><span class=p>(</span><span class=n>total</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>)</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=err>é€‰è¯¾æ•°é‡</span><span class=w> 
</span><span class=w></span><span class=k>from</span><span class=w> </span><span class=n>tb_student</span><span class=w> </span><span class=k>left</span><span class=w> </span><span class=k>outer</span><span class=w> </span><span class=k>join</span><span class=w> </span><span class=p>(</span><span class=w>
</span><span class=w>	</span><span class=k>select</span><span class=w> </span><span class=n>sid</span><span class=p>,</span><span class=w> </span><span class=k>count</span><span class=p>(</span><span class=o>*</span><span class=p>)</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=n>total</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>tb_record</span><span class=w> </span><span class=k>group</span><span class=w> </span><span class=k>by</span><span class=w> </span><span class=n>sid</span><span class=w>
</span><span class=w></span><span class=p>)</span><span class=w> </span><span class=n>tb_temp</span><span class=w> </span><span class=k>on</span><span class=w> </span><span class=n>stu_id</span><span class=o>=</span><span class=n>sid</span><span class=p>;</span><span class=w>
</span></code></pre></td></tr></table></div></div></div><p>ä¸Šé¢çš„DMLæœ‰å‡ ä¸ªåœ°æ–¹éœ€è¦åŠ ä»¥è¯´æ˜ï¼š</p><ol><li><p>MySQLä¸­æ”¯æŒå¤šç§ç±»å‹çš„è¿ç®—ç¬¦ï¼ŒåŒ…æ‹¬ï¼šç®—æœ¯è¿ç®—ç¬¦ï¼ˆ+ã€-ã€*ã€/ã€%ï¼‰ã€æ¯”è¾ƒè¿ç®—ç¬¦ï¼ˆ=ã€&lt;>ã€&lt;=>ã€&lt;ã€&lt;=ã€>ã€>=ã€BETWEEN...AND...ã€INã€IS NULLã€IS NOT NULLã€LIKEã€RLIKEã€REGEXPï¼‰ã€é€»è¾‘è¿ç®—ç¬¦ï¼ˆNOTã€ANDã€ORã€XORï¼‰å’Œä½è¿ç®—ç¬¦ï¼ˆ&ã€|ã€^ã€~ã€>>ã€&lt;&lt;ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨DMLä¸­ä½¿ç”¨è¿™äº›è¿ç®—ç¬¦å¤„ç†æ•°æ®ã€‚</p></li><li><p>åœ¨æŸ¥è¯¢æ•°æ®æ—¶ï¼Œå¯ä»¥åœ¨SELECTè¯­å¥åŠå…¶å­å¥ï¼ˆå¦‚WHEREå­å¥ã€ORDER BYå­å¥ã€HAVINGå­å¥ç­‰ï¼‰ä¸­ä½¿ç”¨å‡½æ•°ï¼Œè¿™äº›å‡½æ•°åŒ…æ‹¬å­—ç¬¦ä¸²å‡½æ•°ã€æ•°å€¼å‡½æ•°ã€æ—¶é—´æ—¥æœŸå‡½æ•°ã€æµç¨‹å‡½æ•°ç­‰ï¼Œå¦‚ä¸‹é¢çš„è¡¨æ ¼æ‰€ç¤ºã€‚</p><p>å¸¸ç”¨å­—ç¬¦ä¸²å‡½æ•°ã€‚</p><div class=table-container><table><thead><tr><th>å‡½æ•°</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>CONCAT</td><td>å°†å¤šä¸ªå­—ç¬¦ä¸²è¿æ¥æˆä¸€ä¸ªå­—ç¬¦ä¸²</td></tr><tr><td>FORMAT</td><td>å°†æ•°å€¼æ ¼å¼åŒ–æˆå­—ç¬¦ä¸²å¹¶æŒ‡å®šä¿ç•™å‡ ä½å°æ•°</td></tr><tr><td>FROM_BASE64 / TO_BASE64</td><td>BASE64è§£ç /ç¼–ç </td></tr><tr><td>BIN / OCT / HEX</td><td>å°†æ•°å€¼è½¬æ¢æˆäºŒè¿›åˆ¶/å…«è¿›åˆ¶/åå…­è¿›åˆ¶å­—ç¬¦ä¸²</td></tr><tr><td>LOCATE</td><td>åœ¨å­—ç¬¦ä¸²ä¸­æŸ¥æ‰¾ä¸€ä¸ªå­ä¸²çš„ä½ç½®</td></tr><tr><td>LEFT / RIGHT</td><td>è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²å·¦è¾¹/å³è¾¹æŒ‡å®šé•¿åº¦çš„å­—ç¬¦</td></tr><tr><td>LENGTH / CHAR_LENGTH</td><td>è¿”å›å­—ç¬¦ä¸²çš„é•¿åº¦ä»¥å­—èŠ‚/å­—ç¬¦ä¸ºå•ä½</td></tr><tr><td>LOWER / UPPER</td><td>è¿”å›å­—ç¬¦ä¸²çš„å°å†™/å¤§å†™å½¢å¼</td></tr><tr><td>LPAD / RPAD</td><td>å¦‚æœå­—ç¬¦ä¸²çš„é•¿åº¦ä¸è¶³ï¼Œåœ¨å­—ç¬¦ä¸²å·¦è¾¹/å³è¾¹å¡«å……æŒ‡å®šçš„å­—ç¬¦</td></tr><tr><td>LTRIM / RTRIM</td><td>å»æ‰å­—ç¬¦ä¸²å‰é¢/åé¢çš„ç©ºæ ¼</td></tr><tr><td>ORD / CHAR</td><td>è¿”å›å­—ç¬¦å¯¹åº”çš„ç¼–ç /è¿”å›ç¼–ç å¯¹åº”çš„å­—ç¬¦</td></tr><tr><td>STRCMP</td><td>æ¯”è¾ƒå­—ç¬¦ä¸²ï¼Œè¿”å›-1ã€0ã€1åˆ†åˆ«è¡¨ç¤ºå°äºã€ç­‰äºã€å¤§äº</td></tr><tr><td>SUBSTRING</td><td>è¿”å›å­—ç¬¦ä¸²æŒ‡å®šèŒƒå›´çš„å­ä¸²</td></tr></tbody></table></div><p>å¸¸ç”¨æ•°å€¼å‡½æ•°ã€‚</p><div class=table-container><table><thead><tr><th>å‡½æ•°</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>ABS</td><td>è¿”å›ä¸€ä¸ªæ•°çš„ç»åº¦å€¼</td></tr><tr><td>CEILING / FLOOR</td><td>è¿”å›ä¸€ä¸ªæ•°ä¸Šå–æ•´/ä¸‹å–æ•´çš„ç»“æœ</td></tr><tr><td>CONV</td><td>å°†ä¸€ä¸ªæ•°ä»ä¸€ç§è¿›åˆ¶è½¬æ¢æˆå¦ä¸€ç§è¿›åˆ¶</td></tr><tr><td>CRC32</td><td>è®¡ç®—å¾ªç¯å†—ä½™æ ¡éªŒç </td></tr><tr><td>EXP / LOG / LOG2 / LOG10</td><td>è®¡ç®—æŒ‡æ•°/å¯¹æ•°</td></tr><tr><td>POW</td><td>æ±‚å¹‚</td></tr><tr><td>RAND</td><td>è¿”å›[0,1)èŒƒå›´çš„éšæœºæ•°</td></tr><tr><td>ROUND</td><td>è¿”å›ä¸€ä¸ªæ•°å››èˆäº”å…¥åçš„ç»“æœ</td></tr><tr><td>SQRT</td><td>è¿”å›ä¸€ä¸ªæ•°çš„å¹³æ–¹æ ¹</td></tr><tr><td>TRUNCATE</td><td>æˆªæ–­ä¸€ä¸ªæ•°åˆ°æŒ‡å®šçš„ç²¾åº¦</td></tr><tr><td>SIN / COS / TAN / COT / ASIN / ACOS / ATAN</td><td>ä¸‰è§’å‡½æ•°</td></tr></tbody></table></div><p>å¸¸ç”¨æ—¶é—´æ—¥æœŸå‡½æ•°ã€‚</p><div class=table-container><table><thead><tr><th>å‡½æ•°</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>CURDATE / CURTIME / NOW</td><td>è·å–å½“å‰æ—¥æœŸ/æ—¶é—´/æ—¥æœŸå’Œæ—¶é—´</td></tr><tr><td>ADDDATE / SUBDATE</td><td>å°†ä¸¤ä¸ªæ—¥æœŸè¡¨è¾¾å¼ç›¸åŠ /ç›¸å‡å¹¶è¿”å›ç»“æœ</td></tr><tr><td>DATE / TIME</td><td>ä»å­—ç¬¦ä¸²ä¸­è·å–æ—¥æœŸ/æ—¶é—´</td></tr><tr><td>YEAR / MONTH / DAY</td><td>ä»æ—¥æœŸä¸­è·å–å¹´/æœˆ/æ—¥</td></tr><tr><td>HOUR / MINUTE / SECOND</td><td>ä»æ—¶é—´ä¸­è·å–æ—¶/åˆ†/ç§’</td></tr><tr><td>DATEDIFF / TIMEDIFF</td><td>è¿”å›ä¸¤ä¸ªæ—¶é—´æ—¥æœŸè¡¨è¾¾å¼ç›¸å·®å¤šå°‘å¤©/å°æ—¶</td></tr><tr><td>MAKEDATE / MAKETIME</td><td>åˆ¶é€ ä¸€ä¸ªæ—¥æœŸ/æ—¶é—´</td></tr></tbody></table></div><p>å¸¸ç”¨æµç¨‹å‡½æ•°ã€‚</p><div class=table-container><table><thead><tr><th>å‡½æ•°</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>IF</td><td>æ ¹æ®æ¡ä»¶æ˜¯å¦æˆç«‹è¿”å›ä¸åŒçš„å€¼</td></tr><tr><td>IFNULL</td><td>å¦‚æœä¸ºNULLåˆ™è¿”å›æŒ‡å®šçš„å€¼å¦åˆ™å°±è¿”å›æœ¬èº«</td></tr><tr><td>NULLIF</td><td>ä¸¤ä¸ªè¡¨è¾¾å¼ç›¸ç­‰å°±è¿”å›NULLå¦åˆ™è¿”å›ç¬¬ä¸€ä¸ªè¡¨è¾¾å¼çš„å€¼</td></tr></tbody></table></div><p>å…¶ä»–å¸¸ç”¨å‡½æ•°ã€‚</p><div class=table-container><table><thead><tr><th>å‡½æ•°</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>MD5 / SHA1 / SHA2</td><td>è¿”å›å­—ç¬¦ä¸²å¯¹åº”çš„å“ˆå¸Œæ‘˜è¦</td></tr><tr><td>CHARSET / COLLATION</td><td>è¿”å›å­—ç¬¦é›†/æ ¡å¯¹è§„åˆ™</td></tr><tr><td>USER / CURRENT_USER</td><td>è¿”å›å½“å‰ç”¨æˆ·</td></tr><tr><td>DATABASE</td><td>è¿”å›å½“å‰æ•°æ®åº“å</td></tr><tr><td>VERSION</td><td>è¿”å›å½“å‰æ•°æ®åº“ç‰ˆæœ¬</td></tr><tr><td>FOUND_ROWS / ROW_COUNT</td><td>è¿”å›æŸ¥è¯¢åˆ°çš„è¡Œæ•°/å—å½±å“çš„è¡Œæ•°</td></tr><tr><td>LAST_INSERT_ID</td><td>è¿”å›æœ€åä¸€ä¸ªè‡ªå¢ä¸»é”®çš„å€¼</td></tr><tr><td>UUID / UUID_SHORT</td><td>è¿”å›å…¨å±€å”¯ä¸€æ ‡è¯†ç¬¦</td></tr></tbody></table></div></li></ol><h4 id=dclæ•°æ®æ§åˆ¶è¯­è¨€><a href=#dclæ•°æ®æ§åˆ¶è¯­è¨€ class=anchor-link>#</a>DCLï¼ˆæ•°æ®æ§åˆ¶è¯­è¨€ï¼‰</h4><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=c1>-- åˆ›å»ºå¯ä»¥è¿œç¨‹ç™»å½•çš„rootè´¦å·å¹¶ä¸ºå…¶æŒ‡å®šå£ä»¤
</span><span class=c1></span><span class=k>create</span><span class=w> </span><span class=k>user</span><span class=w> </span><span class=s1>&#39;root&#39;</span><span class=o>@</span><span class=s1>&#39;%&#39;</span><span class=w> </span><span class=n>identified</span><span class=w> </span><span class=k>by</span><span class=w> </span><span class=s1>&#39;123456&#39;</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c1>-- ä¸ºè¿œç¨‹ç™»å½•çš„rootè´¦å·æˆæƒæ“ä½œæ‰€æœ‰æ•°æ®åº“æ‰€æœ‰å¯¹è±¡çš„æ‰€æœ‰æƒé™å¹¶å…è®¸å…¶å°†æƒé™å†æ¬¡èµ‹äºˆå…¶ä»–ç”¨æˆ·
</span><span class=c1></span><span class=k>grant</span><span class=w> </span><span class=k>all</span><span class=w> </span><span class=k>privileges</span><span class=w> </span><span class=k>on</span><span class=w> </span><span class=o>*</span><span class=p>.</span><span class=o>*</span><span class=w> </span><span class=k>to</span><span class=w> </span><span class=s1>&#39;root&#39;</span><span class=o>@</span><span class=s1>&#39;%&#39;</span><span class=w> </span><span class=k>with</span><span class=w> </span><span class=k>grant</span><span class=w> </span><span class=k>option</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c1>-- åˆ›å»ºåä¸ºhellokittyçš„ç”¨æˆ·å¹¶ä¸ºå…¶æŒ‡å®šå£ä»¤
</span><span class=c1></span><span class=k>create</span><span class=w> </span><span class=k>user</span><span class=w> </span><span class=s1>&#39;hellokitty&#39;</span><span class=o>@</span><span class=s1>&#39;%&#39;</span><span class=w> </span><span class=n>identified</span><span class=w> </span><span class=k>by</span><span class=w> </span><span class=s1>&#39;123123&#39;</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c1>-- å°†å¯¹schoolæ•°æ®åº“æ‰€æœ‰å¯¹è±¡çš„æ‰€æœ‰æ“ä½œæƒé™æˆäºˆhellokitty
</span><span class=c1></span><span class=k>grant</span><span class=w> </span><span class=k>all</span><span class=w> </span><span class=k>privileges</span><span class=w> </span><span class=k>on</span><span class=w> </span><span class=n>school</span><span class=p>.</span><span class=o>*</span><span class=w> </span><span class=k>to</span><span class=w> </span><span class=s1>&#39;hellokitty&#39;</span><span class=o>@</span><span class=s1>&#39;%&#39;</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c1>-- å¬å›hellokittyå¯¹schoolæ•°æ®åº“æ‰€æœ‰å¯¹è±¡çš„insert/delete/updateæƒé™
</span><span class=c1></span><span class=k>revoke</span><span class=w> </span><span class=k>insert</span><span class=p>,</span><span class=w> </span><span class=k>delete</span><span class=p>,</span><span class=w> </span><span class=k>update</span><span class=w> </span><span class=k>on</span><span class=w> </span><span class=n>school</span><span class=p>.</span><span class=o>*</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=s1>&#39;hellokitty&#39;</span><span class=o>@</span><span class=s1>&#39;%&#39;</span><span class=p>;</span><span class=w>
</span></code></pre></td></tr></table></div></div></div><blockquote><p>è¯´æ˜ï¼šåˆ›å»ºä¸€ä¸ªå¯ä»¥å…è®¸ä»»æ„ä¸»æœºç™»å½•å¹¶ä¸”å…·æœ‰è¶…çº§ç®¡ç†å‘˜æƒé™çš„ç”¨æˆ·åœ¨ç°å®ä¸­å¹¶ä¸æ˜¯ä¸€ä¸ªæ˜æ™ºçš„å†³å®šï¼Œå› ä¸ºä¸€æ—¦è¯¥è´¦å·çš„å£ä»¤æ³„éœ²æˆ–è€…è¢«ç ´è§£ï¼Œæ•°æ®åº“å°†ä¼šé¢ä¸´ç¾éš¾çº§çš„é£é™©ã€‚</p></blockquote><h3 id=ç´¢å¼•><a href=#ç´¢å¼• class=anchor-link>#</a>ç´¢å¼•</h3><p>ç´¢å¼•æ˜¯å…³ç³»å‹æ•°æ®åº“ä¸­ç”¨æ¥æå‡æŸ¥è¯¢æ€§èƒ½æœ€ä¸ºé‡è¦çš„æ‰‹æ®µã€‚å…³ç³»å‹æ•°æ®åº“ä¸­çš„ç´¢å¼•å°±åƒä¸€æœ¬ä¹¦çš„ç›®å½•ï¼Œæˆ‘ä»¬å¯ä»¥æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœè¦ä»ä¸€æœ¬ä¹¦ä¸­æ‰¾å‡ºæŸä¸ªçŸ¥è¯†ç‚¹ï¼Œä½†æ˜¯è¿™æœ¬ä¹¦æ²¡æœ‰ç›®å½•ï¼Œè¿™å°†æ˜¯æ„è§å¤šä¹ˆå¯æ€•çš„äº‹æƒ…ï¼ˆæˆ‘ä»¬ä¼°è®¡å¾—ä¸€ç¯‡ä¸€ç¯‡çš„ç¿»ä¸‹å»ï¼Œæ‰èƒ½ç¡®å®šè¿™ä¸ªçŸ¥è¯†ç‚¹åˆ°åº•åœ¨ä»€ä¹ˆä½ç½®ï¼‰ã€‚åˆ›å»ºç´¢å¼•è™½ç„¶ä¼šå¸¦æ¥å­˜å‚¨ç©ºé—´ä¸Šçš„å¼€é”€ï¼Œå°±åƒä¸€æœ¬ä¹¦çš„ç›®å½•ä¼šå ç”¨ä¸€éƒ¨åˆ†çš„ç¯‡å¹…ä¸€æ ·ï¼Œä½†æ˜¯åœ¨ç‰ºç‰²ç©ºé—´åæ¢æ¥çš„æŸ¥è¯¢æ—¶é—´çš„å‡å°‘ä¹Ÿæ˜¯éå¸¸æ˜¾è‘—çš„ã€‚</p><p>MySQLä¸­ï¼Œæ‰€æœ‰æ•°æ®ç±»å‹çš„åˆ—éƒ½å¯ä»¥è¢«ç´¢å¼•ï¼Œå¸¸ç”¨çš„å­˜å‚¨å¼•æ“InnoDBå’ŒMyISAMèƒ½æ”¯æŒæ¯ä¸ªè¡¨åˆ›å»º16ä¸ªç´¢å¼•ã€‚InnoDBå’ŒMyISAMä½¿ç”¨çš„ç´¢å¼•å…¶åº•å±‚ç®—æ³•æ˜¯B-treeï¼ˆBæ ‘ï¼‰ï¼ŒB-treeæ˜¯ä¸€ç§è‡ªå¹³è¡¡çš„æ ‘ï¼Œç±»ä¼¼äºå¹³è¡¡äºŒå‰æ’åºæ ‘ï¼Œèƒ½å¤Ÿä¿æŒæ•°æ®æœ‰åºã€‚è¿™ç§æ•°æ®ç»“æ„èƒ½å¤Ÿè®©æŸ¥æ‰¾æ•°æ®ã€é¡ºåºè®¿é—®ã€æ’å…¥æ•°æ®åŠåˆ é™¤çš„æ“ä½œéƒ½åœ¨å¯¹æ•°æ—¶é—´å†…å®Œæˆã€‚</p><p>æ¥ä¸‹æ¥æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªç®€å•çš„ä¾‹å­æ¥è¯´æ˜ç´¢å¼•çš„æ„ä¹‰ï¼Œæ¯”å¦‚æˆ‘ä»¬è¦æ ¹æ®å­¦ç”Ÿçš„å§“åæ¥æŸ¥æ‰¾å­¦ç”Ÿï¼Œè¿™ä¸ªåœºæ™¯åœ¨å®é™…å¼€å‘ä¸­åº”è¯¥ç»å¸¸é‡åˆ°ï¼Œå°±è·Ÿé€šè¿‡å•†å“åç§°æŸ¥æ‰¾å•†å“é“ç†æ˜¯ä¸€æ ·çš„ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨MySQLçš„<code>explain</code>å…³é”®å­—æ¥æŸ¥çœ‹SQLçš„æ‰§è¡Œè®¡åˆ’ã€‚</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=k>explain</span><span class=w> </span><span class=k>select</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>tb_student</span><span class=w> </span><span class=k>where</span><span class=w> </span><span class=n>stuname</span><span class=o>=</span><span class=s1>&#39;æ—éœ‡å—&#39;</span><span class=err>\</span><span class=k>G</span><span class=w>
</span></code></pre></td></tr></table></div></div></div><pre tabindex=0><code>*************************** 1. row ***************************
           id: 1
  select_type: SIMPLE
        table: tb_student
   partitions: NULL
         type: ALL
possible_keys: NULL
          key: NULL
      key_len: NULL
          ref: NULL
         rows: 11
     filtered: 10.00
        Extra: Using where
1 row in set, 1 warning (0.00 sec)
</code></pre><p>åœ¨ä¸Šé¢çš„SQLæ‰§è¡Œè®¡åˆ’ä¸­ï¼Œæœ‰å‡ é¡¹å€¼å¾—æˆ‘ä»¬å…³æ³¨ï¼š</p><ol><li><code>select_type</code>ï¼šæŸ¥è¯¢çš„ç±»å‹ã€‚<ul><li>SIMPLEï¼šç®€å•SELECTï¼Œä¸éœ€è¦ä½¿ç”¨UNIONæ“ä½œæˆ–å­æŸ¥è¯¢ã€‚</li><li>PRIMARYï¼šå¦‚æœæŸ¥è¯¢åŒ…å«å­æŸ¥è¯¢ï¼Œæœ€å¤–å±‚çš„SELECTè¢«æ ‡è®°ä¸ºPRIMARYã€‚</li><li>UNIONï¼šUNIONæ“ä½œä¸­ç¬¬äºŒä¸ªæˆ–åé¢çš„SELECTè¯­å¥ã€‚</li><li>SUBQUERYï¼šå­æŸ¥è¯¢ä¸­çš„ç¬¬ä¸€ä¸ªSELECTã€‚</li><li>DERIVEDï¼šæ´¾ç”Ÿè¡¨çš„SELECTå­æŸ¥è¯¢ã€‚</li></ul></li><li><code>table</code>ï¼šæŸ¥è¯¢å¯¹åº”çš„è¡¨ã€‚</li><li><code>type</code>ï¼šMySQLåœ¨è¡¨ä¸­æ‰¾åˆ°æ»¡è¶³æ¡ä»¶çš„è¡Œçš„æ–¹å¼ï¼Œä¹Ÿç§°ä¸ºè®¿é—®ç±»å‹ï¼ŒåŒ…æ‹¬ï¼šALLï¼ˆå…¨è¡¨æ‰«æï¼‰ã€indexï¼ˆç´¢å¼•å…¨æ‰«æï¼Œåªéå†ç´¢å¼•æ ‘ï¼‰ã€rangeï¼ˆç´¢å¼•èŒƒå›´æ‰«æï¼‰ã€refï¼ˆéå”¯ä¸€ç´¢å¼•æ‰«æï¼‰ã€eq_refï¼ˆå”¯ä¸€ç´¢å¼•æ‰«æï¼‰ã€const/systemï¼ˆå¸¸é‡çº§æŸ¥è¯¢ï¼‰ã€NULLï¼ˆä¸éœ€è¦è®¿é—®è¡¨æˆ–ç´¢å¼•ï¼‰ã€‚åœ¨æ‰€æœ‰çš„è®¿é—®ç±»å‹ä¸­ï¼Œå¾ˆæ˜¾ç„¶ALLæ˜¯æ€§èƒ½æœ€å·®çš„ï¼Œå®ƒä»£è¡¨çš„å…¨è¡¨æ‰«ææ˜¯æŒ‡è¦æ‰«æè¡¨ä¸­çš„æ¯ä¸€è¡Œæ‰èƒ½æ‰¾åˆ°åŒ¹é…çš„è¡Œã€‚</li><li><code>possible_keys</code>ï¼šMySQLå¯ä»¥é€‰æ‹©çš„ç´¢å¼•ï¼Œä½†æ˜¯<strong>æœ‰å¯èƒ½ä¸ä¼šä½¿ç”¨</strong>ã€‚</li><li><code>key</code>ï¼šMySQLçœŸæ­£ä½¿ç”¨çš„ç´¢å¼•ï¼Œå¦‚æœä¸ºNULLå°±è¡¨ç¤ºæ²¡æœ‰ä½¿ç”¨ç´¢å¼•ã€‚</li><li><code>key_len</code>ï¼šä½¿ç”¨çš„ç´¢å¼•çš„é•¿åº¦ï¼Œåœ¨ä¸å½±å“æŸ¥è¯¢çš„æƒ…å†µä¸‹è‚¯å®šæ˜¯é•¿åº¦è¶ŠçŸ­è¶Šå¥½ã€‚</li><li><code>rows</code>ï¼šæ‰§è¡ŒæŸ¥è¯¢éœ€è¦æ‰«æçš„è¡Œæ•°ï¼Œè¿™æ˜¯ä¸€ä¸ª<strong>é¢„ä¼°å€¼</strong>ã€‚</li><li><code>extra</code>ï¼šå…³äºæŸ¥è¯¢é¢å¤–çš„ä¿¡æ¯ã€‚<ul><li><code>Using filesort</code>ï¼šMySQLæ— æ³•åˆ©ç”¨ç´¢å¼•å®Œæˆæ’åºæ“ä½œã€‚</li><li><code>Using index</code>ï¼šåªä½¿ç”¨ç´¢å¼•çš„ä¿¡æ¯è€Œä¸éœ€è¦è¿›ä¸€æ­¥æŸ¥è¡¨æ¥è·å–æ›´å¤šçš„ä¿¡æ¯ã€‚</li><li><code>Using temporary</code>ï¼šMySQLéœ€è¦ä½¿ç”¨ä¸´æ—¶è¡¨æ¥å­˜å‚¨ç»“æœé›†ï¼Œå¸¸ç”¨äºåˆ†ç»„å’Œæ’åºã€‚</li><li><code>Impossible where</code>ï¼š<code>where</code>å­å¥ä¼šå¯¼è‡´æ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„è¡Œã€‚</li><li><code>Distinct</code>ï¼šMySQLå‘ç°ç¬¬ä¸€ä¸ªåŒ¹é…è¡Œåï¼Œåœæ­¢ä¸ºå½“å‰çš„è¡Œç»„åˆæœç´¢æ›´å¤šçš„è¡Œã€‚</li><li><code>Using where</code>ï¼šæŸ¥è¯¢çš„åˆ—æœªè¢«ç´¢å¼•è¦†ç›–ï¼Œç­›é€‰æ¡ä»¶å¹¶ä¸æ˜¯ç´¢å¼•çš„å‰å¯¼åˆ—ã€‚</li></ul></li></ol><p>ä»ä¸Šé¢çš„æ‰§è¡Œè®¡åˆ’å¯ä»¥çœ‹å‡ºï¼Œå½“æˆ‘ä»¬é€šè¿‡å­¦ç”Ÿåå­—æŸ¥è¯¢å­¦ç”Ÿæ—¶å®é™…ä¸Šæ˜¯è¿›è¡Œäº†å…¨è¡¨æ‰«æï¼Œä¸è¨€è€Œå–»è¿™ä¸ªæŸ¥è¯¢æ€§èƒ½è‚¯å®šæ˜¯éå¸¸ç³Ÿç³•çš„ï¼Œå°¤å…¶æ˜¯åœ¨è¡¨ä¸­çš„è¡Œå¾ˆå¤šçš„æ—¶å€™ã€‚å¦‚æœæˆ‘ä»¬éœ€è¦ç»å¸¸é€šè¿‡å­¦ç”Ÿå§“åæ¥æŸ¥è¯¢å­¦ç”Ÿï¼Œé‚£ä¹ˆå°±åº”è¯¥åœ¨å­¦ç”Ÿå§“åå¯¹åº”çš„åˆ—ä¸Šåˆ›å»ºç´¢å¼•ï¼Œé€šè¿‡ç´¢å¼•æ¥åŠ é€ŸæŸ¥è¯¢ã€‚</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=k>create</span><span class=w> </span><span class=k>index</span><span class=w> </span><span class=n>idx_student_name</span><span class=w> </span><span class=k>on</span><span class=w> </span><span class=n>tb_student</span><span class=p>(</span><span class=n>stuname</span><span class=p>);</span><span class=w>
</span></code></pre></td></tr></table></div></div></div><p>å†æ¬¡æŸ¥çœ‹åˆšæ‰çš„SQLå¯¹åº”çš„æ‰§è¡Œè®¡åˆ’ã€‚</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=k>explain</span><span class=w> </span><span class=k>select</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>tb_student</span><span class=w> </span><span class=k>where</span><span class=w> </span><span class=n>stuname</span><span class=o>=</span><span class=s1>&#39;æ—éœ‡å—&#39;</span><span class=err>\</span><span class=k>G</span><span class=w>
</span></code></pre></td></tr></table></div></div></div><pre tabindex=0><code>*************************** 1. row ***************************
           id: 1
  select_type: SIMPLE
        table: tb_student
   partitions: NULL
         type: ref
possible_keys: idx_student_name
          key: idx_student_name
      key_len: 62
          ref: const
         rows: 1
     filtered: 100.00
        Extra: NULL
1 row in set, 1 warning (0.00 sec)
</code></pre><p>å¯ä»¥æ³¨æ„åˆ°ï¼Œåœ¨å¯¹å­¦ç”Ÿå§“ååˆ›å»ºç´¢å¼•åï¼Œåˆšæ‰çš„æŸ¥è¯¢å·²ç»ä¸æ˜¯å…¨è¡¨æ‰«æè€Œæ˜¯åŸºäºç´¢å¼•çš„æŸ¥è¯¢ï¼Œè€Œä¸”æ‰«æçš„è¡Œåªæœ‰å”¯ä¸€çš„ä¸€è¡Œï¼Œè¿™æ˜¾ç„¶å¤§å¤§çš„æå‡äº†æŸ¥è¯¢çš„æ€§èƒ½ã€‚MySQLä¸­è¿˜å…è®¸åˆ›å»ºå‰ç¼€ç´¢å¼•ï¼Œå³å¯¹ç´¢å¼•å­—æ®µçš„å‰Nä¸ªå­—ç¬¦åˆ›å»ºç´¢å¼•ï¼Œè¿™æ ·çš„è¯å¯ä»¥å‡å°‘ç´¢å¼•å ç”¨çš„ç©ºé—´ï¼ˆä½†èŠ‚çœäº†ç©ºé—´å¾ˆæœ‰å¯èƒ½ä¼šæµªè´¹æ—¶é—´ï¼Œ<strong>æ—¶é—´å’Œç©ºé—´æ˜¯ä¸å¯è°ƒå’Œçš„çŸ›ç›¾</strong>ï¼‰ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=k>create</span><span class=w> </span><span class=k>index</span><span class=w> </span><span class=n>idx_student_name_1</span><span class=w> </span><span class=k>on</span><span class=w> </span><span class=n>tb_student</span><span class=p>(</span><span class=n>stuname</span><span class=p>(</span><span class=mi>1</span><span class=p>));</span><span class=w>
</span></code></pre></td></tr></table></div></div></div><p>ä¸Šé¢çš„ç´¢å¼•ç›¸å½“äºæ˜¯æ ¹æ®å­¦ç”Ÿå§“åçš„ç¬¬ä¸€ä¸ªå­—æ¥åˆ›å»ºçš„ç´¢å¼•ï¼Œæˆ‘ä»¬å†çœ‹çœ‹SQLæ‰§è¡Œè®¡åˆ’ã€‚</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=k>explain</span><span class=w> </span><span class=k>select</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>tb_student</span><span class=w> </span><span class=k>where</span><span class=w> </span><span class=n>stuname</span><span class=o>=</span><span class=s1>&#39;æ—éœ‡å—&#39;</span><span class=err>\</span><span class=k>G</span><span class=w>
</span></code></pre></td></tr></table></div></div></div><pre tabindex=0><code>*************************** 1. row ***************************
           id: 1
  select_type: SIMPLE
        table: tb_student
   partitions: NULL
         type: ref
possible_keys: idx_student_name
          key: idx_student_name
      key_len: 5
          ref: const
         rows: 2
     filtered: 100.00
        Extra: Using where
1 row in set, 1 warning (0.00 sec)
</code></pre><p>ä¸çŸ¥é“å¤§å®¶æ˜¯å¦æ³¨æ„åˆ°ï¼Œè¿™ä¸€æ¬¡æ‰«æçš„è¡Œå˜æˆäº†2è¡Œï¼Œå› ä¸ºå­¦ç”Ÿè¡¨ä¸­æœ‰ä¸¤ä¸ªå§“â€œæ—â€çš„å­¦ç”Ÿï¼Œæˆ‘ä»¬åªç”¨å§“åçš„ç¬¬ä¸€ä¸ªå­—ä½œä¸ºç´¢å¼•çš„è¯ï¼Œåœ¨æŸ¥è¯¢æ—¶é€šè¿‡ç´¢å¼•å°±ä¼šæ‰¾åˆ°è¿™ä¸¤è¡Œã€‚</p><p>å¦‚æœè¦åˆ é™¤ç´¢å¼•ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„SQLã€‚</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=k>alter</span><span class=w> </span><span class=k>table</span><span class=w> </span><span class=n>tb_student</span><span class=w> </span><span class=k>drop</span><span class=w> </span><span class=k>index</span><span class=w> </span><span class=n>idx_student_name</span><span class=p>;</span><span class=w>
</span></code></pre></td></tr></table></div></div></div><p>æˆ–è€…</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=k>drop</span><span class=w> </span><span class=k>index</span><span class=w> </span><span class=n>idx_student_name</span><span class=w> </span><span class=k>on</span><span class=w> </span><span class=n>tb_student</span><span class=p>;</span><span class=w>
</span></code></pre></td></tr></table></div></div></div><p>æˆ‘ä»¬ç®€å•çš„ä¸ºå¤§å®¶æ€»ç»“ä¸€ä¸‹ç´¢å¼•çš„è®¾è®¡åŸåˆ™ï¼š</p><ol><li><strong>æœ€é€‚åˆ</strong>ç´¢å¼•çš„åˆ—æ˜¯å‡ºç°åœ¨<strong>WHEREå­å¥</strong>å’Œè¿æ¥å­å¥ä¸­çš„åˆ—ã€‚</li><li>ç´¢å¼•åˆ—çš„åŸºæ•°è¶Šå¤§ï¼ˆå–å€¼å¤šé‡å¤å€¼å°‘ï¼‰ï¼Œç´¢å¼•çš„æ•ˆæœå°±è¶Šå¥½ã€‚</li><li>ä½¿ç”¨<strong>å‰ç¼€ç´¢å¼•</strong>å¯ä»¥å‡å°‘ç´¢å¼•å ç”¨çš„ç©ºé—´ï¼Œå†…å­˜ä¸­å¯ä»¥ç¼“å­˜æ›´å¤šçš„ç´¢å¼•ã€‚</li><li><strong>ç´¢å¼•ä¸æ˜¯è¶Šå¤šè¶Šå¥½</strong>ï¼Œè™½ç„¶ç´¢å¼•åŠ é€Ÿäº†è¯»æ“ä½œï¼ˆæŸ¥è¯¢ï¼‰ï¼Œä½†æ˜¯å†™æ“ä½œï¼ˆå¢ã€åˆ ã€æ”¹ï¼‰éƒ½ä¼šå˜å¾—æ›´æ…¢ï¼Œå› ä¸ºæ•°æ®çš„å˜åŒ–ä¼šå¯¼è‡´ç´¢å¼•çš„æ›´æ–°ï¼Œå°±å¦‚åŒä¹¦ç±ç« èŠ‚çš„å¢åˆ éœ€è¦æ›´æ–°ç›®å½•ä¸€æ ·ã€‚</li><li>ä½¿ç”¨InnoDBå­˜å‚¨å¼•æ“æ—¶ï¼Œè¡¨çš„æ™®é€šç´¢å¼•éƒ½ä¼šä¿å­˜ä¸»é”®çš„å€¼ï¼Œæ‰€ä»¥<strong>ä¸»é”®è¦å°½å¯èƒ½é€‰æ‹©è¾ƒçŸ­çš„æ•°æ®ç±»å‹</strong>ï¼Œè¿™æ ·å¯ä»¥æœ‰æ•ˆçš„å‡å°‘ç´¢å¼•å ç”¨çš„ç©ºé—´ï¼Œåˆ©ç”¨æå‡ç´¢å¼•çš„ç¼“å­˜æ•ˆæœã€‚</li></ol><p>æœ€åï¼Œè¿˜æœ‰ä¸€ç‚¹éœ€è¦è¯´æ˜ï¼ŒInnoDBä½¿ç”¨çš„B-treeç´¢å¼•ï¼Œæ•°å€¼ç±»å‹çš„åˆ—é™¤äº†ç­‰å€¼åˆ¤æ–­æ—¶ç´¢å¼•ä¼šç”Ÿæ•ˆä¹‹å¤–ï¼Œä½¿ç”¨>ã€&lt;ã€>=ã€&lt;=ã€BETWEEN...AND... ã€&lt;>æ—¶ï¼Œç´¢å¼•ä»ç„¶ç”Ÿæ•ˆï¼›å¯¹äºå­—ç¬¦ä¸²ç±»å‹çš„åˆ—ï¼Œå¦‚æœä½¿ç”¨ä¸ä»¥é€šé…ç¬¦å¼€å¤´çš„æ¨¡ç³ŠæŸ¥è¯¢ï¼Œç´¢å¼•ä¹Ÿæ˜¯èµ·ä½œç”¨çš„ï¼Œä½†æ˜¯å…¶ä»–çš„æƒ…å†µä¼šå¯¼è‡´ç´¢å¼•å¤±æ•ˆï¼Œè¿™å°±æ„å‘³ç€å¾ˆæœ‰å¯èƒ½ä¼šåšå…¨è¡¨æŸ¥è¯¢ã€‚</p><h3 id=è§†å›¾><a href=#è§†å›¾ class=anchor-link>#</a>è§†å›¾</h3><p>è§†å›¾æ˜¯å…³ç³»å‹æ•°æ®åº“ä¸­å°†ä¸€ç»„æŸ¥è¯¢æŒ‡ä»¤æ„æˆçš„ç»“æœé›†ç»„åˆæˆå¯æŸ¥è¯¢çš„æ•°æ®è¡¨çš„å¯¹è±¡ã€‚ç®€å•çš„è¯´ï¼Œè§†å›¾å°±æ˜¯è™šæ‹Ÿçš„è¡¨ï¼Œä½†ä¸æ•°æ®è¡¨ä¸åŒçš„æ˜¯ï¼Œæ•°æ®è¡¨æ˜¯ä¸€ç§å®ä½“ç»“æ„ï¼Œè€Œè§†å›¾æ˜¯ä¸€ç§è™šæ‹Ÿç»“æ„ï¼Œä½ ä¹Ÿå¯ä»¥å°†è§†å›¾ç†è§£ä¸ºä¿å­˜åœ¨æ•°æ®åº“ä¸­è¢«èµ‹äºˆåå­—çš„SQLè¯­å¥ã€‚</p><p>ä½¿ç”¨è§†å›¾å¯ä»¥è·å¾—ä»¥ä¸‹å¥½å¤„ï¼š</p><ol><li>å¯ä»¥å°†å®ä½“æ•°æ®è¡¨éšè—èµ·æ¥ï¼Œè®©å¤–éƒ¨ç¨‹åºæ— æ³•å¾—çŸ¥å®é™…çš„æ•°æ®ç»“æ„ï¼Œè®©è®¿é—®è€…å¯ä»¥ä½¿ç”¨è¡¨çš„ç»„æˆéƒ¨åˆ†è€Œä¸æ˜¯æ•´ä¸ªè¡¨ï¼Œé™ä½æ•°æ®åº“è¢«æ”»å‡»çš„é£é™©ã€‚</li><li>åœ¨å¤§å¤šæ•°çš„æƒ…å†µä¸‹è§†å›¾æ˜¯åªè¯»çš„ï¼ˆæ›´æ–°è§†å›¾çš„æ“ä½œé€šå¸¸éƒ½æœ‰è¯¸å¤šçš„é™åˆ¶ï¼‰ï¼Œå¤–éƒ¨ç¨‹åºæ— æ³•ç›´æ¥é€è¿‡è§†å›¾ä¿®æ”¹æ•°æ®ã€‚</li><li>é‡ç”¨SQLè¯­å¥ï¼Œå°†é«˜åº¦å¤æ‚çš„æŸ¥è¯¢åŒ…è£…åœ¨è§†å›¾è¡¨ä¸­ï¼Œç›´æ¥è®¿é—®è¯¥è§†å›¾å³å¯å–å‡ºéœ€è¦çš„æ•°æ®ï¼›ä¹Ÿå¯ä»¥å°†è§†å›¾è§†ä¸ºæ•°æ®è¡¨è¿›è¡Œè¿æ¥æŸ¥è¯¢ã€‚</li><li>è§†å›¾å¯ä»¥è¿”å›ä¸å®ä½“æ•°æ®è¡¨ä¸åŒæ ¼å¼çš„æ•°æ®ï¼Œ</li></ol><p>åˆ›å»ºè§†å›¾ã€‚</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=k>create</span><span class=w> </span><span class=k>view</span><span class=w> </span><span class=n>vw_avg_score</span><span class=w> 
</span><span class=w></span><span class=k>as</span><span class=w> 
</span><span class=w>    </span><span class=k>select</span><span class=w> </span><span class=n>sid</span><span class=p>,</span><span class=w> </span><span class=n>round</span><span class=p>(</span><span class=k>avg</span><span class=p>(</span><span class=n>score</span><span class=p>),</span><span class=w> </span><span class=mi>1</span><span class=p>)</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=n>avgscore</span><span class=w> 
</span><span class=w>    </span><span class=k>from</span><span class=w> </span><span class=n>tb_record</span><span class=w> </span><span class=k>group</span><span class=w> </span><span class=k>by</span><span class=w> </span><span class=n>sid</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=k>create</span><span class=w> </span><span class=k>view</span><span class=w> </span><span class=n>vw_student_score</span><span class=w> 
</span><span class=w></span><span class=k>as</span><span class=w> 
</span><span class=w>    </span><span class=k>select</span><span class=w> </span><span class=n>stuname</span><span class=p>,</span><span class=w> </span><span class=n>avgscore</span><span class=w> 
</span><span class=w>    </span><span class=k>from</span><span class=w> </span><span class=n>tb_student</span><span class=p>,</span><span class=w> </span><span class=n>vw_avg_score</span><span class=w> 
</span><span class=w>    </span><span class=k>where</span><span class=w> </span><span class=n>stuid</span><span class=o>=</span><span class=n>sid</span><span class=p>;</span><span class=w>
</span></code></pre></td></tr></table></div></div></div><blockquote><p><strong>æç¤º</strong>ï¼šå› ä¸ºè§†å›¾ä¸åŒ…å«æ•°æ®ï¼Œæ‰€ä»¥æ¯æ¬¡ä½¿ç”¨è§†å›¾æ—¶ï¼Œéƒ½å¿…é¡»æ‰§è¡ŒæŸ¥è¯¢ä»¥è·å¾—æ•°æ®ï¼Œå¦‚æœä½ ä½¿ç”¨äº†è¿æ¥æŸ¥è¯¢ã€åµŒå¥—æŸ¥è¯¢åˆ›å»ºäº†è¾ƒä¸ºå¤æ‚çš„è§†å›¾ï¼Œä½ å¯èƒ½ä¼šå‘ç°æŸ¥è¯¢æ€§èƒ½ä¸‹é™å¾—å¾ˆå‰å®³ã€‚å› æ­¤ï¼Œåœ¨ä½¿ç”¨å¤æ‚çš„è§†å›¾å‰ï¼Œåº”è¯¥è¿›è¡Œæµ‹è¯•ä»¥ç¡®ä¿å…¶æ€§èƒ½èƒ½å¤Ÿæ»¡è¶³åº”ç”¨çš„éœ€æ±‚ã€‚</p></blockquote><p>ä½¿ç”¨è§†å›¾ã€‚</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=k>select</span><span class=w> </span><span class=n>stuname</span><span class=p>,</span><span class=w> </span><span class=n>avgscore</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>vw_student_score</span><span class=w> </span><span class=k>order</span><span class=w> </span><span class=k>by</span><span class=w> </span><span class=n>avgscore</span><span class=w> </span><span class=k>desc</span><span class=p>;</span><span class=w>
</span></code></pre></td></tr></table></div></div></div><pre tabindex=0><code>+--------------+----------+
| stuname      | avgscore |
+--------------+----------+
| æ¨è¿‡         |     95.6 |
| ä»»æˆ‘è¡Œ       |     53.5 |
| ç‹è¯­å«£       |     84.3 |
| çºªå«£ç„¶       |     73.8 |
| å²³ä¸ç¾¤       |     78.0 |
| ä¸œæ–¹ä¸è´¥     |     88.0 |
| é¡¹å°‘é¾™       |     92.0 |
+--------------+----------+
</code></pre><p>æ—¢ç„¶è§†å›¾æ˜¯ä¸€å¼ è™šæ‹Ÿçš„è¡¨ï¼Œé‚£ä¹ˆè§†å›¾çš„ä¸­çš„æ•°æ®å¯ä»¥æ›´æ–°å—ï¼Ÿè§†å›¾çš„å¯æ›´æ–°æ€§è¦è§†å…·ä½“æƒ…å†µè€Œå®šï¼Œä»¥ä¸‹ç±»å‹çš„è§†å›¾æ˜¯ä¸èƒ½æ›´æ–°çš„ï¼š</p><ol><li>ä½¿ç”¨äº†èšåˆå‡½æ•°ï¼ˆSUMã€MINã€MAXã€AVGã€COUNTç­‰ï¼‰ã€DISTINCTã€GROUP BYã€HAVINGã€UNIONæˆ–è€…UNION ALLçš„è§†å›¾ã€‚</li><li>SELECTä¸­åŒ…å«äº†å­æŸ¥è¯¢çš„è§†å›¾ã€‚</li><li>FROMå­å¥ä¸­åŒ…å«äº†ä¸€ä¸ªä¸èƒ½æ›´æ–°çš„è§†å›¾çš„è§†å›¾ã€‚</li><li>WHEREå­å¥çš„å­æŸ¥è¯¢å¼•ç”¨äº†FROMå­å¥ä¸­çš„è¡¨çš„è§†å›¾ã€‚</li></ol><p>åˆ é™¤è§†å›¾ã€‚</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=k>drop</span><span class=w> </span><span class=k>view</span><span class=w> </span><span class=n>vw_student_score</span><span class=p>;</span><span class=w>
</span></code></pre></td></tr></table></div></div></div><blockquote><p><strong>è¯´æ˜</strong>ï¼šå¦‚æœå¸Œæœ›æ›´æ–°è§†å›¾ï¼Œå¯ä»¥å…ˆç”¨ä¸Šé¢çš„å‘½ä»¤åˆ é™¤è§†å›¾ï¼Œä¹Ÿå¯ä»¥é€šè¿‡<code>create or replace view</code>æ¥æ›´æ–°è§†å›¾ã€‚</p></blockquote><p>è§†å›¾çš„è§„åˆ™å’Œé™åˆ¶ã€‚</p><ol><li>è§†å›¾å¯ä»¥åµŒå¥—ï¼Œå¯ä»¥åˆ©ç”¨ä»å…¶ä»–è§†å›¾ä¸­æ£€ç´¢çš„æ•°æ®æ¥æ„é€ ä¸€ä¸ªæ–°çš„è§†å›¾ã€‚è§†å›¾ä¹Ÿå¯ä»¥å’Œè¡¨ä¸€èµ·ä½¿ç”¨ã€‚</li><li>åˆ›å»ºè§†å›¾æ—¶å¯ä»¥ä½¿ç”¨<code>order by</code>å­å¥ï¼Œä½†å¦‚æœä»è§†å›¾ä¸­æ£€ç´¢æ•°æ®æ—¶ä¹Ÿä½¿ç”¨äº†<code>order by</code>ï¼Œé‚£ä¹ˆè¯¥è§†å›¾ä¸­åŸå…ˆçš„<code>order by</code>ä¼šè¢«è¦†ç›–ã€‚</li><li>è§†å›¾æ— æ³•ä½¿ç”¨ç´¢å¼•ï¼Œä¹Ÿä¸ä¼šæ¿€å‘è§¦å‘å™¨ï¼ˆå®é™…å¼€å‘ä¸­å› ä¸ºæ€§èƒ½ç­‰å„æ–¹é¢çš„è€ƒè™‘ï¼Œé€šå¸¸ä¸å»ºè®®ä½¿ç”¨è§¦å‘å™¨ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¹Ÿä¸å¯¹è¿™ä¸ªæ¦‚å¿µè¿›è¡Œä»‹ç»ï¼‰çš„æ‰§è¡Œã€‚</li></ol><h3 id=è¿‡ç¨‹><a href=#è¿‡ç¨‹ class=anchor-link>#</a>è¿‡ç¨‹</h3><p>è¿‡ç¨‹ï¼ˆåˆç§°å­˜å‚¨è¿‡ç¨‹ï¼‰æ˜¯äº‹å…ˆç¼–è¯‘å¥½å­˜å‚¨åœ¨æ•°æ®åº“ä¸­çš„ä¸€ç»„SQLçš„é›†åˆï¼Œè°ƒç”¨è¿‡ç¨‹å¯ä»¥ç®€åŒ–åº”ç”¨ç¨‹åºå¼€å‘äººå‘˜çš„å·¥ä½œï¼Œå‡å°‘ä¸æ•°æ®åº“æœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡ï¼Œå¯¹äºæå‡æ•°æ®æ“ä½œçš„æ€§èƒ½ä¹Ÿæ˜¯æœ‰å¸®åŠ©çš„ã€‚å…¶å®è¿„ä»Šä¸ºæ­¢ï¼Œæˆ‘ä»¬ä½¿ç”¨çš„SQLè¯­å¥éƒ½æ˜¯é’ˆå¯¹ä¸€ä¸ªæˆ–å¤šä¸ªè¡¨çš„å•æ¡è¯­å¥ï¼Œä½†åœ¨å®é™…å¼€å‘ä¸­ç»å¸¸ä¼šé‡åˆ°æŸä¸ªæ“ä½œéœ€è¦å¤šæ¡SQLè¯­å¥æ‰èƒ½å®Œæˆçš„æƒ…å†µã€‚ä¾‹å¦‚ï¼Œç”µå•†ç½‘ç«™åœ¨å—ç†ç”¨æˆ·è®¢å•æ—¶ï¼Œéœ€è¦åšä»¥ä¸‹ä¸€ç³»åˆ—çš„å¤„ç†ã€‚</p><ol><li>é€šè¿‡æŸ¥è¯¢æ¥æ ¸å¯¹åº“å­˜ä¸­æ˜¯å¦æœ‰å¯¹åº”çš„ç‰©å“ä»¥åŠåº“å­˜æ˜¯å¦å……è¶³ã€‚</li><li>å¦‚æœåº“å­˜æœ‰ç‰©å“ï¼Œéœ€è¦é”å®šåº“å­˜ä»¥ç¡®ä¿è¿™äº›ç‰©å“ä¸å†å–ç»™åˆ«äººï¼Œ å¹¶ä¸”è¦å‡å°‘å¯ç”¨çš„ç‰©å“æ•°é‡ä»¥åæ˜ æ­£ç¡®çš„åº“å­˜é‡ã€‚</li><li>å¦‚æœåº“å­˜ä¸è¶³ï¼Œå¯èƒ½éœ€è¦è¿›ä¸€æ­¥ä¸ä¾›åº”å•†è¿›è¡Œäº¤äº’æˆ–è€…è‡³å°‘äº§ç”Ÿä¸€æ¡ç³»ç»Ÿæç¤ºæ¶ˆæ¯ã€‚</li><li>ä¸ç®¡å—ç†è®¢å•æ˜¯å¦æˆåŠŸï¼Œéƒ½éœ€è¦äº§ç”Ÿæµæ°´è®°å½•ï¼Œè€Œä¸”éœ€è¦ç»™å¯¹åº”çš„ç”¨æˆ·äº§ç”Ÿä¸€æ¡é€šçŸ¥ä¿¡æ¯ã€‚</li></ol><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡è¿‡ç¨‹å°†å¤æ‚çš„æ“ä½œå°è£…èµ·æ¥ï¼Œè¿™æ ·ä¸ä»…æœ‰åŠ©äºä¿è¯æ•°æ®çš„ä¸€è‡´æ€§ï¼Œè€Œä¸”å°†æ¥å¦‚æœä¸šåŠ¡å‘ç”Ÿäº†å˜åŠ¨ï¼Œåªéœ€è¦è°ƒæ•´å’Œä¿®æ”¹è¿‡ç¨‹å³å¯ã€‚å¯¹äºè°ƒç”¨è¿‡ç¨‹çš„ç”¨æˆ·æ¥è¯´ï¼Œè¿‡ç¨‹å¹¶æ²¡æœ‰æš´éœ²æ•°æ®è¡¨çš„ç»†èŠ‚ï¼Œè€Œä¸”æ‰§è¡Œè¿‡ç¨‹æ¯”ä¸€æ¡æ¡çš„æ‰§è¡Œä¸€ç»„SQLè¦å¿«å¾—å¤šã€‚</p><p>ä¸‹é¢çš„è¿‡ç¨‹å®ç°äº†æŸ¥è¯¢æŸé—¨è¯¾ç¨‹çš„æœ€é«˜åˆ†ã€æœ€ä½åˆ†å’Œå¹³å‡åˆ†ã€‚</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=k>drop</span><span class=w> </span><span class=k>procedure</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=k>exists</span><span class=w> </span><span class=n>sp_score_by_cid</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=k>delimiter</span><span class=w> </span><span class=err>$$</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=k>create</span><span class=w> </span><span class=k>procedure</span><span class=w> </span><span class=n>sp_score_by_cid</span><span class=p>(</span><span class=w>
</span><span class=w>	</span><span class=n>courseId</span><span class=w> </span><span class=nb>int</span><span class=p>,</span><span class=w> 
</span><span class=w>	</span><span class=k>out</span><span class=w> </span><span class=n>maxScore</span><span class=w> </span><span class=nb>decimal</span><span class=p>(</span><span class=mi>4</span><span class=p>,</span><span class=mi>1</span><span class=p>),</span><span class=w> 
</span><span class=w>	</span><span class=k>out</span><span class=w> </span><span class=n>minScore</span><span class=w> </span><span class=nb>decimal</span><span class=p>(</span><span class=mi>4</span><span class=p>,</span><span class=mi>1</span><span class=p>),</span><span class=w>
</span><span class=w>	</span><span class=k>out</span><span class=w> </span><span class=n>avgScore</span><span class=w> </span><span class=nb>decimal</span><span class=p>(</span><span class=mi>4</span><span class=p>,</span><span class=mi>1</span><span class=p>)</span><span class=w>
</span><span class=w></span><span class=p>)</span><span class=w>
</span><span class=w></span><span class=k>begin</span><span class=w>
</span><span class=w>	</span><span class=k>select</span><span class=w> </span><span class=k>max</span><span class=p>(</span><span class=n>score</span><span class=p>)</span><span class=w> </span><span class=k>into</span><span class=w> </span><span class=n>maxScore</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>tb_record</span><span class=w> 
</span><span class=w>		</span><span class=k>where</span><span class=w> </span><span class=n>cid</span><span class=o>=</span><span class=n>courseId</span><span class=p>;</span><span class=w>
</span><span class=w>	</span><span class=k>select</span><span class=w> </span><span class=k>min</span><span class=p>(</span><span class=n>score</span><span class=p>)</span><span class=w> </span><span class=k>into</span><span class=w> </span><span class=n>minScore</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>tb_record</span><span class=w> 
</span><span class=w>		</span><span class=k>where</span><span class=w> </span><span class=n>cid</span><span class=o>=</span><span class=n>courseId</span><span class=p>;</span><span class=w>
</span><span class=w>	</span><span class=k>select</span><span class=w> </span><span class=k>avg</span><span class=p>(</span><span class=n>score</span><span class=p>)</span><span class=w> </span><span class=k>into</span><span class=w> </span><span class=n>avgScore</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>tb_record</span><span class=w> 
</span><span class=w>		</span><span class=k>where</span><span class=w> </span><span class=n>cid</span><span class=o>=</span><span class=n>courseId</span><span class=p>;</span><span class=w>
</span><span class=w></span><span class=k>end</span><span class=w> </span><span class=err>$$</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=k>delimiter</span><span class=w> </span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=k>call</span><span class=w> </span><span class=n>sp_score_by_cid</span><span class=p>(</span><span class=mi>1111</span><span class=p>,</span><span class=w> </span><span class=o>@</span><span class=n>a</span><span class=p>,</span><span class=w> </span><span class=o>@</span><span class=n>b</span><span class=p>,</span><span class=w> </span><span class=o>@</span><span class=k>c</span><span class=p>);</span><span class=w>
</span><span class=w></span><span class=k>select</span><span class=w> </span><span class=o>@</span><span class=n>a</span><span class=p>,</span><span class=w> </span><span class=o>@</span><span class=n>b</span><span class=p>,</span><span class=w> </span><span class=o>@</span><span class=k>c</span><span class=p>;</span><span class=w>
</span></code></pre></td></tr></table></div></div></div><blockquote><p><strong>è¯´æ˜</strong>ï¼šåœ¨å®šä¹‰è¿‡ç¨‹æ—¶ï¼Œå› ä¸ºå¯èƒ½éœ€è¦ä¹¦å†™å¤šæ¡SQLï¼Œè€Œåˆ†éš”è¿™äº›SQLéœ€è¦ä½¿ç”¨åˆ†å·ä½œä¸ºåˆ†éš”ç¬¦ï¼Œå¦‚æœè¿™ä¸ªæ—¶å€™ï¼Œä»ç„¶ç”¨åˆ†å·è¡¨ç¤ºæ•´æ®µä»£ç ç»“æŸï¼Œé‚£ä¹ˆå®šä¹‰è¿‡ç¨‹çš„SQLå°±ä¼šå‡ºç°é”™è¯¯ï¼Œæ‰€ä»¥ä¸Šé¢æˆ‘ä»¬ç”¨<code>delimiter $$</code>å°†æ•´æ®µä»£ç ç»“æŸçš„æ ‡è®°å®šä¹‰ä¸º<code>$$</code>ï¼Œé‚£ä¹ˆä»£ç ä¸­çš„åˆ†å·å°†ä¸å†è¡¨ç¤ºæ•´æ®µä»£ç çš„ç»“æŸï¼Œæ•´æ®µä»£ç åªä¼šåœ¨é‡åˆ°<code>end $$</code>æ—¶æ‰ä¼šæ‰§è¡Œã€‚åœ¨å®šä¹‰å®Œè¿‡ç¨‹åï¼Œé€šè¿‡<code>delimiter ;</code>å°†ç»“æŸç¬¦é‡æ–°æ”¹å›æˆåˆ†å·ï¼ˆæ¢å¤ç°åœºï¼‰ã€‚</p></blockquote><p>ä¸Šé¢å®šä¹‰çš„è¿‡ç¨‹æœ‰å››ä¸ªå‚æ•°ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¾“å…¥å‚æ•°ï¼Œä»£è¡¨è¯¾ç¨‹çš„ç¼–å·ï¼Œåé¢çš„å‚æ•°éƒ½æ˜¯è¾“å‡ºå‚æ•°ï¼Œå› ä¸ºè¿‡ç¨‹ä¸èƒ½å®šä¹‰è¿”å›å€¼ï¼Œåªèƒ½é€šè¿‡è¾“å‡ºå‚æ•°å°†æ‰§è¡Œç»“æœå¸¦å‡ºï¼Œå®šä¹‰è¾“å‡ºå‚æ•°çš„å…³é”®å­—æ˜¯<code>out</code>ï¼Œé»˜è®¤æƒ…å†µä¸‹å‚æ•°éƒ½æ˜¯è¾“å…¥å‚æ•°ã€‚</p><p>è°ƒç”¨è¿‡ç¨‹ã€‚</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=k>call</span><span class=w> </span><span class=n>sp_score_by_cid</span><span class=p>(</span><span class=mi>1111</span><span class=p>,</span><span class=w> </span><span class=o>@</span><span class=n>a</span><span class=p>,</span><span class=w> </span><span class=o>@</span><span class=n>b</span><span class=p>,</span><span class=w> </span><span class=o>@</span><span class=k>c</span><span class=p>);</span><span class=w>
</span></code></pre></td></tr></table></div></div></div><p>è·å–è¾“å‡ºå‚æ•°çš„å€¼ã€‚</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=k>select</span><span class=w> </span><span class=o>@</span><span class=n>a</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=err>æœ€é«˜åˆ†</span><span class=p>,</span><span class=w> </span><span class=o>@</span><span class=n>b</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=err>æœ€ä½åˆ†</span><span class=p>,</span><span class=w> </span><span class=o>@</span><span class=k>c</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=err>å¹³å‡åˆ†</span><span class=p>;</span><span class=w>
</span></code></pre></td></tr></table></div></div></div><p>åˆ é™¤è¿‡ç¨‹ã€‚</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=k>drop</span><span class=w> </span><span class=k>procedure</span><span class=w> </span><span class=n>sp_score_by_cid</span><span class=p>;</span><span class=w>
</span></code></pre></td></tr></table></div></div></div><p>åœ¨è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰å˜é‡ã€æ¡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨åˆ†æ”¯å’Œå¾ªç¯è¯­å¥ï¼Œå¯ä»¥é€šè¿‡æ¸¸æ ‡æ“ä½œæŸ¥è¯¢ç»“æœï¼Œè¿˜å¯ä»¥ä½¿ç”¨äº‹ä»¶è°ƒåº¦å™¨ï¼Œè¿™äº›å†…å®¹æˆ‘ä»¬æš‚æ—¶ä¸åœ¨æ­¤å¤„è¿›è¡Œä»‹ç»ã€‚è™½ç„¶æˆ‘ä»¬è¯´äº†å¾ˆå¤šè¿‡ç¨‹çš„å¥½å¤„ï¼Œä½†æ˜¯åœ¨å®é™…å¼€å‘ä¸­ï¼Œå¦‚æœè¿‡åº¦çš„ä½¿ç”¨è¿‡ç¨‹å¹¶å°†å¤§é‡å¤æ‚çš„è¿ç®—æ”¾åˆ°è¿‡ç¨‹ä¸­ï¼Œå¿…ç„¶ä¼šå¯¼è‡´å ç”¨æ•°æ®åº“æœåŠ¡å™¨çš„CPUèµ„æºï¼Œé€ æˆæ•°æ®åº“æœåŠ¡å™¨æ‰¿å—å·¨å¤§çš„å‹åŠ›ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šå°†å¤æ‚çš„è¿ç®—å’Œå¤„ç†äº¤ç»™åº”ç”¨æœåŠ¡å™¨ï¼Œå› ä¸ºå¾ˆå®¹æ˜“éƒ¨ç½²å¤šå°åº”ç”¨æœåŠ¡å™¨æ¥åˆ†æ‘Šè¿™äº›å‹åŠ›ã€‚</p><h3 id=mysql8çª—å£å‡½æ•°><a href=#mysql8çª—å£å‡½æ•° class=anchor-link>#</a>MySQL8çª—å£å‡½æ•°</h3><p>MySQLä»8.0å¼€å§‹æ”¯æŒçª—å£å‡½æ•°ï¼Œå¤§å¤šæ•°å•†ä¸šæ•°æ®åº“å’Œä¸€äº›å¼€æºæ•°æ®åº“æ—©å·²æä¾›äº†å¯¹çª—å£å‡½æ•°çš„æ”¯æŒï¼Œæœ‰çš„ä¹Ÿå°†å…¶ç§°ä¹‹ä¸ºOLAPï¼ˆè”æœºåˆ†æå’Œå¤„ç†ï¼‰å‡½æ•°ï¼Œå¬åå­—å°±çŸ¥é“è·Ÿç»Ÿè®¡å’Œåˆ†æç›¸å…³ã€‚ä¸ºäº†å¸®åŠ©å¤§å®¶ç†è§£çª—å£å‡½æ•°ï¼Œæˆ‘ä»¬å…ˆè¯´è¯´çª—å£çš„æ¦‚å¿µã€‚</p><p>çª—å£å¯ä»¥ç†è§£ä¸ºè®°å½•çš„é›†åˆï¼Œçª—å£å‡½æ•°ä¹Ÿå°±æ˜¯åœ¨æ»¡è¶³æŸç§æ¡ä»¶çš„è®°å½•é›†åˆä¸Šæ‰§è¡Œçš„ç‰¹æ®Šå‡½æ•°ï¼Œå¯¹äºæ¯æ¡è®°å½•éƒ½è¦åœ¨æ­¤çª—å£å†…æ‰§è¡Œå‡½æ•°ã€‚çª—å£å‡½æ•°å’Œæˆ‘ä»¬ä¸Šé¢è®²åˆ°çš„èšåˆå‡½æ•°æ¯”è¾ƒå®¹æ˜“æ··æ·†ï¼ŒäºŒè€…çš„åŒºåˆ«ä¸»è¦åœ¨äºèšåˆå‡½æ•°æ˜¯å°†å¤šæ¡è®°å½•èšåˆä¸ºä¸€æ¡è®°å½•ï¼Œçª—å£å‡½æ•°æ˜¯æ¯æ¡è®°å½•éƒ½ä¼šæ‰§è¡Œï¼Œæ‰§è¡Œåè®°å½•æ¡æ•°ä¸ä¼šå˜ã€‚çª—å£å‡½æ•°ä¸ä»…ä»…æ˜¯å‡ ä¸ªå‡½æ•°ï¼Œå®ƒæ˜¯ä¸€å¥—å®Œæ•´çš„è¯­æ³•ï¼Œå‡½æ•°åªæ˜¯è¯¥è¯­æ³•çš„ä¸€éƒ¨åˆ†ï¼ŒåŸºæœ¬è¯­æ³•å¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=o>&lt;</span><span class=err>çª—å£å‡½æ•°</span><span class=o>&gt;</span><span class=w> </span><span class=n>over</span><span class=w> </span><span class=p>(</span><span class=n>partition</span><span class=w> </span><span class=k>by</span><span class=w> </span><span class=o>&lt;</span><span class=err>ç”¨äºåˆ†ç»„çš„åˆ—å</span><span class=o>&gt;</span><span class=w> </span><span class=k>order</span><span class=w> </span><span class=k>by</span><span class=w> </span><span class=o>&lt;</span><span class=err>ç”¨æˆ·æ’åºçš„åˆ—å</span><span class=o>&gt;</span><span class=p>)</span><span class=w>
</span></code></pre></td></tr></table></div></div></div><p>ä¸Šé¢è¯­æ³•ä¸­ï¼Œçª—å£å‡½æ•°çš„ä½ç½®å¯ä»¥æ”¾ä»¥ä¸‹ä¸¤ç§å‡½æ•°ï¼š</p><ol><li>ä¸“ç”¨çª—å£å‡½æ•°ï¼ŒåŒ…æ‹¬ï¼š<code>rank</code>ã€<code>dense_rank</code>å’Œ<code>row_number</code>ç­‰ã€‚</li><li>èšåˆå‡½æ•°ï¼ŒåŒ…æ‹¬ï¼š<code>sum</code>ã€<code>avg</code>ã€<code>max</code>ã€<code>min</code>å’Œ<code>count</code>ç­‰ã€‚</li></ol><blockquote><p><strong>å‚è€ƒé“¾æ¥</strong>ï¼š<a href=https://zhuanlan.zhihu.com/p/92654574 target=_blank rel=noopener>https://zhuanlan.zhihu.com/p/92654574</a>ã€‚</p></blockquote><h3 id=å…¶ä»–å†…å®¹><a href=#å…¶ä»–å†…å®¹ class=anchor-link>#</a>å…¶ä»–å†…å®¹</h3><h4 id=èŒƒå¼ç†è®º><a href=#èŒƒå¼ç†è®º class=anchor-link>#</a>èŒƒå¼ç†è®º</h4><p>èŒƒå¼ç†è®ºæ˜¯è®¾è®¡å…³ç³»å‹æ•°æ®åº“ä¸­äºŒç»´è¡¨çš„æŒ‡å¯¼æ€æƒ³ã€‚</p><ol><li>ç¬¬ä¸€èŒƒå¼ï¼šæ•°æ®è¡¨çš„æ¯ä¸ªåˆ—çš„å€¼åŸŸéƒ½æ˜¯ç”±åŸå­å€¼ç»„æˆçš„ï¼Œä¸èƒ½å¤Ÿå†åˆ†å‰²ã€‚</li><li>ç¬¬äºŒèŒƒå¼ï¼šæ•°æ®è¡¨é‡Œçš„æ‰€æœ‰æ•°æ®éƒ½è¦å’Œè¯¥æ•°æ®è¡¨çš„é”®ï¼ˆä¸»é”®ä¸å€™é€‰é”®ï¼‰æœ‰å®Œå…¨ä¾èµ–å…³ç³»ã€‚</li><li>ç¬¬ä¸‰èŒƒå¼ï¼šæ‰€æœ‰éé”®å±æ€§éƒ½åªå’Œå€™é€‰é”®æœ‰ç›¸å…³æ€§ï¼Œä¹Ÿå°±æ˜¯è¯´éé”®å±æ€§ä¹‹é—´åº”è¯¥æ˜¯ç‹¬ç«‹æ— å…³çš„ã€‚</li></ol><h4 id=æ•°æ®å®Œæ•´æ€§><a href=#æ•°æ®å®Œæ•´æ€§ class=anchor-link>#</a>æ•°æ®å®Œæ•´æ€§</h4><ol><li><p>å®ä½“å®Œæ•´æ€§ - æ¯ä¸ªå®ä½“éƒ½æ˜¯ç‹¬ä¸€æ— äºŒçš„</p><ul><li>ä¸»é”®ï¼ˆprimary keyï¼‰ / å”¯ä¸€çº¦æŸ / å”¯ä¸€ç´¢å¼•ï¼ˆuniqueï¼‰</li></ul></li><li><p>å¼•ç”¨å®Œæ•´æ€§ï¼ˆå‚ç…§å®Œæ•´æ€§ï¼‰- å…³ç³»ä¸­ä¸å…è®¸å¼•ç”¨ä¸å­˜åœ¨çš„å®ä½“</p><ul><li>å¤–é”®ï¼ˆforeign keyï¼‰</li></ul></li><li><p>åŸŸå®Œæ•´æ€§ - æ•°æ®æ˜¯æœ‰æ•ˆçš„</p><ul><li><p>æ•°æ®ç±»å‹åŠé•¿åº¦</p></li><li><p>éç©ºçº¦æŸï¼ˆnot nullï¼‰</p></li><li><p>é»˜è®¤å€¼çº¦æŸï¼ˆdefaultï¼‰</p></li><li><p>æ£€æŸ¥çº¦æŸï¼ˆcheckï¼‰</p><blockquote><p><strong>è¯´æ˜</strong>ï¼šåœ¨MySQLæ•°æ®åº“ä¸­ï¼Œæ£€æŸ¥çº¦æŸå¹¶ä¸èµ·ä½œç”¨ã€‚</p></blockquote></li></ul></li></ol><h4 id=æ•°æ®ä¸€è‡´æ€§><a href=#æ•°æ®ä¸€è‡´æ€§ class=anchor-link>#</a>æ•°æ®ä¸€è‡´æ€§</h4><ol><li><p>äº‹åŠ¡ï¼šä¸€ç³»åˆ—å¯¹æ•°æ®åº“è¿›è¡Œè¯»/å†™çš„æ“ä½œï¼Œè¿™äº›æ“ä½œè¦ä¹ˆå…¨éƒ½æˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ½å¤±è´¥ã€‚</p></li><li><p>äº‹åŠ¡çš„ACIDç‰¹æ€§</p><ul><li>åŸå­æ€§ï¼šäº‹åŠ¡ä½œä¸ºä¸€ä¸ªæ•´ä½“è¢«æ‰§è¡Œï¼ŒåŒ…å«åœ¨å…¶ä¸­çš„å¯¹æ•°æ®åº“çš„æ“ä½œè¦ä¹ˆå…¨éƒ¨è¢«æ‰§è¡Œï¼Œè¦ä¹ˆéƒ½ä¸æ‰§è¡Œ</li><li>ä¸€è‡´æ€§ï¼šäº‹åŠ¡åº”ç¡®ä¿æ•°æ®åº“çš„çŠ¶æ€ä»ä¸€ä¸ªä¸€è‡´çŠ¶æ€è½¬å˜ä¸ºå¦ä¸€ä¸ªä¸€è‡´çŠ¶æ€</li><li>éš”ç¦»æ€§ï¼šå¤šä¸ªäº‹åŠ¡å¹¶å‘æ‰§è¡Œæ—¶ï¼Œä¸€ä¸ªäº‹åŠ¡çš„æ‰§è¡Œä¸åº”å½±å“å…¶ä»–äº‹åŠ¡çš„æ‰§è¡Œ</li><li>æŒä¹…æ€§ï¼šå·²è¢«æäº¤çš„äº‹åŠ¡å¯¹æ•°æ®åº“çš„ä¿®æ”¹åº”è¯¥æ°¸ä¹…ä¿å­˜åœ¨æ•°æ®åº“ä¸­</li></ul></li><li><p>MySQLä¸­çš„äº‹åŠ¡æ“ä½œ</p><ul><li><p>å¼€å¯äº‹åŠ¡ç¯å¢ƒ</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=k>start</span><span class=w> </span><span class=k>transaction</span><span class=w>
</span></code></pre></td></tr></table></div></div></div><p>æˆ–</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=k>begin</span><span class=w>
</span></code></pre></td></tr></table></div></div></div></li><li><p>æäº¤äº‹åŠ¡</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=k>commit</span><span class=w>
</span></code></pre></td></tr></table></div></div></div></li><li><p>å›æ»šäº‹åŠ¡</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=k>rollback</span><span class=w>
</span></code></pre></td></tr></table></div></div></div></li></ul></li></ol><p>å¤§å®¶åº”è¯¥èƒ½å¤Ÿæƒ³åˆ°ï¼Œå…³äºMySQLçš„çŸ¥è¯†è‚¯å®šè¿œè¿œä¸æ­¢ä¸Šé¢åˆ—å‡ºçš„è¿™äº›ï¼Œæ¯”å¦‚MySQLçš„æ€§èƒ½ä¼˜åŒ–ã€ç®¡ç†å’Œç»´æŠ¤MySQLçš„ç›¸å…³å·¥å…·ã€MySQLæ•°æ®çš„å¤‡ä»½å’Œæ¢å¤ã€ç›‘æ§MySQLã€éƒ¨ç½²é«˜å¯ç”¨æ¶æ„ç­‰é—®é¢˜æˆ‘ä»¬åœ¨è¿™é‡Œéƒ½æ²¡æœ‰è¿›è¡Œè®¨è®ºã€‚å½“ç„¶ï¼Œè¿™äº›å†…å®¹ä¹Ÿéƒ½æ˜¯è·Ÿé¡¹ç›®å¼€å‘å¯†åˆ‡ç›¸å…³çš„ï¼Œæˆ‘ä»¬å°±ç•™åˆ°æœ‰éœ€è¦çš„æ—¶å€™å†è¿›è¡Œè®²è§£ã€‚</p><h3 id=pythonæ•°æ®åº“ç¼–ç¨‹><a href=#pythonæ•°æ®åº“ç¼–ç¨‹ class=anchor-link>#</a>Pythonæ•°æ®åº“ç¼–ç¨‹</h3><p>æˆ‘ä»¬ç”¨å¦‚ä¸‹æ‰€ç¤ºçš„æ•°æ®åº“æ¥æ¼”ç¤ºåœ¨Pythonä¸­å¦‚ä½•è®¿é—®MySQLæ•°æ®åº“ã€‚</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=k>drop</span><span class=w> </span><span class=k>database</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=k>exists</span><span class=w> </span><span class=n>hrs</span><span class=p>;</span><span class=w>
</span><span class=w></span><span class=k>create</span><span class=w> </span><span class=k>database</span><span class=w> </span><span class=n>hrs</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=n>charset</span><span class=w> </span><span class=n>utf8</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=n>use</span><span class=w> </span><span class=n>hrs</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=k>drop</span><span class=w> </span><span class=k>table</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=k>exists</span><span class=w> </span><span class=n>tb_emp</span><span class=p>;</span><span class=w>
</span><span class=w></span><span class=k>drop</span><span class=w> </span><span class=k>table</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=k>exists</span><span class=w> </span><span class=n>tb_dept</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=k>create</span><span class=w> </span><span class=k>table</span><span class=w> </span><span class=n>tb_dept</span><span class=w>
</span><span class=w></span><span class=p>(</span><span class=w>
</span><span class=w></span><span class=n>dno</span><span class=w>   </span><span class=nb>int</span><span class=w> </span><span class=k>not</span><span class=w> </span><span class=k>null</span><span class=w> </span><span class=k>comment</span><span class=w> </span><span class=s1>&#39;ç¼–å·&#39;</span><span class=p>,</span><span class=w>
</span><span class=w></span><span class=n>dname</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>10</span><span class=p>)</span><span class=w> </span><span class=k>not</span><span class=w> </span><span class=k>null</span><span class=w> </span><span class=k>comment</span><span class=w> </span><span class=s1>&#39;åç§°&#39;</span><span class=p>,</span><span class=w>
</span><span class=w></span><span class=n>dloc</span><span class=w>  </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=k>not</span><span class=w> </span><span class=k>null</span><span class=w> </span><span class=k>comment</span><span class=w> </span><span class=s1>&#39;æ‰€åœ¨åœ°&#39;</span><span class=p>,</span><span class=w>
</span><span class=w></span><span class=k>primary</span><span class=w> </span><span class=k>key</span><span class=w> </span><span class=p>(</span><span class=n>dno</span><span class=p>)</span><span class=w>
</span><span class=w></span><span class=p>);</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=k>insert</span><span class=w> </span><span class=k>into</span><span class=w> </span><span class=n>tb_dept</span><span class=w> </span><span class=k>values</span><span class=w> 
</span><span class=w>	</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;ä¼šè®¡éƒ¨&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;åŒ—äº¬&#39;</span><span class=p>),</span><span class=w>
</span><span class=w>	</span><span class=p>(</span><span class=mi>20</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;ç ”å‘éƒ¨&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;æˆéƒ½&#39;</span><span class=p>),</span><span class=w>
</span><span class=w>	</span><span class=p>(</span><span class=mi>30</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;é”€å”®éƒ¨&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;é‡åº†&#39;</span><span class=p>),</span><span class=w>
</span><span class=w>	</span><span class=p>(</span><span class=mi>40</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;è¿ç»´éƒ¨&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;æ·±åœ³&#39;</span><span class=p>);</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=k>create</span><span class=w> </span><span class=k>table</span><span class=w> </span><span class=n>tb_emp</span><span class=w>
</span><span class=w></span><span class=p>(</span><span class=w>
</span><span class=w></span><span class=n>eno</span><span class=w>   </span><span class=nb>int</span><span class=w> </span><span class=k>not</span><span class=w> </span><span class=k>null</span><span class=w> </span><span class=k>comment</span><span class=w> </span><span class=s1>&#39;å‘˜å·¥ç¼–å·&#39;</span><span class=p>,</span><span class=w>
</span><span class=w></span><span class=n>ename</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=k>not</span><span class=w> </span><span class=k>null</span><span class=w> </span><span class=k>comment</span><span class=w> </span><span class=s1>&#39;å‘˜å·¥å§“å&#39;</span><span class=p>,</span><span class=w>
</span><span class=w></span><span class=n>job</span><span class=w>   </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=k>not</span><span class=w> </span><span class=k>null</span><span class=w> </span><span class=k>comment</span><span class=w> </span><span class=s1>&#39;å‘˜å·¥èŒä½&#39;</span><span class=p>,</span><span class=w>
</span><span class=w></span><span class=n>mgr</span><span class=w>   </span><span class=nb>int</span><span class=w> </span><span class=k>comment</span><span class=w> </span><span class=s1>&#39;ä¸»ç®¡ç¼–å·&#39;</span><span class=p>,</span><span class=w>
</span><span class=w></span><span class=n>sal</span><span class=w>   </span><span class=nb>int</span><span class=w> </span><span class=k>not</span><span class=w> </span><span class=k>null</span><span class=w> </span><span class=k>comment</span><span class=w> </span><span class=s1>&#39;å‘˜å·¥æœˆè–ª&#39;</span><span class=p>,</span><span class=w>
</span><span class=w></span><span class=n>comm</span><span class=w>  </span><span class=nb>int</span><span class=w> </span><span class=k>comment</span><span class=w> </span><span class=s1>&#39;æ¯æœˆè¡¥è´´&#39;</span><span class=p>,</span><span class=w>
</span><span class=w></span><span class=n>dno</span><span class=w>   </span><span class=nb>int</span><span class=w> </span><span class=k>comment</span><span class=w> </span><span class=s1>&#39;æ‰€åœ¨éƒ¨é—¨ç¼–å·&#39;</span><span class=p>,</span><span class=w>
</span><span class=w></span><span class=k>primary</span><span class=w> </span><span class=k>key</span><span class=w> </span><span class=p>(</span><span class=n>eno</span><span class=p>)</span><span class=w>
</span><span class=w></span><span class=p>);</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=k>alter</span><span class=w> </span><span class=k>table</span><span class=w> </span><span class=n>tb_emp</span><span class=w> </span><span class=k>add</span><span class=w> </span><span class=k>constraint</span><span class=w> </span><span class=n>fk_emp_dno</span><span class=w> </span><span class=k>foreign</span><span class=w> </span><span class=k>key</span><span class=w> </span><span class=p>(</span><span class=n>dno</span><span class=p>)</span><span class=w> </span><span class=k>references</span><span class=w> </span><span class=n>tb_dept</span><span class=w> </span><span class=p>(</span><span class=n>dno</span><span class=p>);</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=k>insert</span><span class=w> </span><span class=k>into</span><span class=w> </span><span class=n>tb_emp</span><span class=w> </span><span class=k>values</span><span class=w> 
</span><span class=w>	</span><span class=p>(</span><span class=mi>7800</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;å¼ ä¸‰ä¸°&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;æ€»è£&#39;</span><span class=p>,</span><span class=w> </span><span class=k>null</span><span class=p>,</span><span class=w> </span><span class=mi>9000</span><span class=p>,</span><span class=w> </span><span class=mi>1200</span><span class=p>,</span><span class=w> </span><span class=mi>20</span><span class=p>),</span><span class=w>
</span><span class=w>	</span><span class=p>(</span><span class=mi>2056</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;ä¹”å³°&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;åˆ†æå¸ˆ&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>7800</span><span class=p>,</span><span class=w> </span><span class=mi>5000</span><span class=p>,</span><span class=w> </span><span class=mi>1500</span><span class=p>,</span><span class=w> </span><span class=mi>20</span><span class=p>),</span><span class=w>
</span><span class=w>	</span><span class=p>(</span><span class=mi>3088</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;æè«æ„&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;è®¾è®¡å¸ˆ&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>2056</span><span class=p>,</span><span class=w> </span><span class=mi>3500</span><span class=p>,</span><span class=w> </span><span class=mi>800</span><span class=p>,</span><span class=w> </span><span class=mi>20</span><span class=p>),</span><span class=w>
</span><span class=w>	</span><span class=p>(</span><span class=mi>3211</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;å¼ æ— å¿Œ&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;ç¨‹åºå‘˜&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>2056</span><span class=p>,</span><span class=w> </span><span class=mi>3200</span><span class=p>,</span><span class=w> </span><span class=k>null</span><span class=p>,</span><span class=w> </span><span class=mi>20</span><span class=p>),</span><span class=w>
</span><span class=w>	</span><span class=p>(</span><span class=mi>3233</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;ä¸˜å¤„æœº&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;ç¨‹åºå‘˜&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>2056</span><span class=p>,</span><span class=w> </span><span class=mi>3400</span><span class=p>,</span><span class=w> </span><span class=k>null</span><span class=p>,</span><span class=w> </span><span class=mi>20</span><span class=p>),</span><span class=w>
</span><span class=w>	</span><span class=p>(</span><span class=mi>3251</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;å¼ ç¿ å±±&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;ç¨‹åºå‘˜&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>2056</span><span class=p>,</span><span class=w> </span><span class=mi>4000</span><span class=p>,</span><span class=w> </span><span class=k>null</span><span class=p>,</span><span class=w> </span><span class=mi>20</span><span class=p>),</span><span class=w>
</span><span class=w>	</span><span class=p>(</span><span class=mi>5566</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;å®‹è¿œæ¡¥&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;ä¼šè®¡å¸ˆ&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>7800</span><span class=p>,</span><span class=w> </span><span class=mi>4000</span><span class=p>,</span><span class=w> </span><span class=mi>1000</span><span class=p>,</span><span class=w> </span><span class=mi>10</span><span class=p>),</span><span class=w>
</span><span class=w>	</span><span class=p>(</span><span class=mi>5234</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;éƒ­é–&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;å‡ºçº³&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>5566</span><span class=p>,</span><span class=w> </span><span class=mi>2000</span><span class=p>,</span><span class=w> </span><span class=k>null</span><span class=p>,</span><span class=w> </span><span class=mi>10</span><span class=p>),</span><span class=w>
</span><span class=w>	</span><span class=p>(</span><span class=mi>3344</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;é»„è“‰&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;é”€å”®ä¸»ç®¡&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>7800</span><span class=p>,</span><span class=w> </span><span class=mi>3000</span><span class=p>,</span><span class=w> </span><span class=mi>800</span><span class=p>,</span><span class=w> </span><span class=mi>30</span><span class=p>),</span><span class=w>
</span><span class=w>	</span><span class=p>(</span><span class=mi>1359</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;èƒ¡ä¸€åˆ€&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;é”€å”®å‘˜&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>3344</span><span class=p>,</span><span class=w> </span><span class=mi>1800</span><span class=p>,</span><span class=w> </span><span class=mi>200</span><span class=p>,</span><span class=w> </span><span class=mi>30</span><span class=p>),</span><span class=w>
</span><span class=w>	</span><span class=p>(</span><span class=mi>4466</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;è‹—äººå‡¤&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;é”€å”®å‘˜&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>3344</span><span class=p>,</span><span class=w> </span><span class=mi>2500</span><span class=p>,</span><span class=w> </span><span class=k>null</span><span class=p>,</span><span class=w> </span><span class=mi>30</span><span class=p>),</span><span class=w>
</span><span class=w>	</span><span class=p>(</span><span class=mi>3244</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;æ¬§é˜³é”‹&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;ç¨‹åºå‘˜&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>3088</span><span class=p>,</span><span class=w> </span><span class=mi>3200</span><span class=p>,</span><span class=w> </span><span class=k>null</span><span class=p>,</span><span class=w> </span><span class=mi>20</span><span class=p>),</span><span class=w>
</span><span class=w>	</span><span class=p>(</span><span class=mi>3577</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;æ¨è¿‡&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;ä¼šè®¡&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>5566</span><span class=p>,</span><span class=w> </span><span class=mi>2200</span><span class=p>,</span><span class=w> </span><span class=k>null</span><span class=p>,</span><span class=w> </span><span class=mi>10</span><span class=p>),</span><span class=w>
</span><span class=w>	</span><span class=p>(</span><span class=mi>3588</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;æœ±ä¹çœŸ&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;ä¼šè®¡&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>5566</span><span class=p>,</span><span class=w> </span><span class=mi>2500</span><span class=p>,</span><span class=w> </span><span class=k>null</span><span class=p>,</span><span class=w> </span><span class=mi>10</span><span class=p>);</span><span class=w>
</span></code></pre></td></tr></table></div></div></div><p>åœ¨Python 3ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨çº¯Pythonçš„ä¸‰æ–¹åº“PyMySQLæ¥è®¿é—®MySQLæ•°æ®åº“ï¼Œå®ƒåº”è¯¥æ˜¯ç›®å‰Pythonæ“ä½œMySQLæ•°æ®åº“æœ€å¥½çš„é€‰æ‹©ã€‚</p><ol><li><p>å®‰è£…PyMySQLã€‚</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Shell data-lang=Shell>pip install pymysql
</code></pre></td></tr></table></div></div></div></li><li><p>æ·»åŠ ä¸€ä¸ªéƒ¨é—¨ã€‚</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Python data-lang=Python><span class=kn>import</span> <span class=nn>pymysql</span>


<span class=k>def</span> <span class=nf>main</span><span class=p>():</span>
    <span class=n>no</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=nb>input</span><span class=p>(</span><span class=s1>&#39;ç¼–å·: &#39;</span><span class=p>))</span>
    <span class=n>name</span> <span class=o>=</span> <span class=nb>input</span><span class=p>(</span><span class=s1>&#39;åå­—: &#39;</span><span class=p>)</span>
    <span class=n>loc</span> <span class=o>=</span> <span class=nb>input</span><span class=p>(</span><span class=s1>&#39;æ‰€åœ¨åœ°: &#39;</span><span class=p>)</span>
    <span class=c1># 1. åˆ›å»ºæ•°æ®åº“è¿æ¥å¯¹è±¡</span>
    <span class=n>con</span> <span class=o>=</span> <span class=n>pymysql</span><span class=o>.</span><span class=n>connect</span><span class=p>(</span><span class=n>host</span><span class=o>=</span><span class=s1>&#39;localhost&#39;</span><span class=p>,</span> <span class=n>port</span><span class=o>=</span><span class=mi>3306</span><span class=p>,</span>
                          <span class=n>database</span><span class=o>=</span><span class=s1>&#39;hrs&#39;</span><span class=p>,</span> <span class=n>charset</span><span class=o>=</span><span class=s1>&#39;utf8&#39;</span><span class=p>,</span>
                          <span class=n>user</span><span class=o>=</span><span class=s1>&#39;yourname&#39;</span><span class=p>,</span> <span class=n>password</span><span class=o>=</span><span class=s1>&#39;yourpass&#39;</span><span class=p>)</span>
    <span class=k>try</span><span class=p>:</span>
        <span class=c1># 2. é€šè¿‡è¿æ¥å¯¹è±¡è·å–æ¸¸æ ‡</span>
        <span class=k>with</span> <span class=n>con</span><span class=o>.</span><span class=n>cursor</span><span class=p>()</span> <span class=k>as</span> <span class=n>cursor</span><span class=p>:</span>
            <span class=c1># 3. é€šè¿‡æ¸¸æ ‡æ‰§è¡ŒSQLå¹¶è·å¾—æ‰§è¡Œç»“æœ</span>
            <span class=n>result</span> <span class=o>=</span> <span class=n>cursor</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span>
                <span class=s1>&#39;insert into tb_dept values (</span><span class=si>%s</span><span class=s1>, </span><span class=si>%s</span><span class=s1>, </span><span class=si>%s</span><span class=s1>)&#39;</span><span class=p>,</span>
                <span class=p>(</span><span class=n>no</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>loc</span><span class=p>)</span>
            <span class=p>)</span>
        <span class=k>if</span> <span class=n>result</span> <span class=o>==</span> <span class=mi>1</span><span class=p>:</span>
            <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;æ·»åŠ æˆåŠŸ!&#39;</span><span class=p>)</span>
        <span class=c1># 4. æ“ä½œæˆåŠŸæäº¤äº‹åŠ¡</span>
        <span class=n>con</span><span class=o>.</span><span class=n>commit</span><span class=p>()</span>
    <span class=k>finally</span><span class=p>:</span>
        <span class=c1># 5. å…³é—­è¿æ¥é‡Šæ”¾èµ„æº</span>
        <span class=n>con</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>


<span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
    <span class=n>main</span><span class=p>()</span>
</code></pre></td></tr></table></div></div></div></li><li><p>åˆ é™¤ä¸€ä¸ªéƒ¨é—¨ã€‚</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Python data-lang=Python><span class=kn>import</span> <span class=nn>pymysql</span>


<span class=k>def</span> <span class=nf>main</span><span class=p>():</span>
    <span class=n>no</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=nb>input</span><span class=p>(</span><span class=s1>&#39;ç¼–å·: &#39;</span><span class=p>))</span>
    <span class=n>con</span> <span class=o>=</span> <span class=n>pymysql</span><span class=o>.</span><span class=n>connect</span><span class=p>(</span><span class=n>host</span><span class=o>=</span><span class=s1>&#39;localhost&#39;</span><span class=p>,</span> <span class=n>port</span><span class=o>=</span><span class=mi>3306</span><span class=p>,</span>
                          <span class=n>database</span><span class=o>=</span><span class=s1>&#39;hrs&#39;</span><span class=p>,</span> <span class=n>charset</span><span class=o>=</span><span class=s1>&#39;utf8&#39;</span><span class=p>,</span>
                          <span class=n>user</span><span class=o>=</span><span class=s1>&#39;yourname&#39;</span><span class=p>,</span> <span class=n>password</span><span class=o>=</span><span class=s1>&#39;yourpass&#39;</span><span class=p>,</span>
                          <span class=n>autocommit</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
    <span class=k>try</span><span class=p>:</span>
        <span class=k>with</span> <span class=n>con</span><span class=o>.</span><span class=n>cursor</span><span class=p>()</span> <span class=k>as</span> <span class=n>cursor</span><span class=p>:</span>
            <span class=n>result</span> <span class=o>=</span> <span class=n>cursor</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span>
                <span class=s1>&#39;delete from tb_dept where dno=</span><span class=si>%s</span><span class=s1>&#39;</span><span class=p>,</span>
                <span class=p>(</span><span class=n>no</span><span class=p>,</span> <span class=p>)</span>
            <span class=p>)</span>
        <span class=k>if</span> <span class=n>result</span> <span class=o>==</span> <span class=mi>1</span><span class=p>:</span>
            <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;åˆ é™¤æˆåŠŸ!&#39;</span><span class=p>)</span>
    <span class=k>finally</span><span class=p>:</span>
        <span class=n>con</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>


<span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
    <span class=n>main</span><span class=p>()</span>
</code></pre></td></tr></table></div></div></div><blockquote><p>è¯´æ˜ï¼šå¦‚æœä¸å¸Œæœ›æ¯æ¬¡SQLæ“ä½œä¹‹åæ‰‹åŠ¨æäº¤æˆ–å›æ»šäº‹åŠ¡ï¼Œå¯ä»¥åƒä¸Šé¢çš„ä»£ç é‚£æ ·ï¼Œåœ¨åˆ›å»ºè¿æ¥çš„æ—¶å€™å¤šåŠ ä¸€ä¸ªåä¸º<code>autocommit</code>çš„å‚æ•°å¹¶å°†å®ƒçš„å€¼è®¾ç½®ä¸º<code>True</code>ï¼Œè¡¨ç¤ºæ¯æ¬¡æ‰§è¡ŒSQLä¹‹åè‡ªåŠ¨æäº¤ã€‚å¦‚æœç¨‹åºä¸­ä¸éœ€è¦ä½¿ç”¨äº‹åŠ¡ç¯å¢ƒä¹Ÿä¸å¸Œæœ›æ‰‹åŠ¨çš„æäº¤æˆ–å›æ»šå°±å¯ä»¥è¿™ä¹ˆåšã€‚</p></blockquote></li><li><p>æ›´æ–°ä¸€ä¸ªéƒ¨é—¨ã€‚</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Python data-lang=Python><span class=kn>import</span> <span class=nn>pymysql</span>


<span class=k>def</span> <span class=nf>main</span><span class=p>():</span>
    <span class=n>no</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=nb>input</span><span class=p>(</span><span class=s1>&#39;ç¼–å·: &#39;</span><span class=p>))</span>
    <span class=n>name</span> <span class=o>=</span> <span class=nb>input</span><span class=p>(</span><span class=s1>&#39;åå­—: &#39;</span><span class=p>)</span>
    <span class=n>loc</span> <span class=o>=</span> <span class=nb>input</span><span class=p>(</span><span class=s1>&#39;æ‰€åœ¨åœ°: &#39;</span><span class=p>)</span>
    <span class=n>con</span> <span class=o>=</span> <span class=n>pymysql</span><span class=o>.</span><span class=n>connect</span><span class=p>(</span><span class=n>host</span><span class=o>=</span><span class=s1>&#39;localhost&#39;</span><span class=p>,</span> <span class=n>port</span><span class=o>=</span><span class=mi>3306</span><span class=p>,</span>
                          <span class=n>database</span><span class=o>=</span><span class=s1>&#39;hrs&#39;</span><span class=p>,</span> <span class=n>charset</span><span class=o>=</span><span class=s1>&#39;utf8&#39;</span><span class=p>,</span>
                          <span class=n>user</span><span class=o>=</span><span class=s1>&#39;yourname&#39;</span><span class=p>,</span> <span class=n>password</span><span class=o>=</span><span class=s1>&#39;yourpass&#39;</span><span class=p>,</span>
                          <span class=n>autocommit</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
    <span class=k>try</span><span class=p>:</span>
        <span class=k>with</span> <span class=n>con</span><span class=o>.</span><span class=n>cursor</span><span class=p>()</span> <span class=k>as</span> <span class=n>cursor</span><span class=p>:</span>
            <span class=n>result</span> <span class=o>=</span> <span class=n>cursor</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span>
                <span class=s1>&#39;update tb_dept set dname=</span><span class=si>%s</span><span class=s1>, dloc=</span><span class=si>%s</span><span class=s1> where dno=</span><span class=si>%s</span><span class=s1>&#39;</span><span class=p>,</span>
                <span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=n>loc</span><span class=p>,</span> <span class=n>no</span><span class=p>)</span>
            <span class=p>)</span>
        <span class=k>if</span> <span class=n>result</span> <span class=o>==</span> <span class=mi>1</span><span class=p>:</span>
            <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;æ›´æ–°æˆåŠŸ!&#39;</span><span class=p>)</span>
    <span class=k>finally</span><span class=p>:</span>
        <span class=n>con</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>


<span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
    <span class=n>main</span><span class=p>()</span>
</code></pre></td></tr></table></div></div></div></li><li><p>æŸ¥è¯¢æ‰€æœ‰éƒ¨é—¨ã€‚</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Python data-lang=Python><span class=kn>import</span> <span class=nn>pymysql</span>
<span class=kn>from</span> <span class=nn>pymysql.cursors</span> <span class=kn>import</span> <span class=n>DictCursor</span>


<span class=k>def</span> <span class=nf>main</span><span class=p>():</span>
    <span class=n>con</span> <span class=o>=</span> <span class=n>pymysql</span><span class=o>.</span><span class=n>connect</span><span class=p>(</span><span class=n>host</span><span class=o>=</span><span class=s1>&#39;localhost&#39;</span><span class=p>,</span> <span class=n>port</span><span class=o>=</span><span class=mi>3306</span><span class=p>,</span>
                          <span class=n>database</span><span class=o>=</span><span class=s1>&#39;hrs&#39;</span><span class=p>,</span> <span class=n>charset</span><span class=o>=</span><span class=s1>&#39;utf8&#39;</span><span class=p>,</span>
                          <span class=n>user</span><span class=o>=</span><span class=s1>&#39;yourname&#39;</span><span class=p>,</span> <span class=n>password</span><span class=o>=</span><span class=s1>&#39;yourpass&#39;</span><span class=p>)</span>
    <span class=k>try</span><span class=p>:</span>
        <span class=k>with</span> <span class=n>con</span><span class=o>.</span><span class=n>cursor</span><span class=p>(</span><span class=n>cursor</span><span class=o>=</span><span class=n>DictCursor</span><span class=p>)</span> <span class=k>as</span> <span class=n>cursor</span><span class=p>:</span>
            <span class=n>cursor</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span><span class=s1>&#39;select dno as no, dname as name, dloc as loc from tb_dept&#39;</span><span class=p>)</span>
            <span class=n>results</span> <span class=o>=</span> <span class=n>cursor</span><span class=o>.</span><span class=n>fetchall</span><span class=p>()</span>
            <span class=nb>print</span><span class=p>(</span><span class=n>results</span><span class=p>)</span>
            <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;ç¼–å·</span><span class=se>\t</span><span class=s1>åç§°</span><span class=se>\t\t</span><span class=s1>æ‰€åœ¨åœ°&#39;</span><span class=p>)</span>
            <span class=k>for</span> <span class=n>dept</span> <span class=ow>in</span> <span class=n>results</span><span class=p>:</span>
                <span class=nb>print</span><span class=p>(</span><span class=n>dept</span><span class=p>[</span><span class=s1>&#39;no&#39;</span><span class=p>],</span> <span class=n>end</span><span class=o>=</span><span class=s1>&#39;</span><span class=se>\t</span><span class=s1>&#39;</span><span class=p>)</span>
                <span class=nb>print</span><span class=p>(</span><span class=n>dept</span><span class=p>[</span><span class=s1>&#39;name&#39;</span><span class=p>],</span> <span class=n>end</span><span class=o>=</span><span class=s1>&#39;</span><span class=se>\t</span><span class=s1>&#39;</span><span class=p>)</span>
                <span class=nb>print</span><span class=p>(</span><span class=n>dept</span><span class=p>[</span><span class=s1>&#39;loc&#39;</span><span class=p>])</span>
    <span class=k>finally</span><span class=p>:</span>
        <span class=n>con</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>


<span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
    <span class=n>main</span><span class=p>()</span>
</code></pre></td></tr></table></div></div></div></li><li><p>åˆ†é¡µæŸ¥è¯¢å‘˜å·¥ä¿¡æ¯ã€‚</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Python data-lang=Python><span class=kn>import</span> <span class=nn>pymysql</span>
<span class=kn>from</span> <span class=nn>pymysql.cursors</span> <span class=kn>import</span> <span class=n>DictCursor</span>


<span class=k>class</span> <span class=nc>Emp</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>

    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>no</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>job</span><span class=p>,</span> <span class=n>sal</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>no</span> <span class=o>=</span> <span class=n>no</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>job</span> <span class=o>=</span> <span class=n>job</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>sal</span> <span class=o>=</span> <span class=n>sal</span>

    <span class=k>def</span> <span class=fm>__str__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>return</span> <span class=sa>f</span><span class=s1>&#39;</span><span class=se>\n</span><span class=s1>ç¼–å·ï¼š</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>no</span><span class=si>}</span><span class=se>\n</span><span class=s1>å§“åï¼š</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=se>\n</span><span class=s1>èŒä½ï¼š</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>job</span><span class=si>}</span><span class=se>\n</span><span class=s1>æœˆè–ªï¼š</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>sal</span><span class=si>}</span><span class=se>\n</span><span class=s1>&#39;</span>


<span class=k>def</span> <span class=nf>main</span><span class=p>():</span>
    <span class=n>page</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=nb>input</span><span class=p>(</span><span class=s1>&#39;é¡µç : &#39;</span><span class=p>))</span>
    <span class=n>size</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=nb>input</span><span class=p>(</span><span class=s1>&#39;å¤§å°: &#39;</span><span class=p>))</span>
    <span class=n>con</span> <span class=o>=</span> <span class=n>pymysql</span><span class=o>.</span><span class=n>connect</span><span class=p>(</span><span class=n>host</span><span class=o>=</span><span class=s1>&#39;localhost&#39;</span><span class=p>,</span> <span class=n>port</span><span class=o>=</span><span class=mi>3306</span><span class=p>,</span>
                          <span class=n>database</span><span class=o>=</span><span class=s1>&#39;hrs&#39;</span><span class=p>,</span> <span class=n>charset</span><span class=o>=</span><span class=s1>&#39;utf8&#39;</span><span class=p>,</span>
                          <span class=n>user</span><span class=o>=</span><span class=s1>&#39;yourname&#39;</span><span class=p>,</span> <span class=n>password</span><span class=o>=</span><span class=s1>&#39;yourpass&#39;</span><span class=p>)</span>
    <span class=k>try</span><span class=p>:</span>
        <span class=k>with</span> <span class=n>con</span><span class=o>.</span><span class=n>cursor</span><span class=p>()</span> <span class=k>as</span> <span class=n>cursor</span><span class=p>:</span>
            <span class=n>cursor</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span>
                <span class=s1>&#39;select eno as no, ename as name, job, sal from tb_emp limit </span><span class=si>%s</span><span class=s1>,</span><span class=si>%s</span><span class=s1>&#39;</span><span class=p>,</span>
                <span class=p>((</span><span class=n>page</span> <span class=o>-</span> <span class=mi>1</span><span class=p>)</span> <span class=o>*</span> <span class=n>size</span><span class=p>,</span> <span class=n>size</span><span class=p>)</span>
            <span class=p>)</span>
            <span class=k>for</span> <span class=n>emp_tuple</span> <span class=ow>in</span> <span class=n>cursor</span><span class=o>.</span><span class=n>fetchall</span><span class=p>():</span>
                <span class=n>emp</span> <span class=o>=</span> <span class=n>Emp</span><span class=p>(</span><span class=o>*</span><span class=n>emp_tuple</span><span class=p>)</span>
                <span class=nb>print</span><span class=p>(</span><span class=n>emp</span><span class=p>)</span>
    <span class=k>finally</span><span class=p>:</span>
        <span class=n>con</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>


<span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
    <span class=n>main</span><span class=p>()</span>
</code></pre></td></tr></table></div></div></div></li></ol></div><ul class=post-copyright><li class="copyright-item author"><span class=copyright-item-text>ä½œè€…</span>ï¼š<span class="p-author h-card">éª†æ˜Š</span></li><li class="copyright-item link"><span class=copyright-item-text>é“¾æ¥</span>ï¼š<a href=https://github.com/jackfrued/Python-100-Days target=_blank rel=noopener>https://github.com/jackfrued/Python-100-Days</a></li><li class="copyright-item license"><span class=copyright-item-text>è®¸å¯</span>ï¼šæœ¬æ–‡é‡‡ç”¨<a href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh target=_blank rel=noopener>ã€ŒCC BY-NC-SA 4.0ã€</a>åè®®ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</li></ul></article><div class=related-posts><h2 class=related-title>ç›¸å…³æ–‡ç« ï¼š<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon related-icon"><path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6.0-12-5.4-12-12v-92h-92c-6.6.0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6.0 12 5.4 12 12v92h92c6.6.0 12 5.4 12 12v56z"/></svg></h2><ul class=related-list><li class=related-item><a href=/python/01.%E5%88%9D%E8%AF%86python/ class=related-link>01.åˆè¯†Python</a></li><li class=related-item><a href=/python/02.%E8%AF%AD%E8%A8%80%E5%85%83%E7%B4%A0/ class=related-link>02.è¯­è¨€å…ƒç´ </a></li><li class=related-item><a href=/python/03.%E5%88%86%E6%94%AF%E7%BB%93%E6%9E%84/ class=related-link>03.åˆ†æ”¯ç»“æ„</a></li><li class=related-item><a href=/python/04.%E5%BE%AA%E7%8E%AF%E7%BB%93%E6%9E%84/ class=related-link>04.å¾ªç¯ç»“æ„</a></li><li class=related-item><a href=/python/05.%E6%9E%84%E9%80%A0%E7%A8%8B%E5%BA%8F%E9%80%BB%E8%BE%91/ class=related-link>05.æ„é€ ç¨‹åºé€»è¾‘</a></li></ul></div><div class=post-tags><a href=/tags/python/ rel=tag class=post-tags-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon tag-icon"><path d="M0 252.118V48C0 21.49 21.49.0 48 0h204.118a48 48 0 0133.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137.0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882.0L14.059 286.059A48 48 0 010 252.118zM112 64c-26.51.0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"/></svg>python</a></div></div></main><div id=back-to-top class=back-to-top><a href=#><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="icon arrow-up"><path d="M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6.0-33.9L207 39c9.4-9.4 24.6-9.4 33.9.0l194.3 194.3c9.4 9.4 9.4 24.6.0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3.0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"/></svg></a></div><footer id=footer class=footer><div class=footer-inner><div class=site-info>Â©&nbsp;2021â€“2022&nbsp;<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon footer-icon"><path d="M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3.0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"/></svg>&nbsp;hanxin</div><script src=https://sdk.jinrishici.com/v2/browser/jinrishici.js></script>
<text class=poem_sentence></text>
<text class=poem_info></text>
<script type=text/javascript>jinrishici.load(function(a){var b=document.querySelector(".poem_sentence"),c=document.querySelector(".poem_info");b.innerHTML=a.data.content,c.innerHTML='â€”â€”'+a.data.origin.author})</script></div></footer></div><script src=https://cdn.jsdelivr.net/npm/medium-zoom@latest/dist/medium-zoom.min.js></script>
<script>mediumZoom(document.querySelectorAll('div.post-body img'),{background:'hsla(var(--color-bg-h), var(--color-bg-s), var(--color-bg-l), 0.95)'})</script><script src=https://cdn.jsdelivr.net/npm/instant.page@5.1.0/instantpage.min.js type=module defer></script></body></html>